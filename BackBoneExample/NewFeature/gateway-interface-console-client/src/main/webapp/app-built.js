/*
 * jQuery Format Plugin v1.2
 * http://www.asual.com/jquery/format/
 *
 * Copyright (c) 2009-2011 Rostislav Hristov
 * Uses code by Matt Kruse
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Date: 2011-11-24 19:45:33 +0200 (Thu, 24 Nov 2011)
 */

// (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
// Backbone may be freely distributed under the MIT license.
// For all details and documentation:
// http://backbonejs.org

/* jqPlot 1.0.7r1224 | (c) 2009-2013 Chris Leonello | jplot.com
   jsDate | (c) 2010-2013 Chris Leonello
 */

/*! jQuery Validation Plugin - v1.11.1 - 3/22/2013\n* https://github.com/jzaefferer/jquery-validation
* Copyright (c) 2013 JÃ¶rn Zaefferer; Licensed MIT */

/**
 * @preserve JSizes - JQuery plugin v0.33
 *
 * Licensed under the revised BSD License.
 * Copyright 2008-2010 Bram Stein
 * All rights reserved.
 */

/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */

/*
 * Snippet :: jQuery Syntax Highlighter v2.0.0
 * http://steamdev.com/snippet
 *
 * Copyright 2011, SteamDev
 * Released under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Date: Wed Jan 19, 2011
 */

/* Copyright (C) 2007, 2008 gnombat@users.sourceforge.net */

/*
 * jQuery Mobile Framework : plugin to provide a dialogs Widget. ver2
 * Copyright (c) JTSage
 * CC 3.0 Attribution.  May be relicensed without permission/notifcation.
 * https://github.com/jtsage/jquery-mobile-simpledialog
 */

/*!
 * jQuery blockUI plugin
 * Version 2.59.0-2013.04.05
 * @requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */

/*
 * jQuery Mobile Framework : plugin to provide a date and time picker.
 * Copyright (c) JTSage
 * CC 3.0 Attribution.  May be relicensed without permission/notification.
 * https://github.com/jtsage/jquery-mobile-datebox
 */

/*
 * jQuery Mobile Framework : plugin to provide a date and time picker.
 * Copyright (c) JTSage
 * CC 3.0 Attribution.  May be relicensed without permission/notification.
 * https://github.com/jtsage/jquery-mobile-datebox
 */

function resetForm(e){e.find("input:text, input:password").val(""),e.find("select").val("0"),$("select").selectmenu("refresh")}function getCookie(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return null}function nformat(e,t){return t=t||app_config.numberPattern,$.fformat.number(e,t)}function dateFormat(e,t){return t=t||app_config.datePattern,typeof e=="string"?e=$.fformat.date(e,app_config.serverDatePattern):e=new Date(e),$.fformat.date(e,t)}function mformat(e){return e<0?'<span class="money">-'+app_config.currencySymbol+nformat(-e)+"</span>":'<span class="money">'+app_config.currencySymbol+nformat(e)+"</span>"}function typeFormat(e){return e.toLowerCase()=="buy"?'<span class="text-blue">'+e+"</span>":e.toLowerCase()=="sell"?'<span class="text-pink">'+e+"</span>":e}function totalValueLabel(e){return e>0?"DR":e<0?"CR":""}function formatDate(e,t){return day_date=e.getDate(),month_date=e.getMonth(),year_date=e.getFullYear(),t=t||"dd/mm/yyyy",t=="dd/mm/yyyy"?day_date+"/"+(month_date+1)+"/"+year_date:t=="dd/MMM/yyyy"?day_date+"/"+m_names[month_date]+"/"+year_date:t=="ddMMMyyyy"?day_date+m_names[month_date]+year_date:"format not supported: "+e}function localUpdate(e,t){currencyText=t,currency=t.substring(0,1);var n=$(e);n.parent().parent().hide().prev().html(t),$(".money").each(function(){that=$(this),that.replaceWith(mformat($.fformat.number(that.html().substring(1)),currency))}),ninoLabel=n.data("nino-label"),ninoInitial=n.data("nino"),$(".nino-label").each(function(){$(this).html(ninoLabel)}),$(".nino-initial").each(function(){$(this).html(ninoInitial)})}function escapeHtml(e){return typeof e=="string"?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e}function snippetPopup(e){top.consoleRef=window.open("","myconsole","width=600,height=300,left=50,top=50,menubar=0,toolbar=0,location=0,status=0,scrollbars=1,resizable=1"),top.consoleRef.document.writeln("<html><head><title>Snippet :: Code View :: "+location.href+"</title></head>"+'<body bgcolor=white onLoad="self.focus()">'+"<pre>"+e+"</pre>"+"</body></html>"),top.consoleRef.document.close()}function sh_isEmailAddress(e){return/^mailto:/.test(e)?!1:e.indexOf("@")!==-1}function sh_setHref(e,t,n){var r=n.substring(e[t-2].pos,e[t-1].pos);r.length>=2&&r.charAt(0)==="<"&&r.charAt(r.length-1)===">"&&(r=r.substr(1,r.length-2)),sh_isEmailAddress(r)&&(r="mailto:"+r),e[t-2].node.href=r}function sh_konquerorExec(e){var t=[""];return t.index=e.length,t.input=e,t}function sh_highlightString(e,t){if(/Konqueror/.test(navigator.userAgent)&&!t.konquered){for(var n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=t[n][r][0];i.source==="$"&&(i.exec=sh_konquerorExec)}t.konquered=!0}var s=document.createElement("a"),o=document.createElement("span"),u=[],a=0,f=[],l=0,c=null,h=function(t,n){var r=t.length;if(r===0)return;if(!n){var i=f.length;if(i!==0){var h=f[i-1];h[3]||(n=h[1])}}if(c!==n){c&&(u[a++]={pos:l},c==="sh_url"&&sh_setHref(u,a,e));if(n){var p;n==="sh_url"?p=s.cloneNode(!1):p=o.cloneNode(!1),p.className=n,u[a++]={node:p,pos:l}}}l+=r,c=n},p=/\r\n|\r|\n/g;p.lastIndex=0;var d=e.length;while(l<d){var v=l,m,g,y=p.exec(e);y===null?(m=d,g=d):(m=y.index,g=p.lastIndex);var b=e.substring(v,m),w=[];for(;;){var E=l-v,S,x=f.length;x===0?S=0:S=f[x-1][2];var T=t[S],N=T.length,C=w[S];C||(C=w[S]=[]);var k=null,L=-1;for(var A=0;A<N;A++){var O;if(A<C.length&&(C[A]===null||E<=C[A].index))O=C[A];else{var M=T[A][0];M.lastIndex=E,O=M.exec(b),C[A]=O}if(O!==null&&(k===null||O.index<k.index)){k=O,L=A;if(O.index===E)break}}if(k===null){h(b.substring(E),null);break}k.index>E&&h(b.substring(E,k.index),null);var _=T[L],D=_[1],P;if(D instanceof Array)for(var H=0;H<D.length;H++)P=k[H+1],h(P,D[H]);else P=k[0],h(P,D);switch(_[2]){case-1:break;case-2:f.pop();break;case-3:f.length=0;break;default:f.push(_)}}c&&(u[a++]={pos:l},c==="sh_url"&&sh_setHref(u,a,e),c=null),l=g}return u}function sh_getClasses(e){var t=[],n=e.className;if(n&&n.length>0){var r=n.split(" ");for(var i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return t}function sh_addClass(e,t){var n=sh_getClasses(e);for(var r=0;r<n.length;r++)if(t.toLowerCase()===n[r].toLowerCase())return;n.push(t),e.className=n.join(" ")}function sh_extractTagsFromNodeList(e,t){var n=e.length;for(var r=0;r<n;r++){var i=e.item(r);switch(i.nodeType){case 1:if(i.nodeName.toLowerCase()==="br"){var s;/MSIE/.test(navigator.userAgent)?s="\r":s="\n",t.text.push(s),t.pos++}else t.tags.push({node:i.cloneNode(!1),pos:t.pos}),sh_extractTagsFromNodeList(i.childNodes,t),t.tags.push({pos:t.pos});break;case 3:case 4:t.text.push(i.data),t.pos+=i.length}}}function sh_extractTags(e,t){var n={};return n.text=[],n.tags=t,n.pos=0,sh_extractTagsFromNodeList(e.childNodes,n),n.text.join("")}function sh_mergeTags(e,t){var n=e.length;if(n===0)return t;var r=t.length;if(r===0)return e;var i=[],s=0,o=0;while(s<n&&o<r){var u=e[s],a=t[o];u.pos<=a.pos?(i.push(u),s++):(i.push(a),t[o+1].pos<=u.pos?(o++,i.push(t[o]),o++):(i.push({pos:u.pos}),t[o]={node:a.node.cloneNode(!1),pos:u.pos}))}while(s<n)i.push(e[s]),s++;while(o<r)i.push(t[o]),o++;return i}function sh_insertTags(e,t){var n=document,r=document.createDocumentFragment(),i=0,s=e.length,o=0,u=t.length,a=r;while(o<u||i<s){var f,l;i<s?(f=e[i],l=f.pos):l=u;if(l<=o){if(f.node){var c=f.node;a.appendChild(c),a=c}else a=a.parentNode;i++}else a.appendChild(n.createTextNode(t.substring(o,l))),o=l}return r}function sh_highlightElement(e,t){sh_addClass(e,"sh_sourceCode");var n=[],r=sh_extractTags(e,n),i=sh_highlightString(r,t),s=sh_mergeTags(n,i),o=sh_insertTags(s,r);while(e.hasChildNodes())e.removeChild(e.firstChild);e.appendChild(o)}function sh_getXMLHttpRequest(){if(window.ActiveXObject)return new ActiveXObject("Msxml2.XMLHTTP");if(window.XMLHttpRequest)return new XMLHttpRequest;throw"No XMLHttpRequest implementation available"}function sh_load(language,element,prefix,suffix){if(language in sh_requests){sh_requests[language].push(element);return}sh_requests[language]=[element];var request=sh_getXMLHttpRequest(),url=prefix+"sh_"+language+suffix;request.open("GET",url,!0),request.onreadystatechange=function(){if(request.readyState===4)try{if(!!request.status&&request.status!==200)throw"HTTP error: status "+request.status;eval(request.responseText);var elements=sh_requests[language];for(var i=0;i<elements.length;i++)sh_highlightElement(elements[i],sh_languages[language])}finally{request=null}},request.send(null)}function sh_highlightDocument(e,t){var n=document.getElementsByTagName("pre");for(var r=0;r<n.length;r++){var i=n.item(r),s=i.className.toLowerCase(),o=s.replace(/sh_sourcecode/g,"");o.indexOf("sh_")!=-1&&(o=o.match(/(\bsh_)\w+\b/g)[0]);if(s.indexOf("sh_sourcecode")!=-1)continue;if(o.substr(0,3)==="sh_"){var u=o.substring(3);if(u in sh_languages)sh_highlightElement(i,sh_languages[u]);else{if(typeof e!="string"||typeof t!="string"){console.log('Found <pre> element with class="'+o+'", but no such language exists');continue}sh_load(u,i,e,t)}break}}}function loadCss(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}window.tpl={templates:{},loadTemplates:function(e,t){var n=this,r=function(i){var s=e[i];console.log("Loading template: "+s),$.get("tpl/"+s+".html",function(o){n.templates[s]=o,i++,i<e.length?r(i):t()})};r(0)},get:function(e){return this.templates[e]}},window.CommonUtils={processQueue:function(e){this.funcQueue=this.funcQueue||[],this.funcQueue.push(e);if(this.queueRunning)return;var t=this,n=function(){t.queueRunning=!0,console.log(t.funcQueue),console.log("running queue function, queue count: ",t.funcQueue.length);var e=t.funcQueue.shift();e(),t.funcQueue.length>0?setTimeout(function(){n()},200):t.queueRunning=!1};n()}},window.TooltipHelper={tooltipOffset:{x:10,y:20},initialize:function(){app_config&&app_config.tooltipOffset&&(this.tooltipOffset=app_config.tooltipOffset),this.tooltipElem||(this.tooltipElem=$('<span class="tooltip" />'),$("body").append(this.tooltipElem));if(!this.tooltipMouseMove){var e=this;this.tooltipMouseMove=function(t){e.offsetTooltip(t.pageX,t.pageY)},this.tooltipMouseOut=function(t){e.hideTooltip(t)}}},showTooltip:function(e,t){this.initialize();var n=$(e.currentTarget);this.tooltipText=t||n.attr("title")||"",this.tooltipElem.stop(!0,!0).fadeIn().html(this.tooltipText.replace("-","<br/>")),this.tooltipElem.css("min-width",this.tooltipElem.width()),this.offsetTooltip(e.pageX,e.pageY),n.attr("title",""),n.on("mousemove",this.tooltipMouseMove),n.on("mouseout",this.tooltipMouseOut)},hideTooltip:function(e){var t=$(e.currentTarget);t.attr("title",this.tooltipText),this.tooltipElem&&this.tooltipElem.stop(!0,!0).fadeOut(),t.off("mousemove",this.tooltipMouseMove),t.off("mouseout",this.tooltipMouseOut)},offsetTooltip:function(e,t){var n,r;e+this.tooltipOffset.x+this.tooltipElem.width()>=window.innerWidth?(this.tooltipElem.flipX=!0,n=e-this.tooltipElem.width()-this.tooltipOffset.x*2):(this.tooltipElem.flipX=!1,n=e+this.tooltipOffset.x),t+this.tooltipOffset.y+this.tooltipElem.height()+40>=window.innerHeight?(this.tooltipElem.flipY=!0,r=t-this.tooltipElem.height()-this.tooltipOffset.y*1.5):(this.tooltipElem.flipY=!1,r=t+this.tooltipOffset.y);var i=String.format("border-{0}-{1}-radius",this.tooltipElem.flipY?"bottom":"top",this.tooltipElem.flipX?"right":"left");this.tooltipElem.css("border-radius","8px").css(i,"0px").offset({left:n,top:r})},clearTooltip:function(e){}},define("commonUtils",["jquery"],function(){}),function(e){e.fformat=function(){var e="undefined",t=!0,n=!1,r={date:{format:"MMM dd, yyyy h:mm:ss a",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortDateFormat:"M/d/yyyy h:mm a",longDateFormat:"EEEE, MMMM dd, yyyy h:mm:ss a"},number:{format:"#,##0.0#",groupingSeparator:",",decimalSeparator:"."}};return{locale:function(e){a={a:6};if(e)for(var t in e)for(var n in e[t])r[t][n]=e[t][n];return r},date:function(t,n){var i=0,s=0,o=0,u="",a="",f,l;if(typeof t=="string"){var c=function(e,t,n,r){for(var i=r;i>=n;i--){var s=e.substring(t,t+i);if(s.length>=n&&(new RegExp(/^\d+$/)).test(s))return s}return null};typeof n==e&&(n=r.date.format);var h=!1,p=0,d=new Date,v=d.getYear(),m=d.getMonth()+1,g=1,y=d.getHours(),b=d.getMinutes(),w=d.getSeconds(),E=d.getMilliseconds(),S="",x,T;while(i<n.length){a="",u=n.charAt(i);while(n.charAt(i)==u&&i<n.length)a+=n.charAt(i++);a.indexOf("MMMM")>-1&&a.length>4&&(a="MMMM"),a.indexOf("EEEE")>-1&&a.length>4&&(a="EEEE");if(a=="yyyy"||a=="yy"||a=="y"){a=="yyyy"&&(f=4,l=4),a=="yy"&&(f=2,l=2),a=="y"&&(f=2,l=4),v=c(t,p,f,l);if(v===null)return 0;p+=v.length,v.length==2&&(v=parseInt(v,10),v>70?v=1900+v:v=2e3+v)}else if(a=="MMMM"){m=0;for(s=0,o=r.date.monthsFull.length;s<o;s++){x=r.date.monthsFull[s];if(t.substring(p,p+x.length).toLowerCase()==x.toLowerCase()){m=s+1,p+=x.length;break}}if(m<1||m>12)return 0}else if(a=="MMM"){m=0;for(s=0,o=r.date.monthsShort.length;s<o;s++){x=r.date.monthsShort[s];if(t.substring(p,p+x.length).toLowerCase()==x.toLowerCase()){m=s+1,p+=x.length;break}}if(m<1||m>12)return 0}else if(a=="EEEE")for(s=0,o=r.date.daysFull.length;s<o;s++){T=r.date.daysFull[s];if(t.substring(p,p+T.length).toLowerCase()==T.toLowerCase()){p+=T.length;break}}else if(a=="EEE")for(s=0,o=r.date.daysShort.length;s<o;s++){T=r.date.daysShort[s];if(t.substring(p,p+T.length).toLowerCase()==T.toLowerCase()){p+=T.length;break}}else if(a=="MM"||a=="M"){m=c(t,p,h?a.length:1,2);if(m===null||m<1||m>12)return 0;p+=m.length}else if(a=="dd"||a=="d"){g=c(t,p,h?a.length:1,2);if(g===null||g<1||g>31)return 0;p+=g.length}else if(a=="hh"||a=="h"){y=c(t,p,h?a.length:1,2);if(y===null||y<1||y>12)return 0;p+=y.length}else if(a=="HH"||a=="H"){y=c(t,p,h?a.length:1,2);if(y===null||y<0||y>23)return 0;p+=y.length}else if(a=="KK"||a=="K"){y=c(t,p,h?a.length:1,2);if(y===null||y<0||y>11)return 0;p+=y.length}else if(a=="kk"||a=="k"){y=c(t,p,h?a.length:1,2);if(y===null||y<1||y>24)return 0;p+=y.length,y--}else if(a=="mm"||a=="m"){b=c(t,p,h?a.length:1,2);if(b===null||b<0||b>59)return 0;p+=b.length}else if(a=="ss"||a=="s"){w=c(t,p,h?a.length:1,2);if(w===null||w<0||w>59)return 0;p+=w.length}else if(a=="SSS"||a=="SS"||a=="S"){E=c(t,p,h?a.length:1,3);if(E===null||E<0||E>999)return 0;p+=E.length}else if(a=="a"){var N=t.substring(p,p+2).toLowerCase();if(N=="am")S="AM";else{if(N!="pm")return 0;S="PM"}p+=2}else{if(a!=t.substring(p,p+a.length))return 0;p+=a.length}}if(p!=t.length)return 0;if(m==2)if(v%4===0&&v%100!==0||v%400===0){if(g>29)return 0}else if(g>28)return 0;if(m==4||m==6||m==9||m==11)if(g>30)return 0;return y<12&&S=="PM"?y=y-0+12:y>11&&S=="AM"&&(y-=12),new Date(v,m-1,g,y,b,w,E)}var C=function(t,n){return typeof n==e||n==2?(t>=0&&t<10?"0":"")+t:t>=0&&t<10?"00"+t:t>=10&&t<100?"0"+t:t};typeof n==e&&(n=r.date.format),l=t.getYear(),l<1e3&&(l=String(l+1900));var k=t.getMonth()+1,L=t.getDate(),A=t.getDay(),O=t.getHours(),M=t.getMinutes(),_=t.getSeconds(),D=t.getMilliseconds();t={y:l,yyyy:l,yy:String(l).substring(2,4),M:k,MM:C(k),MMM:r.date.monthsShort[k-1],MMMM:r.date.monthsFull[k-1],d:L,dd:C(L),EEE:r.date.daysShort[A],EEEE:r.date.daysFull[A],H:O,HH:C(O)},O===0?t.h=12:O>12?t.h=O-12:t.h=O,t.hh=C(t.h),t.k=O!==0?O:24,t.kk=C(t.k),O>11?t.K=O-12:t.K=O,t.KK=C(t.K),O>11?t.a="PM":t.a="AM",t.m=M,t.mm=C(M),t.s=_,t.ss=C(_),t.S=D,t.SS=C(D),t.SSS=C(D,3);var P="";i=0,u="",a="",_=!1;while(i<n.length){a="",u=n.charAt(i);if(u=="'")i++,n.charAt(i)==u?(P+=u,i++):_=!_;else{while(n.charAt(i)==u)a+=n.charAt(i++);a.indexOf("MMMM")!=-1&&a.length>4&&(a="MMMM"),a.indexOf("EEEE")!=-1&&a.length>4&&(a="EEEE"),typeof t[a]!=e&&!_?P+=t[a]:P+=a}}return P},number:function(t,n){var i,s,o,u,a,f,l;if(typeof t=="string")return i=r.number.groupingSeparator,o=r.number.decimalSeparator,u=t.indexOf(o),a=1,u!=-1&&(a=Math.pow(10,t.length-u-1)),t=t.replace(new RegExp("["+i+"]","g"),""),t=t.replace(new RegExp("["+o+"]"),"."),Math.round(t*a)/a;if(typeof n==e||n.length<1)n=r.number.format;i=",",s=n.lastIndexOf(i),o=".",u=n.indexOf(o);var c="",h="",p=t<0,d=n.substr(u+1).replace(/#/g,"").length,v=n.substr(u+1).length,m=10;t=Math.abs(t);if(u!=-1){h=r.number.decimalSeparator;if(v>0){a=1e3,m=Math.pow(m,v);var g=Math.round(parseInt(t*m*a-Math.round(t)*m*a,10)/a),y=String(g<0?Math.round(parseInt(t*m*a-parseInt(t,10)*m*a,10)/a):g),b=t.toString().split(".");if(typeof b[1]!=e)for(l=0;l<v;l++){if(!(b[1].substr(l,1)=="0"&&l<v-1)||y.length==v&&y.substr(0,1)!="0")break;y="0"+y}for(l=0;l<v-h.length;l++)y+="0";var w,E="";for(l=0;l<y.length;l++){w=y.substr(l,1);if(l>=d&&w=="0"&&/^0*$/.test(y.substr(l+1)))break;E+=w}h+=E}h==r.number.decimalSeparator&&(h="")}if(u!==0){h!=""?c=String(parseInt(Math.round(t*m)/m,10)):c=String(Math.round(t));var S=r.number.groupingSeparator,x=0;s!=-1&&(u!=-1?x=u-s:x=n.length-s,x--);if(x>0){var T=0,N="";l=c.length;while(l--)T!==0&&T%x===0&&(N=S+N),N=c.substr(l,1)+N,T++;c=N}var C;u!=-1?C=n.substr(0,u).replace(new RegExp("#|"+S,"g"),"").length:C=n.replace(new RegExp("#|"+S,"g"),"").length;var k=c.length;for(l=k;l<C;l++)c="0"+c}return f=c+h,(p?"-":"")+f}}}()}(jQuery),define("jqueryFormat",["jquery"],function(){}),define("utils",["commonUtils","jqueryFormat"],function(){}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,r){if(null!=e)if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){return(i=i&&t.call(r,e,s,o))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){return i||(i=t.call(r,e,s,o))?n:void 0}),!!i)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;r.computed>o&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(r>n||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:k(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;i>n.call(r,e[u])?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),s.push(e[r]))}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=Array(r);r>i;)s[i++]=e,e+=n;return s},x.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return 0===t.length&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,0>=f?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if("[object Array]"==i){if(o=e.length,u=o==t.length)for(;o--&&(u=O(e[o],t[o],n,r)););}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)&&(o++,!(u=x.has(t,c)&&O(e[c],t[c],n,r))))break;if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return O(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&1===e.nodeType},x.isArray=w||function(e){return"[object Array]"==f.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),"function"!=typeof /./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=x.invert(M.escape);var _={escape:RegExp("["+x.keys(M.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(M.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(_[e],function(t){return M[e][t]})}}),x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(x,e))}})};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(B,function(e){return"\\"+H[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var j=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(){}),function(){var e=this,t=e.Backbone,n=[],r=n.push,i=n.slice,s=n.splice,o;o="undefined"!=typeof exports?exports:e.Backbone={},o.VERSION="0.9.10";var u=e._;!u&&"undefined"!=typeof require&&(u=require("underscore")),o.$=e.jQuery||e.Zepto||e.ender,o.noConflict=function(){return e.Backbone=t,this},o.emulateHTTP=!1,o.emulateJSON=!1;var a=/\s+/,f=function(e,t,n,r){if(!n)return!0;if("object"==typeof n)for(var i in n)e[t].apply(e,[i,n[i]].concat(r));else{if(!a.test(n))return!0;n=n.split(a),i=0;for(var s=n.length;i<s;i++)e[t].apply(e,[n[i]].concat(r))}},l=function(e,t){var n,r=-1,i=e.length;switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);break;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,t[0]);break;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,t[0],t[1]);break;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,t[0],t[1],t[2]);break;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},n=o.Events={on:function(e,t,n){return!f(this,"on",e,[t,n])||!t?this:(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this)},once:function(e,t,n){if(!f(this,"once",e,[t,n])||!t)return this;var r=this,i=u.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n),this},off:function(e,t,n){var r,i,s,o,a,l,c,h;if(!this._events||!f(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:u.keys(this._events),a=0;for(l=o.length;a<l;a++)if(e=o[a],r=this._events[e]){s=[];if(t||n){c=0;for(h=r.length;c<h;c++)i=r[c],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&s.push(i)}this._events[e]=s}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!f(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(n,t),r&&l(r,arguments),this},listenTo:function(e,t,n){var r=this._listeners||(this._listeners={}),i=e._listenerId||(e._listenerId=u.uniqueId("l"));return r[i]=e,e.on(t,"object"==typeof t?this:n,this),this},stopListening:function(e,t,n){var r=this._listeners;if(r){if(e)e.off(t,"object"==typeof t?this:n,this),!t&&!n&&delete r[e._listenerId];else{"object"==typeof t&&(n=this);for(var i in r)r[i].off(t,n,this);this._listeners={}}return this}}};n.bind=n.on,n.unbind=n.off,u.extend(o,n);var c=o.Model=function(e,t){var n,r=e||{};this.cid=u.uniqueId("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{});if(n=u.result(this,"defaults"))r=u.defaults({},r,n);this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};u.extend(c.prototype,n,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return u.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,i,s,o,a,f,l;if(null==e)return this;"object"==typeof e?(i=e,n=t):(i={})[e]=t,n||(n={});if(!this._validate(i,n))return!1;s=n.unset,o=n.silent,e=[],a=this._changing,this._changing=!0,a||(this._previousAttributes=u.clone(this.attributes),this.changed={}),l=this.attributes,f=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],u.isEqual(l[r],t)||e.push(r),u.isEqual(f[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete l[r]:l[r]=t;if(!o){e.length&&(this._pending=!0),t=0;for(r=e.length;t<r;t++)this.trigger("change:"+e[t],this,l[e[t]],n)}if(a)return this;if(!o)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._changing=this._pending=!1,this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={},n;for(n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes,i;for(i in e)u.isEqual(r[i],t=e[i])||((n||(n={}))[i]=t);return n},previous:function(e){return null==e||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(e){e=e?u.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success;return e.success=function(e,n,r){if(!e.set(e.parse(n,r),r))return!1;t&&t(e,n,r)},this.sync("read",this,e)},save:function(e,t,n){var r,i,s=this.attributes;return null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,r&&(!n||!n.wait)&&!this.set(r,n)?!1:(n=u.extend({validate:!0},n),this._validate(r,n)?(r&&n.wait&&(this.attributes=u.extend({},s,r)),void 0===n.parse&&(n.parse=!0),i=n.success,n.success=function(e,t,n){e.attributes=s;var o=e.parse(t,n);n.wait&&(o=u.extend(r||{},o));if(u.isObject(o)&&!e.set(o,n))return!1;i&&i(e,t,n)},e=this.isNew()?"create":n.patch?"patch":"update","patch"===e&&(n.attrs=r),e=this.sync(e,this,n),r&&n.wait&&(this.attributes=s),e):!1)},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(e,t,i){(i.wait||e.isNew())&&r(),n&&n(e,t,i)};if(this.isNew())return e.success(this,null,e),!1;var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||k();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return!this.validate||!this.validate(this.attributes,e)},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,t||{}),!1):!0}});var h=o.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this.models=[],this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))};u.extend(h.prototype,n,{model:c,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){e=u.isArray(e)?e.slice():[e],t||(t={});var n,i,o,a,f,l,c,h,p,d;c=[],h=t.at,p=this.comparator&&null==h&&0!=t.sort,d=u.isString(this.comparator)?this.comparator:null,n=0;for(i=e.length;n<i;n++)(o=this._prepareModel(a=e[n],t))?(f=this.get(o))?t.merge&&(f.set(a===o?o.attributes:a,t),p&&!l&&f.hasChanged(d)&&(l=!0)):(c.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)):this.trigger("invalid",this,a,t);c.length&&(p&&(l=!0),this.length+=c.length,null!=h?s.apply(this.models,[h,0].concat(c)):r.apply(this.models,c)),l&&this.sort({silent:!0});if(t.silent)return this;n=0;for(i=c.length;n<i;n++)(o=c[n]).trigger("add",o,this,t);return l&&this.trigger("sort",this,t),this},remove:function(e,t){e=u.isArray(e)?e.slice():[e],t||(t={});var n,r,i,s;n=0;for(r=e.length;n<r;n++)if(s=this.get(e[n]))delete this._byId[s.id],delete this._byId[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s);return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){if(null!=e)return this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[e.id||e.cid||e[this._idAttr]||e]},at:function(e){return this.models[e]},where:function(e){return u.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return e||(e={}),u.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return u.invoke(this.models,"get",e)},update:function(e,t){t=u.extend({add:!0,merge:!0,remove:!0},t),t.parse&&(e=this.parse(e,t));var n,r,i,s,o=[],a=[],f={};u.isArray(e)||(e=e?[e]:[]);if(t.add&&!t.remove)return this.add(e,t);r=0;for(i=e.length;r<i;r++)n=e[r],s=this.get(n),t.remove&&s&&(f[s.cid]=!0),(t.add&&!s||t.merge&&s)&&o.push(n);if(t.remove){r=0;for(i=this.models.length;r<i;r++)n=this.models[r],f[n.cid]||a.push(n)}return a.length&&this.remove(a,t),o.length&&this.add(o,t),this},reset:function(e,t){t||(t={}),t.parse&&(e=this.parse(e,t));for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models.slice(),this._reset(),e&&this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?u.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success;return e.success=function(e,n,r){e[r.update?"update":"reset"](n,r),t&&t(e,n,r)},this.sync("read",this,e)},create:function(e,t){t=t?u.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models.length=0,this._byId={}},_prepareModel:function(e,t){if(e instanceof c)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"===e||"remove"===e)&&n!==this||("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))},sortedIndex:function(e,t,n){t||(t=this.comparator);var r=u.isFunction(t)?t:function(e){return e.get(t)};return u.sortedIndex(this.models,e,r,n)}}),u.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(e){h.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}}),u.each(["groupBy","countBy","sortBy"],function(e){h.prototype[e]=function(t,n){var r=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,r,n)}});var p=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},d=/\((.*?)\)/g,v=/(\(\?)?:\w+/g,m=/\*\w+/g,g=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(p.prototype,n,{initialize:function(){},route:function(e,t,n){return u.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),o.history.route(e,u.bind(function(r){r=this._extractParameters(e,r),n&&n.apply(this,r),this.trigger.apply(this,["route:"+t].concat(r)),this.trigger("route",t,r),o.history.trigger("route",this,t,r)},this)),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(this.routes)for(var e,t=u.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(g,"\\$&").replace(d,"(?:$1)?").replace(v,function(e,t){return t?e:"([^/]+)"}).replace(m,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var y=o.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},b=/^[#\/]|\s+$/g,w=/^\/+|\/+$/g,E=/msie [\w.]+/,S=/\/$/;y.started=!1,u.extend(y.prototype,n,{interval:50,getHash:function(e){return(e=(e||this).location.href.match(/#(.*)$/))?e[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(S,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(b,"")},start:function(e){if(y.started)throw Error("Backbone.history has already been started");y.started=!0,this.options=u.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState),e=this.getFragment();var t=document.documentMode,t=E.exec(navigator.userAgent.toLowerCase())&&(!t||7>=t);this.root=("/"+this.root+"/").replace(w,"/"),t&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?o.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!t?o.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e,e=this.location,t=e.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!t)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&t&&e.hash&&(this.fragment=this.getHash().replace(b,""),this.history.replaceState({},document.title,this.root+this.fragment+e.search));if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),y.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe)));if(e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e);return u.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})},navigate:function(e,t){if(!y.started)return!1;if(!t||!0===t)t={trigger:t};e=this.getFragment(e||"");if(this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){n?(n=e.href.replace(/(javascript:|#).*$/,""),e.replace(n+"#"+t)):e.hash="#"+t}}),o.history=new y;var x=o.View=function(e){this.cid=u.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},T=/^(\S+)\s*(.*)$/,N="model collection el id attributes className tagName events".split(" ");u.extend(x.prototype,n,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],!1!==t&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=u.result(this,"events"))){this.undelegateEvents();for(var t in e){var n=e[t];u.isFunction(n)||(n=this[e[t]]);if(!n)throw Error('Method "'+e[t]+'" does not exist');var r=t.match(T),i=r[1],r=r[2],n=u.bind(n,this),i=i+(".delegateEvents"+this.cid);""===r?this.$el.on(i,n):this.$el.on(i,r,n)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=u.extend({},u.result(this,"options"),e)),u.extend(this,u.pick(e,N)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(u.result(this,"el"),!1);else{var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className")),e=o.$("<"+u.result(this,"tagName")+">").attr(e),this.setElement(e,!1)}}});var C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.sync=function(e,t,n){var r=C[e];u.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=u.result(t,"url")||k()),null==n.data&&t&&("create"===e||"update"===e||"patch"===e)&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}"GET"!==i.type&&!n.emulateJSON&&(i.processData=!1);var a=n.success;n.success=function(e){a&&a(t,e,n),t.trigger("sync",t,e,n)};var f=n.error;return n.error=function(e){f&&f(t,e,n),t.trigger("error",t,e,n)},e=n.xhr=o.ajax(u.extend(i,n)),t.trigger("request",t,e,n),e},o.ajax=function(){return o.$.ajax.apply(o.$,arguments)},c.extend=h.extend=p.extend=x.extend=y.extend=function(e,t){var n=this,r;r=e&&u.has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)},u.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&u.extend(r.prototype,e),r.__super__=n.prototype,r};var k=function(){throw Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore","jquery"],function(){}),window.CacheRouter=Backbone.Router.extend({initialize:function(){this.firstPage=!0,this.navigating=!1,this.currentPage="",this.pageCache={},this.autoRouteFromRoutes()},navigate:function(e,t){t=t||{},_.defaults(t,{trigger:!0}),Backbone.Router.prototype.navigate.apply(this,[e,t])},autoRouteFromRoutes:function(){this.route("*any","handleRouteAny",this.handleRouteAny);if(this.routes)for(var e in this.routes)this.route(e,this.routes[e],this[this.routes[e]])},handleRouteAny:function(e,t){console.log("handling route: "),console.log(e);if(!this.routes||!this.routes[e]){e.startsWith("#")&&(e=e.slice(1));var n=[],r=e;return e.indexOf("/")>0&&(n=e.split("/"),r=n[0]),this.getPage(r)===undefined&&(console.log("creating page"),console.log("Class name: ",this.getPageClassName(r)),typeof window[this.getPageClassName(r)]=="function"?this.cachePage(r,new(window[this.getPageClassName(r)])({params:n}),t):this.cachePage(r,new NotFoundPage,0)),this.navigate(e,{trigger:!1,replace:!0}),this.changePage(r),!0}return!1},getPageClassName:function(e){var t=e;return e.indexOf("/")>0&&(t=e.slice(0,e.indexOf("/"))),t.charAt(0).toUpperCase()+t.slice(1)+"Page"},changePage:function(e){console.log("Before changing page to: "+e),$.contains(document.documentElement,$.mobile.activePage[0])||(this.emptyPage=this.emptyPage||$("body div:first-child"),$.mobile.activePage=this.emptyPage);var t=$.mobile.defaultPageTransition;this.firstPage&&(t="none",this.firstPage=!1),$.mobile.changePage("#"+e,{changeHash:!1,transition:t}),this.firstPage=!1,this.currentPage=e},getPage:function(e){if(this.pageCache[e]){if(!(this.pageCache[e].duration!=0&&(new Date).getTime()-this.pageCache[e].cachedTime>this.pageCache[e].duration))return this.pageCache[e].page;this.clearPage(e)}return undefined},clearPage:function(e,t){t||this.pageCache[e]&&(this.pageCache[e].page.cachExpireHandler&&this.pageCache[e].page.cachExpireHandler(this),delete this.pageCache[e]),console.log("clearing page: ",e),$("#"+e).empty().remove()},cachePage:function(e,t,n){console.log("cachePage: "+e),this.pageCache[e]=this.pageCache[e]||{},this.pageCache[e].page=t,this.pageCache[e].cachedTime=(new Date).getTime(),n=n||0,app_config&&typeof app_config.maxPageCacheTime=="number"?n=app_config.maxPageCacheTime:n=18e5,this.pageCache[e].duration=n,t.pageId=e,$("#"+e).empty().remove(),$("body").append(t.render().el)},destroyPageCache:function(e){e=e||[];for(key in this.pageCache){if($.inArray(key,e)>-1)continue;this.clearPage(key)}this.firstPage=!0,this.navigating=!1,this.currentPage="",this.pageCache={}},reset:function(){if(Backbone.activeAjaxQueue.length>0){for(var e=0,t=Backbone.activeAjaxQueue.length;e<t;e++)Backbone.activeAjaxQueue[e].readyState>0&&Backbone.activeAjaxQueue[e].readyState<4&&Backbone.activeAjaxQueue[e].abort();Backbone.activeAjaxQueue=[]}}}),define("commonActions",["backbone"],function(){}),function(e){var t=!1,n=!1,r=5e3,i=2e3,s=0,o=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}();Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=0,r=this.length;n<r;++n)e.call(t,this[n],n,this)});var u=window.requestAnimationFrame||!1,f=window.cancelAnimationFrame||!1;["ms","moz","webkit","o"].forEach(function(e){u||(u=window[e+"RequestAnimationFrame"]),f||(f=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"])});var l=window.MutationObserver||window.WebKitMutationObserver||!1,c={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1},h=!1,p=function(){if(h)return h;var e=document.createElement("DIV"),t={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};t.isopera="opera"in window,t.isopera12=t.isopera&&"getUserMedia"in navigator,t.isie="all"in document&&"attachEvent"in e&&!t.isopera,t.isieold=t.isie&&!("msInterpolationMode"in e.style),t.isie7=t.isie&&!t.isieold&&(!("documentMode"in document)||7==document.documentMode),t.isie8=t.isie&&"documentMode"in document&&8==document.documentMode,t.isie9=t.isie&&"performance"in window&&9<=document.documentMode,t.isie10=t.isie&&"performance"in window&&10<=document.documentMode,t.isie9mobile=/iemobile.9/i.test(navigator.userAgent),t.isie9mobile&&(t.isie9=!1),t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent),t.ismozilla="MozAppearance"in e.style,t.iswebkit="WebkitAppearance"in e.style,t.ischrome="chrome"in window,t.ischrome22=t.ischrome&&t.haspointerlock,t.ischrome26=t.ischrome&&"transition"in e.style,t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,t.hasmstouch=window.navigator.msPointerEnabled||!1,t.ismac=/^mac$/i.test(navigator.platform),t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),t.isios4=t.isios&&!("seal"in Object),t.isandroid=/android/i.test(navigator.userAgent),t.trstyle=!1,t.hastransform=!1,t.hastranslate3d=!1,t.transitionstyle=!1,t.hastransition=!1,t.transitionend=!1;for(var n=["transform","msTransform","webkitTransform","MozTransform","OTransform"],r=0;r<n.length;r++)if("undefined"!=typeof e.style[n[r]]){t.trstyle=n[r];break}t.hastransform=0!=t.trstyle,t.hastransform&&(e.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(e.style[t.trstyle])),t.transitionstyle=!1,t.prefixstyle="",t.transitionend=!1;for(var n="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),i=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),s="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),r=0;r<n.length;r++)if(n[r]in e.style){t.transitionstyle=n[r],t.prefixstyle=i[r],t.transitionend=s[r];break}t.ischrome26&&(t.prefixstyle=i[1]),t.hastransition=t.transitionstyle;e:{n=["-moz-grab","-webkit-grab","grab"];if(t.ischrome&&!t.ischrome22||t.isie)n=[];for(r=0;r<n.length;r++)if(i=n[r],e.style.cursor=i,e.style.cursor==i){n=i;break e}n="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return t.cursorgrabvalue=n,t.hasmousecapture="setCapture"in e,t.hasMutationObserver=!1!==l,h=t},d=function(a,h){function d(){var e=b.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function m(e,t,n){return t=e.css(t),e=parseFloat(t),isNaN(e)?(e=N[t]||0,n=3==e?n?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1,b.isie8&&e&&(e+=1),n?e:0):e}function g(e,t,n,r){b._bind(e,t,function(r){r=r?r:window.event;var i={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return"mousewheel"==t?(i.deltaY=-0.025*r.wheelDelta,r.wheelDeltaX&&(i.deltaX=-0.025*r.wheelDeltaX)):i.deltaY=r.detail,n.call(e,i)},r)}function y(e,t,n){var r,i;0==e.deltaMode?(r=-Math.floor(e.deltaX*(b.opt.mousescrollstep/54)),i=-Math.floor(e.deltaY*(b.opt.mousescrollstep/54))):1==e.deltaMode&&(r=-Math.floor(e.deltaX*b.opt.mousescrollstep),i=-Math.floor(e.deltaY*b.opt.mousescrollstep)),t&&0==r&&i&&(r=i,i=0),r&&(b.scrollmom&&b.scrollmom.stop(),b.lastdeltax+=r,b.debounced("mousewheelx",function(){var e=b.lastdeltax;b.lastdeltax=0,b.rail.drag||b.doScrollLeftBy(e)},120));if(i){if(b.opt.nativeparentscrolling&&n&&!b.ispage&&!b.zoomactive)if(0>i){if(b.getScrollTop()>=b.page.maxh)return!0}else if(0>=b.getScrollTop())return!0;b.scrollmom&&b.scrollmom.stop(),b.lastdeltay+=i,b.debounced("mousewheely",function(){var e=b.lastdeltay;b.lastdeltay=0,b.rail.drag||b.doScrollBy(e)},120)}return e.stopImmediatePropagation(),e.preventDefault()}var b=this;this.version="3.4.0",this.name="nicescroll",this.me=h,this.opt={doc:e("body"),win:!1},e.extend(this.opt,c),this.opt.snapbackspeed=80;if(a)for(var E in b.opt)"undefined"!=typeof a[E]&&(b.opt[E]=a[E]);this.iddoc=(this.doc=b.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML/.test(b.opt.win?b.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==b.opt.win,this.win=b.opt.win||(this.ispage?e(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win,this.body=e("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=b.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do this.id="ascrail"+i++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=b.opt.overflowx,this.overflowy=b.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=p();var S=e.extend({},this.detected);this.ishwscroll=(this.canhwscroll=S.hastransform&&b.opt.hwacceleration)&&b.haswrapper,this.istouchcapable=!1,S.cantouch&&S.ischrome&&!S.isios&&!S.isandroid&&(this.istouchcapable=!0,S.cantouch=!1),S.cantouch&&S.ismozilla&&!S.isios&&(this.istouchcapable=!0,S.cantouch=!1),b.opt.enablemouselockapi||(S.hasmousecapture=!1,S.haspointerlock=!1),this.delayed=function(e,t,n,r){var i=b.delaylist[e],s=(new Date).getTime();if(!r&&i&&i.tt)return!1;i&&i.tt&&clearTimeout(i.tt);if(i&&i.last+n>s&&!i.tt)b.delaylist[e]={last:s+n,tt:setTimeout(function(){b.delaylist[e].tt=0,t.call()},n)};else if(!i||!i.tt)b.delaylist[e]={last:s,tt:0},setTimeout(function(){t.call()},0)},this.debounced=function(e,t,n){var r=b.delaylist[e];(new Date).getTime(),b.delaylist[e]=t,r||setTimeout(function(){var t=b.delaylist[e];b.delaylist[e]=!1,t.call()},n)},this.synched=function(e,t){return b.synclist[e]=t,function(){b.onsync||(u(function(){b.onsync=!1;for(e in b.synclist){var t=b.synclist[e];t&&t.call(b),b.synclist[e]=!1}}),b.onsync=!0)}(),e},this.unsynched=function(e){b.synclist[e]&&(b.synclist[e]=!1)},this.css=function(e,t){for(var n in t)b.saved.css.push([e,n,e.css(n)]),e.css(n,t[n])},this.scrollTop=function(e){return"undefined"==typeof e?b.getScrollTop():b.setScrollTop(e)},this.scrollLeft=function(e){return"undefined"==typeof e?b.getScrollLeft():b.setScrollLeft(e)},BezierClass=function(e,t,n,r,i,s,o){this.st=e,this.ed=t,this.spd=n,this.p1=r||0,this.p2=i||1,this.p3=s||0,this.p4=o||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},S.hastranslate3d&&S.isios&&this.doc.css("-webkit-backface-visibility","hidden");var T=function(){var e=b.doc.css(S.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(e){if(!e){if(e=T())return 16==e.length?-e[13]:-e[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=T())return 16==e.length?-e[12]:-e[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),e.dispatchEvent(t)}:document.fireEvent?function(e){var t=document.createEventObject();e.fireEvent("onscroll"),t.cancelBubble=!0}:function(e,t){},S.hastranslate3d&&b.opt.enabletranslate3d?(this.setScrollTop=function(e,t){b.doc.translate.y=e,b.doc.translate.ty=-1*e+"px",b.doc.css(S.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)"),t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e,b.doc.translate.tx=-1*e+"px",b.doc.css(S.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)"),t||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(e,t){b.doc.translate.y=e,b.doc.translate.ty=-1*e+"px",b.doc.css(S.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e,b.doc.translate.tx=-1*e+"px",b.doc.css(S.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),t||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(e){return b.docscroll.scrollTop(e)},this.getScrollLeft=function(){return b.docscroll.scrollLeft()},this.setScrollLeft=function(e){return b.docscroll.scrollLeft(e)};this.getTarget=function(e){return e?e.target?e.target:e.srcElement?e.srcElement:!1:!1},this.hasParent=function(e,t){if(!e)return!1;for(var n=e.target||e.srcElement||e||!1;n&&n.id!=t;)n=n.parentNode||!1;return!1!==n};var N={thin:1,medium:3,thick:5};this.getOffset=function(){if(b.isfixed)return{top:parseFloat(b.win.css("top")),left:parseFloat(b.win.css("left"))};if(!b.viewport)return b.win.offset();var e=b.win.offset(),t=b.viewport.offset();return{top:e.top-t.top+b.viewport.scrollTop(),left:e.left-t.left+b.viewport.scrollLeft()}},this.updateScrollBar=function(e){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()}),b.railh&&b.railh.css({width:b.win.innerWidth()});else{var t=b.getOffset(),n=t.top,r=t.left,n=n+m(b.win,"border-top-width",!0);b.win.outerWidth(),b.win.innerWidth();var r=r+(b.rail.align?b.win.outerWidth()-m(b.win,"border-right-width")-b.rail.width:m(b.win,"border-left-width")),i=b.opt.railoffset;i&&(i.top&&(n+=i.top),b.rail.align&&i.left&&(r+=i.left)),b.locked||b.rail.css({top:n,left:r,height:e?e.h:b.win.innerHeight()}),b.zoom&&b.zoom.css({top:n+1,left:1==b.rail.align?r-20:r+b.rail.width+4}),b.railh&&!b.locked&&(n=t.top,r=t.left,e=b.railh.align?n+m(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:n+m(b.win,"border-top-width",!0),r+=m(b.win,"border-left-width"),b.railh.css({top:e,left:r,width:b.railh.width}))}},this.doRailClick=function(e,t,n){var r;b.locked||(b.cancelEvent(e),t?(t=n?b.doScrollLeft:b.doScrollTop,r=n?(e.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(e.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,t(r)):(t=n?b.doScrollLeftBy:b.doScrollBy,r=n?b.scroll.x:b.scroll.y,e=n?e.pageX-b.railh.offset().left:e.pageY-b.rail.offset().top,n=n?b.view.w:b.view.h,r>=e?t(n):t(-n)))},b.hasanimationframe=u,b.hascancelanimationframe=f,b.hasanimationframe?b.hascancelanimationframe||(f=function(){b.cancelAnimationFrame=!0}):(u=function(e){return setTimeout(e,15-Math.floor(+(new Date)/1e3)%16)},f=clearInterval),this.init=function(){b.saved.css=[];if(S.isie7mobile)return!0;S.hasmstouch&&b.css(b.ispage?e("html"):b.win,{"-ms-touch-action":"none"}),b.zindex="auto",b.zindex=!b.ispage&&"auto"==b.opt.zindex?d()||"auto":b.opt.zindex,!b.ispage&&"auto"!=b.zindex&&b.zindex>s&&(s=b.zindex),b.isie&&0==b.zindex&&"auto"==b.opt.zindex&&(b.zindex="auto");if(!b.ispage||!S.cantouch&&!S.isieold&&!S.isie9mobile){var i=b.docscroll;b.ispage&&(i=b.haswrapper?b.win:b.doc),S.isie9mobile||b.css(i,{"overflow-y":"hidden"}),b.ispage&&S.isie7&&("BODY"==b.doc[0].nodeName?b.css(e("html"),{"overflow-y":"hidden"}):"HTML"==b.doc[0].nodeName&&b.css(e("body"),{"overflow-y":"hidden"})),S.isios&&!b.ispage&&!b.haswrapper&&b.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var u=e(document.createElement("div"));u.css({position:"relative",top:0,"float":"right",width:b.opt.cursorwidth,height:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius}),u.hborder=parseFloat(u.outerHeight()-u.innerHeight()),b.cursor=u;var a=e(document.createElement("div"));a.attr("id",b.id),a.addClass("nicescroll-rails");var f,c,h=["left","right"],p;for(p in h)c=h[p],(f=b.opt.railpadding[c])?a.css("padding-"+c,f+"px"):b.opt.railpadding[c]=0;a.append(u),a.width=Math.max(parseFloat(b.opt.cursorwidth),u.outerWidth())+b.opt.railpadding.left+b.opt.railpadding.right,a.css({width:a.width+"px",zIndex:b.zindex,background:b.opt.background,cursor:"default"}),a.visibility=!0,a.scrollable=!0,a.align="left"==b.opt.railalign?0:1,b.rail=a,u=b.rail.drag=!1,b.opt.boxzoom&&!b.ispage&&!S.isieold&&(u=document.createElement("div"),b.bind(u,"click",b.doZoom),b.zoom=e(u),b.zoom.css({cursor:"pointer","z-index":b.zindex,backgroundImage:"url("+o+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),b.opt.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),S.cantouch&&b.opt.gesturezoom&&(b.ongesturezoom=function(e){return 1.5<e.scale&&b.doZoomIn(e),.8>e.scale&&b.doZoomOut(e),b.cancelEvent(e)},b.bind(b.win,"gestureend",b.ongesturezoom))),b.railh=!1;if(b.opt.horizrailenabled){b.css(i,{"overflow-x":"hidden"}),u=e(document.createElement("div")),u.css({position:"relative",top:0,height:b.opt.cursorwidth,width:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius}),u.wborder=parseFloat(u.outerWidth()-u.innerWidth()),b.cursorh=u;var m=e(document.createElement("div"));m.attr("id",b.id+"-hr"),m.addClass("nicescroll-rails"),m.height=Math.max(parseFloat(b.opt.cursorwidth),u.outerHeight()),m.css({height:m.height+"px",zIndex:b.zindex,background:b.opt.background}),m.append(u),m.visibility=!0,m.scrollable=!0,m.align="top"==b.opt.railvalign?0:1,b.railh=m,b.railh.drag=!1}b.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.align?a.css({right:"0px"}):a.css({left:"0px"}),b.body.append(a),b.railh&&(m.css({position:"fixed",left:"0px",width:"100%"}),m.align?m.css({bottom:"0px"}):m.css({top:"0px"}),b.body.append(m))):(b.ishwscroll?("static"==b.win.css("position")&&b.css(b.win,{position:"relative"}),i="HTML"==b.win[0].nodeName?b.body:b.win,b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),i.append(b.zoom)),a.css({position:"absolute",top:0}),a.align?a.css({right:0}):a.css({left:0}),i.append(a),m&&(m.css({position:"absolute",left:0,bottom:0}),m.align?m.css({bottom:0}):m.css({top:0}),i.append(m))):(b.isfixed="fixed"==b.win.css("position"),i=b.isfixed?"fixed":"absolute",b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport,0==/relative|absolute/.test(b.viewport.css("position"))&&b.css(b.viewport,{position:"relative"})),a.css({position:i}),b.zoom&&b.zoom.css({position:i}),b.updateScrollBar(),b.body.append(a),b.zoom&&b.body.append(b.zoom),b.railh&&(m.css({position:i}),b.body.append(m))),S.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),S.isie&&b.opt.disableoutline&&b.win.attr("hideFocus","true"),S.iswebkit&&b.opt.disableoutline&&b.win.css({outline:"none"})),!1===b.opt.autohidemode?(b.autohidedom=!1,b.rail.css({opacity:b.opt.cursoropacitymax}),b.railh&&b.railh.css({opacity:b.opt.cursoropacitymax})):!0===b.opt.autohidemode?(b.autohidedom=e().add(b.rail),S.isie8&&(b.autohidedom=b.autohidedom.add(b.cursor)),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh)),b.railh&&S.isie8&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"scroll"==b.opt.autohidemode?(b.autohidedom=e().add(b.rail),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh))):"cursor"==b.opt.autohidemode?(b.autohidedom=e().add(b.cursor),b.railh&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"hidden"==b.opt.autohidemode&&(b.autohidedom=!1,b.hide(),b.locked=!1);if(S.isie9mobile)b.scrollmom=new v(b),b.onmangotouch=function(e){e=b.getScrollTop();var t=b.getScrollLeft();if(e==b.scrollmom.lastscrolly&&t==b.scrollmom.lastscrollx)return!0;var n=e-b.mangotouch.sy,r=t-b.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(n,2)))){var i=0>n?-1:1,s=0>r?-1:1,o=+(new Date);b.mangotouch.lazy&&clearTimeout(b.mangotouch.lazy),80<o-b.mangotouch.tm||b.mangotouch.dry!=i||b.mangotouch.drx!=s?(b.scrollmom.stop(),b.scrollmom.reset(t,e),b.mangotouch.sy=e,b.mangotouch.ly=e,b.mangotouch.sx=t,b.mangotouch.lx=t,b.mangotouch.dry=i,b.mangotouch.drx=s,b.mangotouch.tm=o):(b.scrollmom.stop(),b.scrollmom.update(b.mangotouch.sx-r,b.mangotouch.sy-n),b.mangotouch.tm=o,n=Math.max(Math.abs(b.mangotouch.ly-e),Math.abs(b.mangotouch.lx-t)),b.mangotouch.ly=e,b.mangotouch.lx=t,2<n&&(b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=!1,b.mangotouch.dry=0,b.mangotouch.drx=0,b.mangotouch.tm=0,b.scrollmom.doMomentum(30)},100)))}},a=b.getScrollTop(),m=b.getScrollLeft(),b.mangotouch={sy:a,ly:a,dry:0,sx:m,lx:m,drx:0,lazy:!1,tm:0},b.bind(b.docscroll,"scroll",b.onmangotouch);else{if(S.cantouch||b.istouchcapable||b.opt.touchbehavior||S.hasmstouch){b.scrollmom=new v(b),b.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType)return!1;if(!b.locked){if(S.hasmstouch)for(var n=t.target?t.target:!1;n;){var r=e(n).getNiceScroll();if(0<r.length&&r[0].me==b.me)break;if(0<r.length)return!1;if("DIV"==n.nodeName&&n.id==b.id)break;n=n.parentNode?n.parentNode:!1}b.cancelScroll();if((n=b.getTarget(t))&&/INPUT/i.test(n.nodeName)&&/range/i.test(n.type))return b.stopPropagation(t);!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),b.forcescreen&&(r=t,t={original:t.original?t.original:t},t.clientX=r.screenX,t.clientY=r.screenY),b.rail.drag={x:t.clientX,y:t.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2,dl:!1};if(b.ispage||!b.opt.directionlockdeadzone)b.rail.drag.dl="f";else{var r=e(window).width(),i=e(window).height(),s=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),o=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),i=Math.max(0,o-i),r=Math.max(0,s-r);b.rail.drag.ck=!b.rail.scrollable&&b.railh.scrollable?0<i?"v":!1:b.rail.scrollable&&!b.railh.scrollable?0<r?"h":!1:!1,b.rail.drag.ck||(b.rail.drag.dl="f")}b.opt.touchbehavior&&b.isiframe&&S.isie&&(r=b.win.position(),b.rail.drag.x+=r.left,b.rail.drag.y+=r.top),b.hasmoving=!1,b.lastmouseup=!1,b.scrollmom.reset(t.clientX,t.clientY);if(!S.cantouch&&!this.istouchcapable&&!S.hasmstouch){if(!n||!/INPUT|SELECT|TEXTAREA/i.test(n.nodeName))return!b.ispage&&S.hasmousecapture&&n.setCapture(),b.cancelEvent(t);/SUBMIT|CANCEL|BUTTON/i.test(e(n).attr("type"))&&(pc={tg:n,click:!1},b.preventclick=pc)}}},b.ontouchend=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt&&(b.scrollmom.doMomentum(),b.rail.drag=!1,b.hasmoving&&(b.hasmoving=!1,b.lastmouseup=!0,b.hideCursor(),S.hasmousecapture&&document.releaseCapture(),!S.cantouch)))return b.cancelEvent(e)};var g=b.opt.touchbehavior&&b.isiframe&&!S.hasmousecapture;b.ontouchmove=function(t,n){if(t.pointerType&&2!=t.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt){if(S.cantouch&&"undefined"==typeof t.original)return!0;b.hasmoving=!0,b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick),t=e.extend({original:t},t),"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY);if(b.forcescreen){var r=t;t={original:t.original?t.original:t},t.clientX=r.screenX,t.clientY=r.screenY}r=ofy=0;if(g&&!n){var i=b.win.position(),r=-i.left;ofy=-i.top}var s=t.clientY+ofy,i=s-b.rail.drag.y,o=t.clientX+r,u=o-b.rail.drag.x,a=b.rail.drag.st-i;b.ishwscroll&&b.opt.bouncescroll?0>a?a=Math.round(a/2):a>b.page.maxh&&(a=b.page.maxh+Math.round((a-b.page.maxh)/2)):(0>a&&(s=a=0),a>b.page.maxh&&(a=b.page.maxh,s=0));if(b.railh&&b.railh.scrollable){var f=b.rail.drag.sl-u;b.ishwscroll&&b.opt.bouncescroll?0>f?f=Math.round(f/2):f>b.page.maxw&&(f=b.page.maxw+Math.round((f-b.page.maxw)/2)):(0>f&&(o=f=0),f>b.page.maxw&&(f=b.page.maxw,o=0))}r=!1;if(b.rail.drag.dl)r=!0,"v"==b.rail.drag.dl?f=b.rail.drag.sl:"h"==b.rail.drag.dl&&(a=b.rail.drag.st);else{var i=Math.abs(i),u=Math.abs(u),l=b.opt.directionlockdeadzone;if("v"==b.rail.drag.ck){if(i>l&&u<=.3*i)return b.rail.drag=!1,!0;u>l&&(b.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==b.rail.drag.ck){if(u>l&&i<=.3*az)return b.rail.drag=!1,!0;i>l&&(b.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.prepareTransition(0),b.rail.scrollable&&b.setScrollTop(a),b.scrollmom.update(o,s),b.railh&&b.railh.scrollable?(b.setScrollLeft(f),b.showCursor(a,f)):b.showCursor(a),S.isie10&&document.selection.clear())}),S.ischrome&&b.istouchcapable&&(r=!1);if(r)return b.cancelEvent(t)}}}b.onmousedown=function(e,t){if(!b.rail.drag||1==b.rail.drag.pt){if(b.locked)return b.cancelEvent(e);b.cancelScroll(),b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:!!t};var n=b.getTarget(e);return!b.ispage&&S.hasmousecapture&&n.setCapture(),b.isiframe&&!S.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"})),b.cancelEvent(e)}},b.onmouseup=function(e){if(b.rail.drag&&(S.hasmousecapture&&document.releaseCapture(),b.isiframe&&!S.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),1==b.rail.drag.pt))return b.rail.drag=!1,b.cancelEvent(e)},b.onmousemove=function(e){if(b.rail.drag&&1==b.rail.drag.pt){if(S.ischrome&&0==e.which)return b.onmouseup(e);b.cursorfreezed=!0;if(b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(e.clientX-b.rail.drag.x),0>b.scroll.x&&(b.scroll.x=0);var t=b.scrollvaluemaxw;b.scroll.x>t&&(b.scroll.x=t)}else b.scroll.y=b.rail.drag.sy+(e.clientY-b.rail.drag.y),0>b.scroll.y&&(b.scroll.y=0),t=b.scrollvaluemax,b.scroll.y>t&&(b.scroll.y=t);return b.synched("mousemove",function(){b.rail.drag&&1==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x),b.opt.cursordragspeed):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y),b.opt.cursordragspeed))}),b.cancelEvent(e)}};if(S.cantouch||b.opt.touchbehavior)b.onpreventclick=function(e){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=!1,b.cancelEvent(e)},b.bind(b.win,"mousedown",b.ontouchstart),b.onclick=S.isios?!1:function(e){return b.lastmouseup?(b.lastmouseup=!1,b.cancelEvent(e)):!0},b.opt.grabcursorenabled&&S.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:S.cursorgrabvalue}),b.css(b.rail,{cursor:S.cursorgrabvalue}));else{var y=function(e){if(b.selectiondrag){if(e){var t=b.win.outerHeight();e=e.pageY-b.selectiondrag.top,0<e&&e<t&&(e=0),e>=t&&(e-=t),b.selectiondrag.df=e}0!=b.selectiondrag.df&&(b.doScrollBy(2*-Math.floor(b.selectiondrag.df/6)),b.debounced("doselectionscroll",function(){y()},50))}};b.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},b.onselectionstart=function(e){b.ispage||(b.selectiondrag=b.win.offset())},b.onselectionend=function(e){b.selectiondrag=!1},b.onselectiondrag=function(e){b.selectiondrag&&b.hasTextSelected()&&b.debounced("selectionscroll",function(){y(e)},250)}}S.hasmstouch&&(b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(document,"MSPointerUp",b.ontouchend),b.bind(document,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(e){e.preventDefault()}),b.bind(b.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(b.bind(b.win,"touchstart",b.ontouchstart),b.bind(document,"touchend",b.ontouchend),b.bind(document,"touchcancel",b.ontouchend),b.bind(document,"touchmove",b.ontouchmove)),b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.railh&&(b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.bind(b.cursorh,"mouseup",function(e){if(!b.rail.drag||2!=b.rail.drag.pt)return b.rail.drag=!1,b.hasmoving=!1,b.hideCursor(),S.hasmousecapture&&document.releaseCapture(),b.cancelEvent(e)}));if(b.opt.cursordragontouch||!S.cantouch&&!b.opt.touchbehavior)b.rail.css({cursor:"default"}),b.railh&&b.railh.css({cursor:"default"}),b.jqbind(b.rail,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.rail,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.rail,"click",function(e){b.doRailClick(e,!1,!1)}),b.bind(b.rail,"dblclick",function(e){b.doRailClick(e,!0,!1)}),b.bind(b.cursor,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursor,"dblclick",function(e){b.cancelEvent(e)})),b.railh&&(b.jqbind(b.railh,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.railh,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.railh,"click",function(e){b.doRailClick(e,!1,!0)}),b.bind(b.railh,"dblclick",function(e){b.doRailClick(e,!0,!0)}),b.bind(b.cursorh,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursorh,"dblclick",function(e){b.cancelEvent(e)})));!S.cantouch&&!b.opt.touchbehavior?(b.bind(S.hasmousecapture?b.win:document,"mouseup",b.onmouseup),b.bind(document,"mousemove",b.onmousemove),b.onclick&&b.bind(document,"click",b.onclick),!b.ispage&&b.opt.enablescrollonselection&&(b.bind(b.win[0],"mousedown",b.onselectionstart),b.bind(document,"mouseup",b.onselectionend),b.bind(b.cursor,"mouseup",b.onselectionend),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onselectionend),b.bind(document,"mousemove",b.onselectiondrag)),b.zoom&&(b.jqbind(b.zoom,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.zoom,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}))):(b.bind(S.hasmousecapture?b.win:document,"mouseup",b.ontouchend),b.bind(document,"mousemove",b.ontouchmove),b.onclick&&b.bind(document,"click",b.onclick),b.opt.cursordragontouch&&(b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mousemove",b.onmousemove),b.cursorh&&b.bind(b.cursorh,"mousedown",b.onmousedown),b.cursorh&&b.bind(b.cursorh,"mousemove",b.onmousemove))),b.opt.enablemousewheel&&(b.isiframe||b.bind(S.isie&&b.ispage?document:b.docscroll,"mousewheel",b.onmousewheel),b.bind(b.rail,"mousewheel",b.onmousewheel),b.railh&&b.bind(b.railh,"mousewheel",b.onmousewheelhr)),!b.ispage&&!S.cantouch&&!/HTML|BODY/.test(b.win[0].nodeName)&&(b.win.attr("tabindex")||b.win.attr({tabindex:r++}),b.jqbind(b.win,"focus",function(e){t=b.getTarget(e).id||!0,b.hasfocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"blur",function(e){t=!1,b.hasfocus=!1}),b.jqbind(b.win,"mouseenter",function(e){n=b.getTarget(e).id||!0,b.hasmousefocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"mouseleave",function(){n=!1,b.hasmousefocus=!1}))}b.onkeypress=function(e){if(b.locked&&0==b.page.maxh)return!0;e=e?e:window.e;var r=b.getTarget(e);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!r.getAttribute("type")&&!r.type||!/submit|button|cancel/i.tp))return!0;if(b.hasfocus||b.hasmousefocus&&!t||b.ispage&&!t&&!n){r=e.keyCode;if(b.locked&&27!=r)return b.cancelEvent(e);var i=e.ctrlKey||!1,s=e.shiftKey||!1,o=!1;switch(r){case 38:case 63233:b.doScrollBy(72),o=!0;break;case 40:case 63235:b.doScrollBy(-72),o=!0;break;case 37:case 63232:b.railh&&(i?b.doScrollLeft(0):b.doScrollLeftBy(72),o=!0);break;case 39:case 63234:b.railh&&(i?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),o=!0);break;case 33:case 63276:b.doScrollBy(b.view.h),o=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h),o=!0;break;case 36:case 63273:b.railh&&i?b.doScrollPos(0,0):b.doScrollTo(0),o=!0;break;case 35:case 63275:b.railh&&i?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh),o=!0;break;case 32:b.opt.spacebarenabled&&(s?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),o=!0);break;case 27:b.zoomactive&&(b.doZoom(),o=!0)}if(o)return b.cancelEvent(e)}},b.opt.enablekeyboard&&b.bind(document,S.isopera&&!S.isopera12?"keypress":"keydown",b.onkeypress),b.bind(window,"resize",b.lazyResize),b.bind(window,"orientationchange",b.lazyResize),b.bind(window,"load",b.lazyResize);if(S.ischrome&&!b.ispage&&!b.haswrapper){var w=b.win.attr("style"),a=parseFloat(b.win.css("width"))+1;b.win.css("width",a),b.synched("chromefix",function(){b.win.attr("style",w)})}b.onAttributeChange=function(e){b.lazyResize(250)},!b.ispage&&!b.haswrapper&&(!1!==l?(b.observer=new l(function(e){e.forEach(b.onAttributeChange)}),b.observer.observe(b.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),b.observerremover=new l(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(e.removedNodes[t]==b.win[0])return b.remove()})}),b.observerremover.observe(b.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(b.bind(b.win,S.isie&&!S.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),S.isie9&&b.win[0].attachEvent("onpropertychange",b.onAttributeChange),b.bind(b.win,"DOMNodeRemoved",function(e){e.target==b.win[0]&&b.remove()}))),!b.ispage&&b.opt.boxzoom&&b.bind(window,"resize",b.resizeZoom),b.istextarea&&b.bind(b.win,"mouseup",b.lazyResize),b.checkrtlmode=!0,b.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var E=function(t){b.iframexd=!1;try{var n="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(r){b.iframexd=!0,n=!1}if(b.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;b.forcescreen=!0,b.isiframe&&(b.iframe={doc:e(n),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=e(b.iframe.body)),!S.isios&&b.opt.iframeautoresize&&!b.isiframe&&(b.win.scrollTop(0),b.doc.height(""),t=Math.max(n.getElementsByTagName("html")[0].scrollHeight,n.body.scrollHeight),b.doc.height(t)),b.lazyResize(30),S.isie7&&b.css(e(b.iframe.html),{"overflow-y":"hidden"}),b.css(e(b.iframe.body),{"overflow-y":"hidden"}),"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(n,"scroll",b.onscroll),b.opt.enablemousewheel&&b.bind(n,"mousewheel",b.onmousewheel),b.opt.enablekeyboard&&b.bind(n,S.isopera?"keypress":"keydown",b.onkeypress);if(S.cantouch||b.opt.touchbehavior)b.bind(n,"mousedown",b.onmousedown),b.bind(n,"mousemove",function(e){b.onmousemove(e,!0)}),b.opt.grabcursorenabled&&S.cursorgrabvalue&&b.css(e(n.body),{cursor:S.cursorgrabvalue});b.bind(n,"mouseup",b.onmouseup),b.zoom&&(b.opt.dblclickzoom&&b.bind(n,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(n,"gestureend",b.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){E.call(b.doc[0],!1)},500),b.bind(this.doc,"load",E)}},this.showCursor=function(e,t){b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0);if(b.rail){b.autohidedom&&(b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax}),b.cursoractive=!0);if(!b.rail.drag||1!=b.rail.drag.pt)"undefined"!=typeof e&&!1!==e&&(b.scroll.y=Math.round(1*e/b.scrollratio.y)),"undefined"!=typeof t&&(b.scroll.x=Math.round(1*t/b.scrollratio.x));b.cursor.css({height:b.cursorheight,top:b.scroll.y}),b.cursorh&&(!b.rail.align&&b.rail.visibility?b.cursorh.css({width:b.cursorwidth,left:b.scroll.x+b.rail.width}):b.cursorh.css({width:b.cursorwidth,left:b.scroll.x}),b.cursoractive=!0),b.zoom&&b.zoom.stop().css({opacity:b.opt.cursoropacitymax})}},this.hideCursor=function(e){!b.cursortimeout&&b.rail&&b.autohidedom&&(b.cursortimeout=setTimeout(function(){if(!b.rail.active||!b.showonmouseevent)b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}),b.cursoractive=!1;b.cursortimeout=0},e||b.opt.hidecursordelay))},this.noticeCursor=function(e,t,n){b.showCursor(t,n),b.rail.active||b.hideCursor(e)},this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css("paddingLeft"))+parseInt(b.win.css("paddingRight")),h:b.doc.outerHeight()+parseInt(b.win.css("paddingTop"))+parseInt(b.win.css("paddingBottom"))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!b.win)return!1;if(!b.haswrapper&&!b.ispage){if("none"==b.win.css("display"))return b.visibility&&b.hideRail().hideRailHr(),!1;!b.hidden&&!b.visibility&&b.showRail().showRailHr()}var n=b.page.maxh,r=b.page.maxw,i=b.view.w;b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)},b.page=t?t:b.getContentSize(),b.page.maxh=Math.max(0,b.page.h-b.view.h),b.page.maxw=Math.max(0,b.page.w-b.view.w);if(b.page.maxh==n&&b.page.maxw==r&&b.view.w==i){if(b.ispage)return b;n=b.win.offset();if(b.lastposition&&(r=b.lastposition,r.top==n.top&&r.left==n.left))return b;b.lastposition=n}return 0==b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail.scrollable=!1):b.rail.scrollable=!0,0==b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh.scrollable=!1):b.railh.scrollable=!0,b.locked=0==b.page.maxh&&0==b.page.maxw,b.locked?(b.ispage||b.updateScrollBar(b.view),!1):(!b.hidden&&!b.visibility?b.showRail().showRailHr():!b.hidden&&!b.railh.visibility&&b.showRailHr(),b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20),b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h))),b.cursorheight=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorheight),b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w*(b.view.w/b.page.w))),b.cursorwidth=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorwidth),b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder,b.railh&&(b.railh.width=0<b.page.maxh?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-b.cursorh.wborder),b.checkrtlmode&&b.railh&&(b.checkrtlmode=!1,b.opt.rtlmode&&0==b.scroll.x&&b.setScrollLeft(b.page.maxw)),b.ispage||b.updateScrollBar(b.view),b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax},b.getScrollTop()>b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)),b.cursoractive&&b.noticeCursor()),b.scroll.y&&0==b.getScrollTop()&&b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y)),b)},this.resize=b.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,b.delayed("resize",b.resize,e),b},this._bind=function(e,t,n,r){b.events.push({e:e,n:t,f:n,b:r,q:!1}),e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},this.jqbind=function(t,n,r){b.events.push({e:t,n:n,f:r,q:!0}),e(t).bind(n,r)},this.bind=function(e,t,n,r){var i="jquery"in e?e[0]:e;"mousewheel"==t?"onwheel"in b.win?b._bind(i,"wheel",n,r||!1):(e="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",g(i,e,n,r||!1),"DOMMouseScroll"==e&&g(i,"MozMousePixelScroll",n,r||!1)):i.addEventListener?(S.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&b._bind(i,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(e){if(e.touches){if(2>e.touches.length){var t=e.touches.length?e.touches[0]:e;t.original=e,n.call(this,t)}}else e.changedTouches&&(t=e.changedTouches[0],t.original=e,n.call(this,t))},r||!1),b._bind(i,t,n,r||!1),S.cantouch&&"mouseup"==t&&b._bind(i,"touchcancel",n,r||!1)):b._bind(i,t,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1===n.call(i,e)||!1===r?b.cancelEvent(e):!0})},this._unbind=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=!1},this.unbindAll=function(){for(var e=0;e<b.events.length;e++){var t=b.events[e];t.q?t.e.unbind(t.n,t.f):b._unbind(t.e,t.n,t.f,t.b)}},this.cancelEvent=function(e){return e=e.original?e.original:e?e:window.event||!1,e?(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1):!1},this.stopPropagation=function(e){return e=e.original?e.original:e?e:window.event||!1,e?e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1):!1},this.showRail=function(){return 0!=b.page.maxh&&(b.ispage||"none"!=b.win.css("display"))&&(b.visibility=!0,b.rail.visibility=!0,b.rail.css("display","block")),b},this.showRailHr=function(){return b.railh?(0!=b.page.maxw&&(b.ispage||"none"!=b.win.css("display"))&&(b.railh.visibility=!0,b.railh.css("display","block")),b):b},this.hideRail=function(){return b.visibility=!1,b.rail.visibility=!1,b.rail.css("display","none"),b},this.hideRailHr=function(){return b.railh?(b.railh.visibility=!1,b.railh.css("display","none"),b):b},this.show=function(){return b.hidden=!1,b.locked=!1,b.showRail().showRailHr()},this.hide=function(){return b.hidden=!0,b.locked=!0,b.hideRail().hideRailHr()},this.toggle=function(){return b.hidden?b.show():b.hide()},this.remove=function(){b.stop(),b.cursortimeout&&clearTimeout(b.cursortimeout),b.doZoomOut(),b.unbindAll(),!1!==b.observer&&b.observer.disconnect(),!1!==b.observerremover&&b.observerremover.disconnect(),b.events=[],b.cursor&&(b.cursor.remove(),b.cursor=null),b.cursorh&&(b.cursorh.remove(),b.cursorh=null),b.rail&&(b.rail.remove(),b.rail=null),b.railh&&(b.railh.remove(),b.railh=null),b.zoom&&(b.zoom.remove(),b.zoom=null);for(var e=0;e<b.saved.css.length;e++){var t=b.saved.css[e];t[0].css(t[1],"undefined"==typeof t[2]?"":t[2])}return b.saved=!1,b.me.data("__nicescroll",""),b.me=null,b.doc=null,b.docscroll=null,b.win=null,b},this.scrollstart=function(e){return this.onscrollstart=e,b},this.scrollend=function(e){return this.onscrollend=e,b},this.scrollcancel=function(e){return this.onscrollcancel=e,b},this.zoomin=function(e){return this.onzoomin=e,b},this.zoomout=function(e){return this.onzoomout=e,b},this.isScrollable=function(t){t=t.target?t.target:t;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var n=e(t),n=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(n))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1},this.getViewport=function(t){for(t=t&&t.parentNode?t.parentNode:!1;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var n=e(t),r=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(r)&&t.clientHeight!=t.scrollHeight||0<n.getNiceScroll().length)return n;t=t.parentNode?t.parentNode:!1}return!1},this.onmousewheel=function(e){if(b.locked)return!0;if(b.rail.drag)return b.cancelEvent(e);if(!b.rail.scrollable)return b.railh&&b.railh.scrollable?b.onmousewheelhr(e):!0;var t=+(new Date),n=!1;b.opt.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),n=!0),b.checkarea=t;if(b.nativescrollingarea)return!0;if(e=y(e,!1,n))b.checkarea=0;return e},this.onmousewheelhr=function(e){if(b.locked||!b.railh.scrollable)return!0;if(b.rail.drag)return b.cancelEvent(e);var t=+(new Date),n=!1;return b.opt.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),n=!0),b.checkarea=t,b.nativescrollingarea?!0:b.locked?b.cancelEvent(e):y(e,!0,n)},this.stop=function(){return b.cancelScroll(),b.scrollmon&&b.scrollmon.stop(),b.cursorfreezed=!1,b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.noticeCursor(),b},this.getTransitionSpeed=function(e){var t=Math.round(10*b.opt.scrollspeed);return e=Math.min(t,Math.round(e/20*b.opt.scrollspeed)),20<e?e:0},b.opt.smoothscroll?b.ishwscroll&&S.hastransition&&b.opt.usetransition?(this.prepareTransition=function(e,t){var n=t?20<e?e:0:b.getTransitionSpeed(e),r=n?S.prefixstyle+"transform "+n+"ms ease-out":"";if(!b.lasttransitionstyle||b.lasttransitionstyle!=r)b.lasttransitionstyle=r,b.doc.css(S.transitionstyle,r);return n},this.doScrollLeft=function(e,t){var n=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var r=b.getScrollTop(),i=b.getScrollLeft();(0>(b.newscrolly-r)*(t-r)||0>(b.newscrollx-i)*(e-i))&&b.cancelScroll(),0==b.opt.bouncescroll&&(0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>e?e=0:e>b.page.maxw&&(e=b.page.maxw));if(b.scrollrunning&&e==b.newscrollx&&t==b.newscrolly)return!1;b.newscrolly=t,b.newscrollx=e,b.newscrollspeed=n||!1;if(b.timer)return!1;b.timer=setTimeout(function(){var n=b.getScrollTop(),r=b.getScrollLeft(),i,s;i=e-r,s=t-n,i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(s,2))),i=b.newscrollspeed&&1<b.newscrollspeed?b.newscrollspeed:b.getTransitionSpeed(i),b.newscrollspeed&&1>=b.newscrollspeed&&(i*=b.newscrollspeed),b.prepareTransition(i,!0),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),0<i&&(!b.scrollrunning&&b.onscrollstart&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:b.newscrollx,y:b.newscrolly},speed:i}),S.transitionend?b.scrollendtrapped||(b.scrollendtrapped=!0,b.bind(b.doc,S.transitionend,b.onScrollEnd,!1)):(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollEnd,i)),b.timerscroll={bz:new BezierClass(n,b.newscrolly,i,0,0,.58,1),bh:new BezierClass(r,b.newscrollx,i,0,0,.58,1)},b.cursorfreezed||(b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop(),b.getScrollLeft())},60))),b.synched("doScroll-set",function(){b.timer=0,b.scrollendtrapped&&(b.scrollrunning=!0),b.setScrollTop(b.newscrolly),b.setScrollLeft(b.newscrollx),b.scrollendtrapped||b.onScrollEnd()})},50)},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var e=b.getScrollTop(),t=b.getScrollLeft();return b.scrollrunning=!1,S.transitionend||clearTimeout(S.transitionend),b.scrollendtrapped=!1,b._unbind(b.doc,S.transitionend,b.onScrollEnd),b.prepareTransition(0),b.setScrollTop(e),b.railh&&b.setScrollLeft(t),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1,b.cursorfreezed=!1,b.showCursor(e,t),b},this.onScrollEnd=function(){b.scrollendtrapped&&b._unbind(b.doc,S.transitionend,b.onScrollEnd),b.scrollendtrapped=!1,b.prepareTransition(0),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1;var e=b.getScrollTop(),t=b.getScrollLeft();b.setScrollTop(e),b.railh&&b.setScrollLeft(t),b.noticeCursor(!1,e,t),b.cursorfreezed=!1,0>e?e=0:e>b.page.maxh&&(e=b.page.maxh),0>t?t=0:t>b.page.maxw&&(t=b.page.maxw);if(e!=b.newscrolly||t!=b.newscrollx)return b.doScrollPos(t,e,b.opt.snapbackspeed);b.onscrollend&&b.scrollrunning&&b.onscrollend.call(b,{type:"scrollend",current:{x:t,y:e},end:{x:b.newscrollx,y:b.newscrolly}}),b.scrollrunning=!1}):(this.doScrollLeft=function(e,t){var n=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){function r(){if(b.cancelAnimationFrame)return!0;b.scrollrunning=!0;if(c=1-c)return b.timer=u(r)||1;var e=0,t=sy=b.getScrollTop();if(b.dst.ay){var t=b.bzscroll?b.dst.py+b.bzscroll.getNow()*b.dst.ay:b.newscrolly,n=t-sy;if(0>n&&t<b.newscrolly||0<n&&t>b.newscrolly)t=b.newscrolly;b.setScrollTop(t),t==b.newscrolly&&(e=1)}else e=1;var i=sx=b.getScrollLeft();if(b.dst.ax){i=b.bzscroll?b.dst.px+b.bzscroll.getNow()*b.dst.ax:b.newscrollx,n=i-sx;if(0>n&&i<b.newscrollx||0<n&&i>b.newscrollx)i=b.newscrollx;b.setScrollLeft(i),i==b.newscrollx&&(e+=1)}else e+=1;2==e?(b.timer=0,b.cursorfreezed=!1,b.bzscroll=!1,b.scrollrunning=!1,0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>i?i=0:i>b.page.maxw&&(i=b.page.maxw),i!=b.newscrollx||t!=b.newscrolly?b.doScrollPos(i,t):b.onscrollend&&b.onscrollend.call(b,{type:"scrollend",current:{x:sx,y:sy},end:{x:b.newscrollx,y:b.newscrolly}})):b.timer=u(r)||1}t="undefined"==typeof t||!1===t?b.getScrollTop(!0):t;if(b.timer&&b.newscrolly==t&&b.newscrollx==e)return!0;b.timer&&f(b.timer),b.timer=0;var i=b.getScrollTop(),s=b.getScrollLeft();(0>(b.newscrolly-i)*(t-i)||0>(b.newscrollx-s)*(e-s))&&b.cancelScroll(),b.newscrolly=t,b.newscrollx=e;if(!b.bouncescroll||!b.rail.visibility)0>b.newscrolly?b.newscrolly=0:b.newscrolly>b.page.maxh&&(b.newscrolly=b.page.maxh);if(!b.bouncescroll||!b.railh.visibility)0>b.newscrollx?b.newscrollx=0:b.newscrollx>b.page.maxw&&(b.newscrollx=b.page.maxw);b.dst={},b.dst.x=e-s,b.dst.y=t-i,b.dst.px=s,b.dst.py=i;var o=Math.round(Math.sqrt(Math.pow(b.dst.x,2)+Math.pow(b.dst.y,2)));b.dst.ax=b.dst.x/o,b.dst.ay=b.dst.y/o;var a=0,l=o;0==b.dst.x?(a=i,l=t,b.dst.ay=1,b.dst.py=0):0==b.dst.y&&(a=s,l=e,b.dst.ax=1,b.dst.px=0),o=b.getTransitionSpeed(o),n&&1>=n&&(o*=n),b.bzscroll=0<o?b.bzscroll?b.bzscroll.update(l,o):new BezierClass(a,l,o,0,1,0,1):!1;if(!b.timer){(i==b.page.maxh&&t>=b.page.maxh||s==b.page.maxw&&e>=b.page.maxw)&&b.checkContentSize();var c=1;b.cancelAnimationFrame=!1,b.timer=1,b.onscrollstart&&!b.scrollrunning&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:s,y:i},request:{x:e,y:t},end:{x:b.newscrollx,y:b.newscrolly},speed:o}),r(),(i==b.page.maxh&&t>=i||s==b.page.maxw&&e>=s)&&b.checkContentSize(),b.noticeCursor()}},this.cancelScroll=function(){return b.timer&&f(b.timer),b.timer=0,b.bzscroll=!1,b.scrollrunning=!1,b}):(this.doScrollLeft=function(e,t){var n=b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var r=e>b.page.maxw?b.page.maxw:e;0>r&&(r=0);var i=t>b.page.maxh?b.page.maxh:t;0>i&&(i=0),b.synched("scroll",function(){b.setScrollTop(i),b.setScrollLeft(r)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var n=0,n=t?Math.floor((b.scroll.y-e)*b.scrollratio.y):(b.timer?b.newscrolly:b.getScrollTop(!0))-e;if(b.bouncescroll){var r=Math.round(b.view.h/2);n<-r?n=-r:n>b.page.maxh+r&&(n=b.page.maxh+r)}b.cursorfreezed=!1,py=b.getScrollTop(!0);if(0>n&&0>=py)return b.noticeCursor();if(n>b.page.maxh&&py>=b.page.maxh)return b.checkContentSize(),b.noticeCursor();b.doScrollTop(n)},this.doScrollLeftBy=function(e,t){var n=0,n=t?Math.floor((b.scroll.x-e)*b.scrollratio.x):(b.timer?b.newscrollx:b.getScrollLeft(!0))-e;if(b.bouncescroll){var r=Math.round(b.view.w/2);n<-r?n=-r:n>b.page.maxw+r&&(n=b.page.maxw+r)}b.cursorfreezed=!1,px=b.getScrollLeft(!0);if(0>n&&0>=px||n>b.page.maxw&&px>=b.page.maxw)return b.noticeCursor();b.doScrollLeft(n)},this.doScrollTo=function(e,t){t&&Math.round(e*b.scrollratio.y),b.cursorfreezed=!1,b.doScrollTop(e)},this.checkContentSize=function(){var e=b.getContentSize();(e.h!=b.page.h||e.w!=b.page.w)&&b.resize(!1,e)},b.onscroll=function(e){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x))),b.noticeCursor()})},b.bind(b.docscroll,"scroll",b.onscroll),this.doZoomIn=function(t){if(!b.zoomactive){b.zoomactive=!0,b.zoomrestore={style:{}};var n="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),r=b.win[0].style,i;for(i in n){var o=n[i];b.zoomrestore.style[o]="undefined"!=typeof r[o]?r[o]:""}return b.zoomrestore.style.width=b.win.css("width"),b.zoomrestore.style.height=b.win.css("height"),b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()},S.isios4&&(b.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0)),b.win.css({position:S.isios4?"absolute":"fixed",top:0,left:0,"z-index":s+100,margin:"0px"}),n=b.win.css("backgroundColor"),(""==n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&b.win.css("backgroundColor","#fff"),b.rail.css({"z-index":s+101}),b.zoom.css({"z-index":s+102}),b.zoom.css("backgroundPosition","0px -18px"),b.resizeZoom(),b.onzoomin&&b.onzoomin.call(b),b.cancelEvent(t)}},this.doZoomOut=function(t){if(b.zoomactive)return b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),S.isios4&&e(window).scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.zindex}),b.zoom.css({"z-index":b.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0px 0px"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(t)},this.doZoom=function(e){return b.zoomactive?b.doZoomOut(e):b.doZoomIn(e)},this.resizeZoom=function(){if(b.zoomactive){var t=b.getScrollTop();b.win.css({width:e(window).width()-b.zoomrestore.padding.w+"px",height:e(window).height()-b.zoomrestore.padding.h+"px"}),b.onResize(),b.setScrollTop(Math.min(b.page.maxh,t))}},this.init(),e.nicescroll.push(this)},v=function(e){var t=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+(new Date)},this.reset=function(e,n){t.stop();var r=t.time();t.steptime=0,t.lasttime=r,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=n,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,n){var r=t.time();t.steptime=r-t.lasttime,t.lasttime=r;var r=n-t.lasty,i=e-t.lastx,s=t.nc.getScrollTop(),o=t.nc.getScrollLeft(),s=s+r,o=o+i;t.snapx=0>o||o>t.nc.page.maxw,t.snapy=0>s||s>t.nc.page.maxh,t.speedx=i,t.speedy=r,t.lastx=e,t.lasty=n},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,n){var r=!1;0>n?(n=0,r=!0):n>t.nc.page.maxh&&(n=t.nc.page.maxh,r=!0),0>e?(e=0,r=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,r=!0),r&&t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed)},this.doMomentum=function(e){var n=t.time(),r=e?n+e:t.lasttime;e=t.nc.getScrollLeft();var i=t.nc.getScrollTop(),s=t.nc.page.maxh,o=t.nc.page.maxw;t.speedx=0<o?Math.min(60,t.speedx):0,t.speedy=0<s?Math.min(60,t.speedy):0,r=r&&50>=n-r;if(0>i||i>s||0>e||e>o)r=!1;e=t.speedx&&r?t.speedx:!1;if(t.speedy&&r&&t.speedy||e){var u=Math.max(16,t.steptime);50<u&&(e=u/50,t.speedx*=e,t.speedy*=e,u=50),t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var a=t.lastscrollx,f=t.lastscrolly,l=function(){var e=600<t.time()-n?.04:.02;t.speedx&&(a=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=a,0>a||a>o)&&(e=.1),t.speedy&&(f=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=f,0>f||f>s)&&(e=.1),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=a,t.nc.setScrollLeft(a)),t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=f,t.nc.setScrollTop(f)),t.timer||(t.nc.hideCursor(),t.doSnapy(a,f))}),1>t.demulxy?t.timer=setTimeout(l,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(a,f))};l()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},m=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(t,n,r){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollTop():m.call(t)},set:function(t,n){var r=e.data(t,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollTop(parseInt(n)):m.call(t,n),this}},e.fn.scrollTop=function(t){if("undefined"==typeof t){var n=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return n&&n.ishwscroll?n.getScrollTop():m.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollTop(parseInt(t)):m.call(e(this),t)})};var g=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(t,n,r){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollLeft():g.call(t)},set:function(t,n){var r=e.data(t,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollLeft(parseInt(n)):g.call(t,n),this}},e.fn.scrollLeft=function(t){if("undefined"==typeof t){var n=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return n&&n.ishwscroll?n.getScrollLeft():g.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):g.call(e(this),t)})};var y=function(t){var n=this;this.length=0,this.name="nicescrollarray",this.each=function(e){for(var t=0;t<n.length;t++)e.call(n[t]);return n},this.push=function(e){n[n.length]=e,n.length++},this.eq=function(e){return n[e]};if(t)for(a=0;a<t.length;a++){var r=e.data(t[a],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};(function(e,t,n){for(var r=0;r<t.length;r++)n(e,t[r])})(y.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(t){return"undefined"==typeof t?new y(this):e.data(this[t],"__nicescroll")||!1},e.extend(e.expr[":"],{nicescroll:function(t){return e.data(t,"__nicescroll")?!0:!1}}),e.fn.niceScroll=function(t,n){"undefined"==typeof n&&"object"==typeof t&&!("jquery"in t)&&(n=t,t=!1);var r=new y;"undefined"==typeof n&&(n={}),t&&(n.doc=e(t),n.win=e(this));var i=!("doc"in n);return!i&&!("win"in n)&&(n.win=e(this)),this.each(function(){var t=e(this).data("__nicescroll")||!1;t||(n.doc=i?e(this):n.doc,t=new d(n,e(this)),e(this).data("__nicescroll",t)),r.push(t)}),1==r.length?r[0]:r},window.NiceScroll={getjQuery:function(){return e}},e.nicescroll||(e.nicescroll=new y,e.nicescroll.options=c)}(jQuery),define("jqueryNicescroll",["jquery"],function(){}),function(e){function n(t){e.jqplot.ElemContainer.call(this),this.name=t,this._series=[],this.show=!1,this.tickRenderer=e.jqplot.AxisTickRenderer,this.tickOptions={},this.labelRenderer=e.jqplot.AxisLabelRenderer,this.labelOptions={},this.label=null,this.showLabel=!0,this.min=null,this.max=null,this.autoscale=!1,this.pad=1.2,this.padMax=null,this.padMin=null,this.ticks=[],this.numberTicks,this.tickInterval,this.renderer=e.jqplot.LinearAxisRenderer,this.rendererOptions={},this.showTicks=!0,this.showTickMarks=!0,this.showMinorTicks=!0,this.drawMajorGridlines=!0,this.drawMinorGridlines=!1,this.drawMajorTickMarks=!0,this.drawMinorTickMarks=!0,this.useSeriesColor=!1,this.borderWidth=null,this.borderColor=null,this.scaleToHiddenSeries=!1,this._dataBounds={min:null,max:null},this._intervalStats=[],this._offsets={min:null,max:null},this._ticks=[],this._label=null,this.syncTicks=null,this.tickSpacing=75,this._min=null,this._max=null,this._tickInterval=null,this._numberTicks=null,this.__ticks=null,this._options={}}function r(t){e.jqplot.ElemContainer.call(this),this.show=!1,this.location="ne",this.labels=[],this.showLabels=!0,this.showSwatches=!0,this.placement="insideGrid",this.xoffset=0,this.yoffset=0,this.border,this.background,this.textColor,this.fontFamily,this.fontSize,this.rowSpacing="0.5em",this.renderer=e.jqplot.TableLegendRenderer,this.rendererOptions={},this.preDraw=!1,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null,this.escapeHtml=!1,this._series=[],e.extend(!0,this,t)}function i(t){e.jqplot.ElemContainer.call(this),this.text=t,this.show=!0,this.fontFamily,this.fontSize,this.textAlign,this.textColor,this.renderer=e.jqplot.DivTitleRenderer,this.rendererOptions={},this.escapeHtml=!1}function s(t){t=t||{},e.jqplot.ElemContainer.call(this),this.show=!0,this.xaxis="xaxis",this._xaxis,this.yaxis="yaxis",this._yaxis,this.gridBorderWidth=2,this.renderer=e.jqplot.LineRenderer,this.rendererOptions={},this.data=[],this.gridData=[],this.label="",this.showLabel=!0,this.color,this.negativeColor,this.lineWidth=2.5,this.lineJoin="round",this.lineCap="round",this.linePattern="solid",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.25,this.shadowDepth=3,this.shadowAlpha="0.1",this.breakOnNull=!1,this.markerRenderer=e.jqplot.MarkerRenderer,this.markerOptions={},this.showLine=!0,this.showMarker=!0,this.index,this.fill=!1,this.fillColor,this.fillAlpha,this.fillAndStroke=!1,this.disableStack=!1,this._stack=!1,this.neighborThreshold=4,this.fillToZero=!1,this.fillToValue=0,this.fillAxis="y",this.useNegativeColors=!0,this._stackData=[],this._plotData=[],this._plotValues={x:[],y:[]},this._intervals={x:{},y:{}},this._prevPlotData=[],this._prevGridData=[],this._stackAxis="y",this._primaryAxis="_xaxis",this.canvas=new e.jqplot.GenericCanvas,this.shadowCanvas=new e.jqplot.GenericCanvas,this.plugins={},this._sumy=0,this._sumx=0,this._type=""}function o(){e.jqplot.ElemContainer.call(this),this.drawGridlines=!0,this.gridLineColor="#cccccc",this.gridLineWidth=1,this.background="#fffdf6",this.borderColor="#999999",this.borderWidth=2,this.drawBorder=!0,this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.5,this.shadowWidth=3,this.shadowDepth=3,this.shadowColor=null,this.shadowAlpha="0.07",this._left,this._top,this._right,this._bottom,this._width,this._height,this._axes=[],this.renderer=e.jqplot.CanvasGridRenderer,this.rendererOptions={},this._offsets={top:null,bottom:null,left:null,right:null}}function a(){function l(e){var t,n,r,i,s;for(var o=0;o<e.length;o++){var u,a=[e[o].data,e[o]._stackData,e[o]._plotData,e[o]._prevPlotData];for(var f=0;f<4;f++){u=!0,t=a[f];if(e[o]._stackAxis=="x"){for(var l=0;l<t.length;l++)if(typeof t[l][1]!="number"){u=!1;break}u&&t.sort(function(e,t){return e[1]-t[1]})}else{for(var l=0;l<t.length;l++)if(typeof t[l][0]!="number"){u=!1;break}u&&t.sort(function(e,t){return e[0]-t[0]})}}}}function c(e){var t=e.data.plot,n=t.eventCanvas._elem.offset(),r={x:e.pageX-n.left,y:e.pageY-n.top},i={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},s=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],o=t.axes,u,a;for(u=11;u>0;u--)a=s[u-1],o[a].show&&(i[a]=o[a].series_p2u(r[a.charAt(0)]));return{offsets:n,gridPos:r,dataPos:i}}function h(t,n){var r=n.series,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T;for(o=n.seriesStack.length-1;o>=0;o--){i=n.seriesStack[o],u=r[i],S=u._highlightThreshold;switch(u.renderer.constructor){case e.jqplot.BarRenderer:f=t.x,l=t.y;for(s=0;s<u._barPoints.length;s++){w=u._barPoints[s],y=u.gridData[s];if(f>w[0][0]&&f<w[2][0]&&l>w[2][1]&&l<w[0][1])return{seriesIndex:u.index,pointIndex:s,gridData:y,data:u.data[s],points:u._barPoints[s]}}break;case e.jqplot.PyramidRenderer:f=t.x,l=t.y;for(s=0;s<u._barPoints.length;s++){w=u._barPoints[s],y=u.gridData[s];if(f>w[0][0]+S[0][0]&&f<w[2][0]+S[2][0]&&l>w[2][1]&&l<w[0][1])return{seriesIndex:u.index,pointIndex:s,gridData:y,data:u.data[s],points:u._barPoints[s]}}break;case e.jqplot.DonutRenderer:p=u.startAngle/180*Math.PI,f=t.x-u._center[0],l=t.y-u._center[1],a=Math.sqrt(Math.pow(f,2)+Math.pow(l,2)),f>0&&-l>=0?c=2*Math.PI-Math.atan(-l/f):f>0&&-l<0?c=-Math.atan(-l/f):f<0?c=Math.PI-Math.atan(-l/f):f==0&&-l>0?c=3*Math.PI/2:f==0&&-l<0?c=Math.PI/2:f==0&&l==0&&(c=0),p&&(c-=p,c<0?c+=2*Math.PI:c>2*Math.PI&&(c-=2*Math.PI)),h=u.sliceMargin/180*Math.PI;if(a<u._radius&&a>u._innerRadius)for(s=0;s<u.gridData.length;s++){d=s>0?u.gridData[s-1][1]+h:h,v=u.gridData[s][1];if(c>d&&c<v)return{seriesIndex:u.index,pointIndex:s,gridData:u.gridData[s],data:u.data[s]}}break;case e.jqplot.PieRenderer:p=u.startAngle/180*Math.PI,f=t.x-u._center[0],l=t.y-u._center[1],a=Math.sqrt(Math.pow(f,2)+Math.pow(l,2)),f>0&&-l>=0?c=2*Math.PI-Math.atan(-l/f):f>0&&-l<0?c=-Math.atan(-l/f):f<0?c=Math.PI-Math.atan(-l/f):f==0&&-l>0?c=3*Math.PI/2:f==0&&-l<0?c=Math.PI/2:f==0&&l==0&&(c=0),p&&(c-=p,c<0?c+=2*Math.PI:c>2*Math.PI&&(c-=2*Math.PI)),h=u.sliceMargin/180*Math.PI;if(a<u._radius)for(s=0;s<u.gridData.length;s++){d=s>0?u.gridData[s-1][1]+h:h,v=u.gridData[s][1];if(c>d&&c<v)return{seriesIndex:u.index,pointIndex:s,gridData:u.gridData[s],data:u.data[s]}}break;case e.jqplot.BubbleRenderer:f=t.x,l=t.y;var N=null;if(u.show){for(var s=0;s<u.gridData.length;s++)y=u.gridData[s],g=Math.sqrt((f-y[0])*(f-y[0])+(l-y[1])*(l-y[1])),g<=y[2]&&(g<=m||m==null)&&(m=g,N={seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]});if(N!=null)return N}break;case e.jqplot.FunnelRenderer:f=t.x,l=t.y;var C=u._vertices,k=C[0],L=C[C.length-1],A,O,M;function _(e,t,n){var r=(t[1]-n[1])/(t[0]-n[0]),i=t[1]-r*t[0],s=e+t[1];return[(s-i)/r,s]}A=_(l,k[0],L[3]),O=_(l,k[1],L[2]);for(s=0;s<C.length;s++){M=C[s];if(l>=M[0][1]&&l<=M[3][1]&&f>=A[0]&&f<=O[0])return{seriesIndex:u.index,pointIndex:s,gridData:null,data:u.data[s]}}break;case e.jqplot.LineRenderer:f=t.x,l=t.y,a=u.renderer;if(u.show){if((u.fill||u.renderer.bands.show&&u.renderer.bands.fill)&&(!n.plugins.highlighter||!n.plugins.highlighter.show)){var D=!1;if(f>u._boundingBox[0][0]&&f<u._boundingBox[1][0]&&l>u._boundingBox[1][1]&&l<u._boundingBox[0][1]){var P=u._areaPoints.length,H,s=P-1;for(var H=0;H<P;H++){var B=[u._areaPoints[H][0],u._areaPoints[H][1]],j=[u._areaPoints[s][0],u._areaPoints[s][1]];(B[1]<l&&j[1]>=l||j[1]<l&&B[1]>=l)&&B[0]+(l-B[1])/(j[1]-B[1])*(j[0]-B[0])<f&&(D=!D),s=H}}if(D)return{seriesIndex:i,pointIndex:null,gridData:u.gridData,data:u.data,points:u._areaPoints};break}T=u.markerRenderer.size/2+u.neighborThreshold,x=T>0?T:0;for(var s=0;s<u.gridData.length;s++){y=u.gridData[s];if(a.constructor==e.jqplot.OHLCRenderer)if(a.candleStick){var F=u._yaxis.series_u2p;if(f>=y[0]-a._bodyWidth/2&&f<=y[0]+a._bodyWidth/2&&l>=F(u.data[s][2])&&l<=F(u.data[s][3]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else if(!a.hlc){var F=u._yaxis.series_u2p;if(f>=y[0]-a._tickLength&&f<=y[0]+a._tickLength&&l>=F(u.data[s][2])&&l<=F(u.data[s][3]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else{var F=u._yaxis.series_u2p;if(f>=y[0]-a._tickLength&&f<=y[0]+a._tickLength&&l>=F(u.data[s][1])&&l<=F(u.data[s][2]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else if(y[0]!=null&&y[1]!=null){g=Math.sqrt((f-y[0])*(f-y[0])+(l-y[1])*(l-y[1]));if(g<=x&&(g<=m||m==null))return m=g,{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}}}break;default:f=t.x,l=t.y,a=u.renderer;if(u.show){T=u.markerRenderer.size/2+u.neighborThreshold,x=T>0?T:0;for(var s=0;s<u.gridData.length;s++){y=u.gridData[s];if(a.constructor==e.jqplot.OHLCRenderer)if(a.candleStick){var F=u._yaxis.series_u2p;if(f>=y[0]-a._bodyWidth/2&&f<=y[0]+a._bodyWidth/2&&l>=F(u.data[s][2])&&l<=F(u.data[s][3]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else if(!a.hlc){var F=u._yaxis.series_u2p;if(f>=y[0]-a._tickLength&&f<=y[0]+a._tickLength&&l>=F(u.data[s][2])&&l<=F(u.data[s][3]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else{var F=u._yaxis.series_u2p;if(f>=y[0]-a._tickLength&&f<=y[0]+a._tickLength&&l>=F(u.data[s][1])&&l<=F(u.data[s][2]))return{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}else{g=Math.sqrt((f-y[0])*(f-y[0])+(l-y[1])*(l-y[1]));if(g<=x&&(g<=m||m==null))return m=g,{seriesIndex:i,pointIndex:s,gridData:y,data:u.data[s]}}}}}}return null}this.animate=!1,this.animateReplot=!1,this.axes={xaxis:new n("xaxis"),yaxis:new n("yaxis"),x2axis:new n("x2axis"),y2axis:new n("y2axis"),y3axis:new n("y3axis"),y4axis:new n("y4axis"),y5axis:new n("y5axis"),y6axis:new n("y6axis"),y7axis:new n("y7axis"),y8axis:new n("y8axis"),y9axis:new n("y9axis"),yMidAxis:new n("yMidAxis")},this.baseCanvas=new e.jqplot.GenericCanvas,this.captureRightClick=!1,this.data=[],this.dataRenderer,this.dataRendererOptions,this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{},yMidAxis:{}},seriesDefaults:{},series:[]},this.defaultAxisStart=1,this.drawIfHidden=!1,this.eventCanvas=new e.jqplot.GenericCanvas,this.fillBetween={series1:null,series2:null,color:null,baseSeries:0,fill:!0},this.fontFamily,this.fontSize,this.grid=new o,this.legend=new r,this.noDataIndicator={show:!1,indicator:"Loading Data...",axes:{xaxis:{min:0,max:10,tickInterval:2,show:!0},yaxis:{min:0,max:12,tickInterval:3,show:!0}}},this.negativeSeriesColors=e.jqplot.config.defaultNegativeColors,this.options={},this.previousSeriesStack=[],this.plugins={},this.series=[],this.seriesStack=[],this.seriesColors=e.jqplot.config.defaultColors,this.sortData=!0,this.stackSeries=!1,this.syncXTicks=!0,this.syncYTicks=!0,this.target=null,this.targetId=null,this.textColor,this.title=new i,this._drawCount=0,this._sumy=0,this._sumx=0,this._stackData=[],this._plotData=[],this._width=null,this._height=null,this._plotDimensions={height:null,width:null},this._gridPadding={top:null,right:null,bottom:null,left:null},this._defaultGridPadding={top:10,right:10,bottom:23,left:10},this._addDomReference=e.jqplot.config.addDomReference,this.preInitHooks=new e.jqplot.HooksManager,this.postInitHooks=new e.jqplot.HooksManager,this.preParseOptionsHooks=new e.jqplot.HooksManager,this.postParseOptionsHooks=new e.jqplot.HooksManager,this.preDrawHooks=new e.jqplot.HooksManager,this.postDrawHooks=new e.jqplot.HooksManager,this.preDrawSeriesHooks=new e.jqplot.HooksManager,this.postDrawSeriesHooks=new e.jqplot.HooksManager,this.preDrawLegendHooks=new e.jqplot.HooksManager,this.addLegendRowHooks=new e.jqplot.HooksManager,this.preSeriesInitHooks=new e.jqplot.HooksManager,this.postSeriesInitHooks=new e.jqplot.HooksManager,this.preParseSeriesOptionsHooks=new e.jqplot.HooksManager,this.postParseSeriesOptionsHooks=new e.jqplot.HooksManager,this.eventListenerHooks=new e.jqplot.EventListenerManager,this.preDrawSeriesShadowHooks=new e.jqplot.HooksManager,this.postDrawSeriesShadowHooks=new e.jqplot.HooksManager,this.colorGenerator=new e.jqplot.ColorGenerator,this.negativeColorGenerator=new e.jqplot.ColorGenerator,this.canvasManager=new e.jqplot.CanvasManager,this.themeEngine=new e.jqplot.ThemeEngine;var f=0;this.init=function(t,r,i){i=i||{};for(var s=0;s<e.jqplot.preInitHooks.length;s++)e.jqplot.preInitHooks[s].call(this,t,r,i);for(var s=0;s<this.preInitHooks.hooks.length;s++)this.preInitHooks.hooks[s].call(this,t,r,i);this.targetId="#"+t,this.target=e("#"+t),this._addDomReference&&this.target.data("jqplot",this),this.target.removeClass("jqplot-error");if(!this.target.get(0))throw"No plot target specified";this.target.css("position")=="static"&&this.target.css("position","relative"),this.target.hasClass("jqplot-target")||this.target.addClass("jqplot-target");if(!this.target.height()){var o;i&&i.height?o=parseInt(i.height,10):this.target.attr("data-height")?o=parseInt(this.target.attr("data-height"),10):o=parseInt(e.jqplot.config.defaultHeight,10),this._height=o,this.target.css("height",o+"px")}else this._height=o=this.target.height();if(!this.target.width()){var a;i&&i.width?a=parseInt(i.width,10):this.target.attr("data-width")?a=parseInt(this.target.attr("data-width"),10):a=parseInt(e.jqplot.config.defaultWidth,10),this._width=a,this.target.css("width",a+"px")}else this._width=a=this.target.width();for(var s=0,f=u.length;s<f;s++)this.axes[u[s]]=new n(u[s]);this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;if(this._height<=0||this._width<=0||!this._height||!this._width)throw"Canvas dimension not set";i.dataRenderer&&e.isFunction(i.dataRenderer)&&(i.dataRendererOptions&&(this.dataRendererOptions=i.dataRendererOptions),this.dataRenderer=i.dataRenderer,r=this.dataRenderer(r,this,this.dataRendererOptions)),i.noDataIndicator&&e.isPlainObject(i.noDataIndicator)&&e.extend(!0,this.noDataIndicator,i.noDataIndicator);if(r==null||e.isArray(r)==0||r.length==0||e.isArray(r[0])==0||r[0].length==0){if(this.noDataIndicator.show==0)throw"No Data";for(var c in this.noDataIndicator.axes)for(var h in this.noDataIndicator.axes[c])this.axes[c][h]=this.noDataIndicator.axes[c][h];this.postDrawHooks.add(function(){var t=this.eventCanvas.getHeight(),n=this.eventCanvas.getWidth(),r=e('<div class="jqplot-noData-container" style="position:absolute;"></div>');this.target.append(r),r.height(t),r.width(n),r.css("top",this.eventCanvas._offsets.top),r.css("left",this.eventCanvas._offsets.left);var i=e('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>');r.append(i),i.html(this.noDataIndicator.indicator);var s=i.height(),o=i.width();i.height(s),i.width(o),i.css("top",(t-s)/2+"px")})}this.data=e.extend(!0,[],r),this.parseOptions(i),this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,this.computePlotData();for(var s=0;s<this.series.length;s++){this.seriesStack.push(s),this.previousSeriesStack.push(s),this.series[s].shadowCanvas._plotDimensions=this._plotDimensions,this.series[s].canvas._plotDimensions=this._plotDimensions;for(var p=0;p<e.jqplot.preSeriesInitHooks.length;p++)e.jqplot.preSeriesInitHooks[p].call(this.series[s],t,this.data,this.options.seriesDefaults,this.options.series[s],this);for(var p=0;p<this.preSeriesInitHooks.hooks.length;p++)this.preSeriesInitHooks.hooks[p].call(this.series[s],t,this.data,this.options.seriesDefaults,this.options.series[s],this);this.series[s]._plotDimensions=this._plotDimensions,this.series[s].init(s,this.grid.borderWidth,this);for(var p=0;p<e.jqplot.postSeriesInitHooks.length;p++)e.jqplot.postSeriesInitHooks[p].call(this.series[s],t,this.data,this.options.seriesDefaults,this.options.series[s],this);for(var p=0;p<this.postSeriesInitHooks.hooks.length;p++)this.postSeriesInitHooks.hooks[p].call(this.series[s],t,this.data,this.options.seriesDefaults,this.options.series[s],this);this._sumy+=this.series[s]._sumy,this._sumx+=this.series[s]._sumx}var d,v;for(var s=0,f=u.length;s<f;s++)d=u[s],v=this.axes[d],v._plotDimensions=this._plotDimensions,v.init(),this.axes[d].borderColor==null&&(d.charAt(0)!=="x"&&v.useSeriesColor===!0&&v.show?v.borderColor=v._series[0].color:v.borderColor=this.grid.borderColor);this.sortData&&l(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(var s=0;s<e.jqplot.postInitHooks.length;s++)e.jqplot.postInitHooks[s].call(this,t,this.data,i);for(var s=0;s<this.postInitHooks.hooks.length;s++)this.postInitHooks.hooks[s].call(this,t,this.data,i)},this.resetAxesScale=function(t,n){var r=n||{},i=t||this.axes;i===!0&&(i=this.axes);if(e.isArray(i))for(var s=0;s<i.length;s++)this.axes[i[s]].resetScale(r[i[s]]);else if(typeof i=="object")for(var o in i)this.axes[o].resetScale(r[o])},this.reInitialize=function(r,i){var s=e.extend(!0,{},this.options,i),o=this.targetId.substr(1),a=r==null?this.data:r;for(var f=0;f<e.jqplot.preInitHooks.length;f++)e.jqplot.preInitHooks[f].call(this,o,a,s);for(var f=0;f<this.preInitHooks.hooks.length;f++)this.preInitHooks.hooks[f].call(this,o,a,s);this._height=this.target.height(),this._width=this.target.width();if(this._height<=0||this._width<=0||!this._height||!this._width)throw"Target dimension not set";this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;var c,h,p,d;for(var f=0,v=u.length;f<v;f++){c=u[f],d=this.axes[c],h=d._ticks;for(var p=0,m=h.length;p<m;p++){var g=h[p]._elem;g&&(e.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==t&&window.G_vmlCanvasManager.uninitElement(g.get(0)),g.emptyForce(),g=null,h._elem=null)}h=null,delete d.ticks,delete d._ticks,this.axes[c]=new n(c),this.axes[c]._plotWidth=this._width,this.axes[c]._plotHeight=this._height}r&&(s.dataRenderer&&e.isFunction(s.dataRenderer)&&(s.dataRendererOptions&&(this.dataRendererOptions=s.dataRendererOptions),this.dataRenderer=s.dataRenderer,r=this.dataRenderer(r,this,this.dataRendererOptions)),this.data=e.extend(!0,[],r)),i&&this.parseOptions(s),this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,this.seriesStack=[],this.previousSeriesStack=[],this.computePlotData();for(var f=0,v=this.series.length;f<v;f++){this.seriesStack.push(f),this.previousSeriesStack.push(f),this.series[f].shadowCanvas._plotDimensions=this._plotDimensions,this.series[f].canvas._plotDimensions=this._plotDimensions;for(var p=0;p<e.jqplot.preSeriesInitHooks.length;p++)e.jqplot.preSeriesInitHooks[p].call(this.series[f],o,this.data,this.options.seriesDefaults,this.options.series[f],this);for(var p=0;p<this.preSeriesInitHooks.hooks.length;p++)this.preSeriesInitHooks.hooks[p].call(this.series[f],o,this.data,this.options.seriesDefaults,this.options.series[f],this);this.series[f]._plotDimensions=this._plotDimensions,this.series[f].init(f,this.grid.borderWidth,this);for(var p=0;p<e.jqplot.postSeriesInitHooks.length;p++)e.jqplot.postSeriesInitHooks[p].call(this.series[f],o,this.data,this.options.seriesDefaults,this.options.series[f],this);for(var p=0;p<this.postSeriesInitHooks.hooks.length;p++)this.postSeriesInitHooks.hooks[p].call(this.series[f],o,this.data,this.options.seriesDefaults,this.options.series[f],this);this._sumy+=this.series[f]._sumy,this._sumx+=this.series[f]._sumx}for(var f=0,v=u.length;f<v;f++)c=u[f],d=this.axes[c],d._plotDimensions=this._plotDimensions,d.init(),d.borderColor==null&&(c.charAt(0)!=="x"&&d.useSeriesColor===!0&&d.show?d.borderColor=d._series[0].color:d.borderColor=this.grid.borderColor);this.sortData&&l(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(var f=0,v=e.jqplot.postInitHooks.length;f<v;f++)e.jqplot.postInitHooks[f].call(this,o,this.data,s);for(var f=0,v=this.postInitHooks.hooks.length;f<v;f++)this.postInitHooks.hooks[f].call(this,o,this.data,s)},this.quickInit=function(){this._height=this.target.height(),this._width=this.target.width();if(this._height<=0||this._width<=0||!this._height||!this._width)throw"Target dimension not set";this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;for(var n in this.axes)this.axes[n]._plotWidth=this._width,this.axes[n]._plotHeight=this._height;this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this._sumy=0,this._sumx=0,this.computePlotData();for(var r=0;r<this.series.length;r++)this.series[r]._type==="line"&&this.series[r].renderer.bands.show&&this.series[r].renderer.initBands.call(this.series[r],this.series[r].renderer.options,this),this.series[r]._plotDimensions=this._plotDimensions,this.series[r].canvas._plotDimensions=this._plotDimensions,this._sumy+=this.series[r]._sumy,this._sumx+=this.series[r]._sumx;var i;for(var s=0;s<12;s++){i=u[s];var o=this.axes[i]._ticks;for(var r=0;r<o.length;r++){var a=o[r]._elem;a&&(e.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==t&&window.G_vmlCanvasManager.uninitElement(a.get(0)),a.emptyForce(),a=null,o._elem=null)}o=null,this.axes[i]._plotDimensions=this._plotDimensions,this.axes[i]._ticks=[]}this.sortData&&l(this.series),this.grid._axes=this.axes,this.legend._series=this.series},this.computePlotData=function(){this._plotData=[],this._stackData=[];var t,n,r;for(n=0,r=this.series.length;n<r;n++){t=this.series[n],this._plotData.push([]),this._stackData.push([]);var i=t.data;this._plotData[n]=e.extend(!0,[],i),this._stackData[n]=e.extend(!0,[],i),t._plotData=this._plotData[n],t._stackData=this._stackData[n];var s={x:[],y:[]};if(this.stackSeries&&!t.disableStack){t._stack=!0;var o=t._stackAxis==="x"?0:1;for(var u=0,a=i.length;u<a;u++){var f=i[u][o];f==null&&(f=0),this._plotData[n][u][o]=f,this._stackData[n][u][o]=f;if(n>0)for(var l=n;l--;){var c=this._plotData[l][u][o];if(f*c>=0){this._plotData[n][u][o]+=c,this._stackData[n][u][o]+=c;break}}}}else{for(var h=0;h<t.data.length;h++)s.x.push(t.data[h][0]),s.y.push(t.data[h][1]);this._stackData.push(t.data),this.series[n]._stackData=t.data,this._plotData.push(t.data),t._plotData=t.data,t._plotValues=s}n>0&&(t._prevPlotData=this.series[n-1]._plotData),t._sumy=0,t._sumx=0;for(h=t.data.length-1;h>-1;h--)t._sumy+=t.data[h][1],t._sumx+=t.data[h][0]}},this.populatePlotData=function(t,n){this._plotData=[],this._stackData=[],t._stackData=[],t._plotData=[];var r={x:[],y:[]};if(this.stackSeries&&!t.disableStack){t._stack=!0;var i=t._stackAxis==="x"?0:1,s=e.extend(!0,[],t.data),o=e.extend(!0,[],t.data),u,a,f,l,c;for(var h=0;h<n;h++){var p=this.series[h].data;for(var d=0;d<p.length;d++)f=p[d],u=f[0]!=null?f[0]:0,a=f[1]!=null?f[1]:0,s[d][0]+=u,s[d][1]+=a,l=i?a:u,t.data[d][i]*l>=0&&(o[d][i]+=l)}for(var v=0;v<o.length;v++)r.x.push(o[v][0]),r.y.push(o[v][1]);this._plotData.push(o),this._stackData.push(s),t._stackData=s,t._plotData=o,t._plotValues=r}else{for(var v=0;v<t.data.length;v++)r.x.push(t.data[v][0]),r.y.push(t.data[v][1]);this._stackData.push(t.data),this.series[n]._stackData=t.data,this._plotData.push(t.data),t._plotData=t.data,t._plotValues=r}n>0&&(t._prevPlotData=this.series[n-1]._plotData),t._sumy=0,t._sumx=0;for(v=t.data.length-1;v>-1;v--)t._sumy+=t.data[v][1],t._sumx+=t.data[v][0]},this.getNextSeriesColor=function(e){var t=0,n=e.seriesColors;return function(){return t<n.length?n[t++]:(t=0,n[t++])}}(this),this.parseOptions=function(t){for(var n=0;n<this.preParseOptionsHooks.hooks.length;n++)this.preParseOptionsHooks.hooks[n].call(this,t);for(var n=0;n<e.jqplot.preParseOptionsHooks.length;n++)e.jqplot.preParseOptionsHooks[n].call(this,t);this.options=e.extend(!0,{},this.defaults,t);var r=this.options;this.animate=r.animate,this.animateReplot=r.animateReplot,this.stackSeries=r.stackSeries;if(e.isPlainObject(r.fillBetween)){var i=["series1","series2","color","baseSeries","fill"],o;for(var n=0,a=i.length;n<a;n++)o=i[n],r.fillBetween[o]!=null&&(this.fillBetween[o]=r.fillBetween[o])}r.seriesColors&&(this.seriesColors=r.seriesColors),r.negativeSeriesColors&&(this.negativeSeriesColors=r.negativeSeriesColors),r.captureRightClick&&(this.captureRightClick=r.captureRightClick),this.defaultAxisStart=t&&t.defaultAxisStart!=null?t.defaultAxisStart:this.defaultAxisStart,this.colorGenerator.setColors(this.seriesColors),this.negativeColorGenerator.setColors(this.negativeSeriesColors),e.extend(!0,this._gridPadding,r.gridPadding),this.sortData=r.sortData!=null?r.sortData:this.sortData;for(var n=0;n<12;n++){var f=u[n],l=this.axes[f];l._options=e.extend(!0,{},r.axesDefaults,r.axes[f]),e.extend(!0,l,r.axesDefaults,r.axes[f]),l._plotWidth=this._width,l._plotHeight=this._height}var c=function(t,n,r){var i=[],s,o;n=n||"vertical";if(!e.isArray(t[0]))for(s=0,o=t.length;s<o;s++)n=="vertical"?i.push([r+s,t[s]]):i.push([t[s],r+s]);else e.extend(!0,i,t);return i},h=0;this.series=[];for(var n=0;n<this.data.length;n++){var p=e.extend(!0,{index:n},{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[n],{rendererOptions:{animation:{show:this.animate}}}),i=new s(p);for(var d=0;d<e.jqplot.preParseSeriesOptionsHooks.length;d++)e.jqplot.preParseSeriesOptionsHooks[d].call(i,this.options.seriesDefaults,this.options.series[n]);for(var d=0;d<this.preParseSeriesOptionsHooks.hooks.length;d++)this.preParseSeriesOptionsHooks.hooks[d].call(i,this.options.seriesDefaults,this.options.series[n]);e.extend(!0,i,p);var v="vertical";i.renderer===e.jqplot.BarRenderer&&i.rendererOptions&&i.rendererOptions.barDirection=="horizontal"&&(v="horizontal",i._stackAxis="x",i._primaryAxis="_yaxis"),i.data=c(this.data[n],v,this.defaultAxisStart);switch(i.xaxis){case"xaxis":i._xaxis=this.axes.xaxis;break;case"x2axis":i._xaxis=this.axes.x2axis;break;default:}i._yaxis=this.axes[i.yaxis],i._xaxis._series.push(i),i._yaxis._series.push(i),i.show?(i._xaxis.show=!0,i._yaxis.show=!0):(i._xaxis.scaleToHiddenSeries&&(i._xaxis.show=!0),i._yaxis.scaleToHiddenSeries&&(i._yaxis.show=!0)),i.label||(i.label="Series "+(n+1).toString()),this.series.push(i);for(var d=0;d<e.jqplot.postParseSeriesOptionsHooks.length;d++)e.jqplot.postParseSeriesOptionsHooks[d].call(this.series[n],this.options.seriesDefaults,this.options.series[n]);for(var d=0;d<this.postParseSeriesOptionsHooks.hooks.length;d++)this.postParseSeriesOptionsHooks.hooks[d].call(this.series[n],this.options.seriesDefaults,this.options.series[n])}e.extend(!0,this.grid,this.options.grid);for(var n=0,a=u.length;n<a;n++){var f=u[n],l=this.axes[f];l.borderWidth==null&&(l.borderWidth=this.grid.borderWidth)}typeof this.options.title=="string"?this.title.text=this.options.title:typeof this.options.title=="object"&&e.extend(!0,this.title,this.options.title),this.title._plotWidth=this._width,this.legend.setOptions(this.options.legend);for(var n=0;n<e.jqplot.postParseOptionsHooks.length;n++)e.jqplot.postParseOptionsHooks[n].call(this,t);for(var n=0;n<this.postParseOptionsHooks.hooks.length;n++)this.postParseOptionsHooks.hooks[n].call(this,t)},this.destroy=function(){this.canvasManager.freeAllCanvases(),this.eventCanvas&&this.eventCanvas._elem&&this.eventCanvas._elem.unbind(),this.target.empty(),this.target[0].innerHTML=""},this.replot=function(t){var n=t||{},r=n.data||null,i=n.clear===!1?!1:!0,s=n.resetAxes||!1;delete n.data,delete n.clear,delete n.resetAxes,this.target.trigger("jqplotPreReplot"),i&&this.destroy(),r||!e.isEmptyObject(n)?this.reInitialize(r,n):this.quickInit(),s&&this.resetAxesScale(s,n.axes),this.draw(),this.target.trigger("jqplotPostReplot")},this.redraw=function(e){e=e!=null?e:!0,this.target.trigger("jqplotPreRedraw"),e&&(this.canvasManager.freeAllCanvases(),this.eventCanvas._elem.unbind(),this.target.empty());for(var t in this.axes)this.axes[t]._ticks=[];this.computePlotData(),this._sumy=0,this._sumx=0;for(var n=0,r=this.series.length;n<r;n++)this._sumy+=this.series[n]._sumy,this._sumx+=this.series[n]._sumx;this.draw(),this.target.trigger("jqplotPostRedraw")},this.draw=function(){if(this.drawIfHidden||this.target.is(":visible")){this.target.trigger("jqplotPreDraw");var t,n,r,i;for(t=0,r=e.jqplot.preDrawHooks.length;t<r;t++)e.jqplot.preDrawHooks[t].call(this);for(t=0,r=this.preDrawHooks.hooks.length;t<r;t++)this.preDrawHooks.hooks[t].apply(this,this.preDrawSeriesHooks.args[t]);this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},"jqplot-base-canvas",null,this)),this.baseCanvas.setContext(),this.target.append(this.title.draw()),this.title.pack({top:0,left:0});var s=this.legend.draw({},this),o={top:0,left:0,bottom:0,right:0};if(this.legend.placement=="outsideGrid"){this.target.append(s);switch(this.legend.location){case"n":o.top+=this.legend.getHeight();break;case"s":o.bottom+=this.legend.getHeight();break;case"ne":case"e":case"se":o.right+=this.legend.getWidth();break;case"nw":case"w":case"sw":o.left+=this.legend.getWidth();break;default:o.right+=this.legend.getWidth()}s=s.detach()}var a=this.axes,f;for(t=0;t<12;t++)f=u[t],this.target.append(a[f].draw(this.baseCanvas._ctx,this)),a[f].set();a.yaxis.show&&(o.left+=a.yaxis.getWidth());var l=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"],c=[0,0,0,0,0,0,0,0],h=0,p;for(p=0;p<8;p++)a[l[p]].show&&(h+=a[l[p]].getWidth(),c[p]=h);o.right+=h,a.x2axis.show&&(o.top+=a.x2axis.getHeight()),this.title.show&&(o.top+=this.title.getHeight()),a.xaxis.show&&(o.bottom+=a.xaxis.getHeight());if(this.options.gridDimensions&&e.isPlainObject(this.options.gridDimensions)){var d=parseInt(this.options.gridDimensions.width,10)||0,v=parseInt(this.options.gridDimensions.height,10)||0,m=(this._width-o.left-o.right-d)/2,g=(this._height-o.top-o.bottom-v)/2;g>=0&&m>=0&&(o.top+=g,o.bottom+=g,o.left+=m,o.right+=m)}var y=["top","bottom","left","right"];for(var p in y)this._gridPadding[y[p]]==null&&o[y[p]]>0?this._gridPadding[y[p]]=o[y[p]]:this._gridPadding[y[p]]==null&&(this._gridPadding[y[p]]=this._defaultGridPadding[y[p]]);var b=this._gridPadding;this.legend.placement==="outsideGrid"&&(b={top:this.title.getHeight(),left:0,right:0,bottom:0},this.legend.location==="s"&&(b.left=this._gridPadding.left,b.right=this._gridPadding.right)),a.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-a.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),a.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-a.yaxis.getWidth(),height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),a.x2axis.pack({position:"absolute",top:this._gridPadding.top-a.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});for(t=8;t>0;t--)a[l[t-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-c[t-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});var w=(this._width-this._gridPadding.left-this._gridPadding.right)/2+this._gridPadding.left-a.yMidAxis.getWidth()/2;a.yMidAxis.pack({position:"absolute",top:0,left:w,zIndex:9,textAlign:"center"},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),this.target.append(this.grid.createElement(this._gridPadding,this)),this.grid.draw();var E=this.series,S=E.length;for(t=0,r=S;t<r;t++)n=this.seriesStack[t],this.target.append(E[n].shadowCanvas.createElement(this._gridPadding,"jqplot-series-shadowCanvas",null,this)),E[n].shadowCanvas.setContext(),E[n].shadowCanvas._elem.data("seriesIndex",n);for(t=0,r=S;t<r;t++)n=this.seriesStack[t],this.target.append(E[n].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this)),E[n].canvas.setContext(),E[n].canvas._elem.data("seriesIndex",n);this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this)),this.eventCanvas.setContext(),this.eventCanvas._ctx.fillStyle="rgba(0,0,0,0)",this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height),this.bindCustomEvents(),this.legend.preDraw?(this.eventCanvas._elem.before(s),this.legend.pack(b),this.legend._elem?this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}}):this.drawSeries()):(this.drawSeries(),S&&e(E[S-1].canvas._elem).after(s),this.legend.pack(b));for(var t=0,r=e.jqplot.eventListenerHooks.length;t<r;t++)this.eventCanvas._elem.bind(e.jqplot.eventListenerHooks[t][0],{plot:this},e.jqplot.eventListenerHooks[t][1]);for(var t=0,r=this.eventListenerHooks.hooks.length;t<r;t++)this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[t][0],{plot:this},this.eventListenerHooks.hooks[t][1]);var x=this.fillBetween;x.fill&&x.series1!==x.series2&&x.series1<S&&x.series2<S&&E[x.series1]._type==="line"&&E[x.series2]._type==="line"&&this.doFillBetweenLines();for(var t=0,r=e.jqplot.postDrawHooks.length;t<r;t++)e.jqplot.postDrawHooks[t].call(this);for(var t=0,r=this.postDrawHooks.hooks.length;t<r;t++)this.postDrawHooks.hooks[t].apply(this,this.postDrawHooks.args[t]);this.target.is(":visible")&&(this._drawCount+=1);var T,N,C,k;for(t=0,r=S;t<r;t++)T=E[t],N=T.renderer,C=".jqplot-point-label.jqplot-series-"+t,N.animation&&N.animation._supported&&N.animation.show&&(this._drawCount<2||this.animateReplot)&&(k=this.target.find(C),k.stop(!0,!0).hide(),T.canvas._elem.stop(!0,!0).hide(),T.shadowCanvas._elem.stop(!0,!0).hide(),T.canvas._elem.jqplotEffect("blind",{mode:"show",direction:N.animation.direction},N.animation.speed),T.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:N.animation.direction},N.animation.speed),k.fadeIn(N.animation.speed*.8));k=null,this.target.trigger("jqplotPostDraw",[this])}},a.prototype.doFillBetweenLines=function(){var e=this.fillBetween,t=e.series1,n=e.series2,r=t<n?t:n,i=n>t?n:t,s=this.series[r],o=this.series[i];if(o.renderer.smooth)var u=o.renderer._smoothedData.slice(0).reverse();else var u=o.gridData.slice(0).reverse();if(s.renderer.smooth)var a=s.renderer._smoothedData.concat(u);else var a=s.gridData.concat(u);var f=e.color!==null?e.color:this.series[t].fillColor,l=e.baseSeries!==null?e.baseSeries:r,c=this.series[l].renderer.shapeRenderer,h={fillStyle:f,fill:!0,closePath:!0};c.draw(s.shadowCanvas._ctx,a,h)},this.bindCustomEvents=function(){this.eventCanvas._elem.bind("click",{plot:this},this.onClick),this.eventCanvas._elem.bind("dblclick",{plot:this},this.onDblClick),this.eventCanvas._elem.bind("mousedown",{plot:this},this.onMouseDown),this.eventCanvas._elem.bind("mousemove",{plot:this},this.onMouseMove),this.eventCanvas._elem.bind("mouseenter",{plot:this},this.onMouseEnter),this.eventCanvas._elem.bind("mouseleave",{plot:this},this.onMouseLeave),this.captureRightClick?(this.eventCanvas._elem.bind("mouseup",{plot:this},this.onRightClick),this.eventCanvas._elem.get(0).oncontextmenu=function(){return!1}):this.eventCanvas._elem.bind("mouseup",{plot:this},this.onMouseUp)},this.onClick=function(t){var n=c(t),r=t.data.plot,i=h(n.gridPos,r),s=e.Event("jqplotClick");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])},this.onDblClick=function(t){var n=c(t),r=t.data.plot,i=h(n.gridPos,r),s=e.Event("jqplotDblClick");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])},this.onMouseDown=function(t){var n=c(t),r=t.data.plot,i=h(n.gridPos,r),s=e.Event("jqplotMouseDown");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])},this.onMouseUp=function(t){var n=c(t),r=e.Event("jqplotMouseUp");r.pageX=t.pageX,r.pageY=t.pageY,e(this).trigger(r,[n.gridPos,n.dataPos,null,t.data.plot])},this.onRightClick=function(t){var n=c(t),r=t.data.plot,i=h(n.gridPos,r);if(r.captureRightClick)if(t.which==3){var s=e.Event("jqplotRightClick");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])}else{var s=e.Event("jqplotMouseUp");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])}},this.onMouseMove=function(t){var n=c(t),r=t.data.plot,i=h(n.gridPos,r),s=e.Event("jqplotMouseMove");s.pageX=t.pageX,s.pageY=t.pageY,e(this).trigger(s,[n.gridPos,n.dataPos,i,r])},this.onMouseEnter=function(t){var n=c(t),r=t.data.plot,i=e.Event("jqplotMouseEnter");i.pageX=t.pageX,i.pageY=t.pageY,i.relatedTarget=t.relatedTarget,e(this).trigger(i,[n.gridPos,n.dataPos,null,r])},this.onMouseLeave=function(t){var n=c(t),r=t.data.plot,i=e.Event("jqplotMouseLeave");i.pageX=t.pageX,i.pageY=t.pageY,i.relatedTarget=t.relatedTarget,e(this).trigger(i,[n.gridPos,n.dataPos,null,r])},this.drawSeries=function(n,r){var i,s,o;r=typeof n=="number"&&r==null?n:r,n=typeof n=="object"?n:{};if(r!=t)s=this.series[r],o=s.shadowCanvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),s.drawShadow(o,n,this),o=s.canvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),s.draw(o,n,this),s.renderer.constructor==e.jqplot.BezierCurveRenderer&&r<this.series.length-1&&this.drawSeries(r+1);else for(i=0;i<this.series.length;i++)s=this.series[i],o=s.shadowCanvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),s.drawShadow(o,n,this),o=s.canvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),s.draw(o,n,this);n=r=i=s=o=null},this.moveSeriesToFront=function(t){t=parseInt(t,10);var n=e.inArray(t,this.seriesStack);if(n==-1)return;if(n==this.seriesStack.length-1){this.previousSeriesStack=this.seriesStack.slice(0);return}var r=this.seriesStack[this.seriesStack.length-1],i=this.series[t].canvas._elem.detach(),s=this.series[t].shadowCanvas._elem.detach();this.series[r].shadowCanvas._elem.after(s),this.series[r].canvas._elem.after(i),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(n,1),this.seriesStack.push(t)},this.moveSeriesToBack=function(t){t=parseInt(t,10);var n=e.inArray(t,this.seriesStack);if(n==0||n==-1)return;var r=this.seriesStack[0],i=this.series[t].canvas._elem.detach(),s=this.series[t].shadowCanvas._elem.detach();this.series[r].shadowCanvas._elem.before(s),this.series[r].canvas._elem.before(i),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(n,1),this.seriesStack.unshift(t)},this.restorePreviousSeriesOrder=function(){var e,t,n,r,i,s,o;if(this.seriesStack==this.previousSeriesStack)return;for(e=1;e<this.previousSeriesStack.length;e++)s=this.previousSeriesStack[e],o=this.previousSeriesStack[e-1],n=this.series[s].canvas._elem.detach(),r=this.series[s].shadowCanvas._elem.detach(),this.series[o].shadowCanvas._elem.after(r),this.series[o].canvas._elem.after(n);i=this.seriesStack.slice(0),this.seriesStack=this.previousSeriesStack.slice(0),this.previousSeriesStack=i},this.restoreOriginalSeriesOrder=function(){var e,t,n=[],r,i;for(e=0;e<this.series.length;e++)n.push(e);if(this.seriesStack==n)return;this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack=n;for(e=1;e<this.seriesStack.length;e++)r=this.series[e].canvas._elem.detach(),i=this.series[e].shadowCanvas._elem.detach(),this.series[e-1].shadowCanvas._elem.after(i),this.series[e-1].canvas._elem.after(r)},this.activateTheme=function(e){this.themeEngine.activate(this,e)}}function l(e,t){return(3.4182054+t)*Math.pow(e,-0.3534992)}function c(e,t){var n=Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2));return 5.7648*Math.log(n)+7.4456}function h(e){var t=(Math.exp(2*e)-1)/(Math.exp(2*e)+1);return t}function p(e){function v(e,t){return e-t==0?Math.pow(10,10):e-t}var t=this.renderer.smooth,n=this.canvas.getWidth(),r=this._xaxis.series_p2u,i=this._yaxis.series_p2u,s=null,o=null,u=e.length/n,a=[],f=[];isNaN(parseFloat(t))?s=l(u,.5):s=parseFloat(t);var c=[],h=[];for(var p=0,d=e.length;p<d;p++)c.push(e[p][1]),h.push(e[p][0]);var m,g,y,b,w=e.length-1;for(var E=1,S=e.length;E<S;E++){var x=[],T=[];for(var N=0;N<2;N++){var p=E-1+N;p==0||p==w?x[N]=Math.pow(10,10):c[p+1]-c[p]==0||c[p]-c[p-1]==0?x[N]=0:(h[p+1]-h[p])/(c[p+1]-c[p])+(h[p]-h[p-1])/(c[p]-c[p-1])==0?x[N]=0:(c[p+1]-c[p])*(c[p]-c[p-1])<0?x[N]=0:x[N]=2/(v(h[p+1],h[p])/(c[p+1]-c[p])+v(h[p],h[p-1])/(c[p]-c[p-1]))}E==1?x[0]=1.5*(c[1]-c[0])/v(h[1],h[0])-x[1]/2:E==w&&(x[1]=1.5*(c[w]-c[w-1])/v(h[w],h[w-1])-x[0]/2),T[0]=-2*(x[1]+2*x[0])/v(h[E],h[E-1])+6*(c[E]-c[E-1])/Math.pow(v(h[E],h[E-1]),2),T[1]=2*(2*x[1]+x[0])/v(h[E],h[E-1])-6*(c[E]-c[E-1])/Math.pow(v(h[E],h[E-1]),2),b=1/6*(T[1]-T[0])/v(h[E],h[E-1]),y=.5*(h[E]*T[0]-h[E-1]*T[1])/v(h[E],h[E-1]),g=(c[E]-c[E-1]-y*(Math.pow(h[E],2)-Math.pow(h[E-1],2))-b*(Math.pow(h[E],3)-Math.pow(h[E-1],3)))/v(h[E],h[E-1]),m=c[E-1]-g*h[E-1]-y*Math.pow(h[E-1],2)-b*Math.pow(h[E-1],3);var C=(h[E]-h[E-1])/s,k,L;for(var N=0,d=s;N<d;N++)k=[],L=h[E-1]+N*C,k.push(L),k.push(m+g*L+y*Math.pow(L,2)+b*Math.pow(L,3)),a.push(k),f.push([r(k[0]),i(k[1])])}return a.push(e[p]),f.push([r(e[p][0]),i(e[p][1])]),[a,f]}function d(e){var t=this.renderer.smooth,n=this.renderer.tension,r=this.canvas.getWidth(),i=this._xaxis.series_p2u,s=this._yaxis.series_p2u,o=null,u=null,a=null,f=null,c=null,p=null,d=null,v=null,m,g,y,b,w,E,S,x,T,N,C,k,L,A=[],O=[],M=e.length/r,_,D,P,H,B,j=[],F=[];isNaN(parseFloat(t))?o=l(M,.5):o=parseFloat(t),isNaN(parseFloat(n))||(n=parseFloat(n));for(var I=0,q=e.length-1;I<q;I++){n===null?(p=Math.abs((e[I+1][1]-e[I][1])/(e[I+1][0]-e[I][0])),_=.3,D=.6,P=(D-_)/2,H=2.5,B=-1.4,v=p/H+B,f=P*h(v)-P*h(B)+_,I>0&&(d=Math.abs((e[I][1]-e[I-1][1])/(e[I][0]-e[I-1][0]))),v=d/H+B,c=P*h(v)-P*h(B)+_,a=(f+c)/2):a=n;for(m=0;m<o;m++)g=m/o,y=(1+2*g)*Math.pow(1-g,2),b=g*Math.pow(1-g,2),w=Math.pow(g,2)*(3-2*g),E=Math.pow(g,2)*(g-1),e[I-1]?(S=a*(e[I+1][0]-e[I-1][0]),x=a*(e[I+1][1]-e[I-1][1])):(S=a*(e[I+1][0]-e[I][0]),x=a*(e[I+1][1]-e[I][1])),e[I+2]?(T=a*(e[I+2][0]-e[I][0]),N=a*(e[I+2][1]-e[I][1])):(T=a*(e[I+1][0]-e[I][0]),N=a*(e[I+1][1]-e[I][1])),C=y*e[I][0]+w*e[I+1][0]+b*S+E*T,k=y*e[I][1]+w*e[I+1][1]+b*x+E*N,L=[C,k],j.push(L),F.push([i(C),s(k)])}return j.push(e[q]),F.push([i(e[q][0]),s(e[q][1])]),[j,F]}function v(t,n,r){for(var i=0;i<this.series.length;i++)this.series[i].renderer.constructor==e.jqplot.LineRenderer&&this.series[i].highlightMouseOver&&(this.series[i].highlightMouseDown=!1)}function m(){this.plugins.lineRenderer&&this.plugins.lineRenderer.highlightCanvas&&(this.plugins.lineRenderer.highlightCanvas.resetCanvas(),this.plugins.lineRenderer.highlightCanvas=null),this.plugins.lineRenderer.highlightedSeriesIndex=null,this.plugins.lineRenderer.highlightCanvas=new e.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-lineRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.lineRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(e){y(e.data.plot)})}function g(e,t,n,r){var i=e.series[t],s=e.plugins.lineRenderer.highlightCanvas;s._ctx.clearRect(0,0,s._ctx.canvas.width,s._ctx.canvas.height),i._highlightedPoint=n,e.plugins.lineRenderer.highlightedSeriesIndex=t;var o={fillStyle:i.highlightColor};i.type==="line"&&i.renderer.bands.show&&(o.fill=!0,o.closePath=!0),i.renderer.shapeRenderer.draw(s._ctx,r,o),s=null}function y(e){var t=e.plugins.lineRenderer.highlightCanvas;t._ctx.clearRect(0,0,t._ctx.canvas.width,t._ctx.canvas.height);for(var n=0;n<e.series.length;n++)e.series[n]._highlightedPoint=null;e.plugins.lineRenderer.highlightedSeriesIndex=null,e.target.trigger("jqplotDataUnhighlight"),t=null}function b(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],o=jQuery.Event("jqplotDataMouseOver");o.pageX=e.pageX,o.pageY=e.pageY,i.target.trigger(o,s);if(i.series[s[0]].highlightMouseOver&&s[0]!=i.plugins.lineRenderer.highlightedSeriesIndex){var u=jQuery.Event("jqplotDataHighlight");u.which=e.which,u.pageX=e.pageX,u.pageY=e.pageY,i.target.trigger(u,s),g(i,r.seriesIndex,r.pointIndex,r.points)}}else r==null&&y(i)}function w(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data];if(i.series[s[0]].highlightMouseDown&&s[0]!=i.plugins.lineRenderer.highlightedSeriesIndex){var o=jQuery.Event("jqplotDataHighlight");o.which=e.which,o.pageX=e.pageX,o.pageY=e.pageY,i.target.trigger(o,s),g(i,r.seriesIndex,r.pointIndex,r.points)}}else r==null&&y(i)}function E(e,t,n,r,i){var s=i.plugins.lineRenderer.highlightedSeriesIndex;s!=null&&i.series[s].highlightMouseDown&&y(i)}function S(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],o=jQuery.Event("jqplotDataClick");o.which=e.which,o.pageX=e.pageX,o.pageY=e.pageY,i.target.trigger(o,s)}}function x(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],o=i.plugins.lineRenderer.highlightedSeriesIndex;o!=null&&i.series[o].highlightMouseDown&&y(i);var u=jQuery.Event("jqplotDataRightClick");u.which=e.which,u.pageX=e.pageX,u.pageY=e.pageY,i.target.trigger(u,s)}}function T(e){var t;e=Math.abs(e);if(e>=10)t="%d";else if(e>1)e===parseInt(e,10)?t="%d":t="%.1f";else{var n=-Math.floor(Math.log(e)/Math.LN10);t="%."+n+"f"}return t}function L(t,n,r){var i=Math.floor(r/2),s=Math.ceil(r*1.5),o=Number.MAX_VALUE,u=n-t,a,f,l,c=e.jqplot.getSignificantFigures,h,p,d,v;for(var m=0,g=s-i+1;m<g;m++)d=i+m,a=u/(d-1),f=c(a),a=Math.abs(r-d)+f.digitsRight,a<o?(o=a,l=d,v=f.digitsRight):a===o&&f.digitsRight<v&&(l=d,v=f.digitsRight);return h=Math.max(v,Math.max(c(t).digitsRight,c(n).digitsRight)),h===0?p="%d":p="%."+h+"f",a=u/(l-1),[t,n,l,p,a]}function A(e,t){t=t||7;var n=e/(t-1),r=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),i=n/r,s;return r<1?i>5?s=10*r:i>2?s=5*r:i>1?s=2*r:s=r:i>5?s=10*r:i>4?s=5*r:i>3?s=4*r:i>2?s=3*r:i>1?s=2*r:s=r,s}function O(e,t){t=t||1;var n=Math.floor(Math.log(e)/Math.LN10),r=Math.pow(10,n),i=e/r,s;return i/=t,i<=.38?s=.1:i<=1.6?s=.2:i<=4?s=.5:i<=8?s=1:i<=16?s=2:s=5,s*r}function M(e,t){var n=Math.floor(Math.log(e)/Math.LN10),r=Math.pow(10,n),i=e/r,s,o;return i/=t,i<=.38?o=.1:i<=1.6?o=.2:i<=4?o=.5:i<=8?o=1:i<=16?o=2:o=5,s=o*r,[s,o,r]}function _(e,t){return e-t}function D(e){if(e==null||typeof e!="object")return e;var t=new e.constructor;for(var n in e)t[n]=D(e[n]);return t}function P(e,t){if(t==null||typeof t!="object")return;for(var n in t)n=="highlightColors"&&(e[n]=D(t[n])),t[n]!=null&&typeof t[n]=="object"?(e.hasOwnProperty(n)||(e[n]={}),P(e[n],t[n])):e[n]=t[n]}function G(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Y(e){return e===null?"[object Null]":Object.prototype.toString.call(e)}function tt(n,r,i,s){if(e.isPlainObject(n))return n;n={effect:n},r===t&&(r={}),e.isFunction(r)&&(s=r,i=null,r={});if(e.type(r)==="number"||e.fx.speeds[r])s=i,i=r,r={};return e.isFunction(i)&&(s=i,i=null),r&&e.extend(n,r),i=i||r.duration,n.duration=e.fx.off?0:typeof i=="number"?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,n.complete=s||r.complete,n}function nt(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.jqplot.effects.effect[t]?Z&&e.jqplot.effects[t]?!1:!0:!1}var t;e.fn.emptyForce=function(){for(var t=0,n;(n=e(this)[t])!=null;t++){n.nodeType===1&&e.cleanData(n.getElementsByTagName("*"));if(e.jqplot.use_excanvas)n.outerHTML="";else while(n.firstChild)n.removeChild(n.firstChild);n=null}return e(this)},e.fn.removeChildForce=function(e){while(e.firstChild)this.removeChildForce(e.firstChild),e.removeChild(e.firstChild)},e.fn.jqplot=function(){var n=[],r=[];for(var i=0,s=arguments.length;i<s;i++)e.isArray(arguments[i])?n.push(arguments[i]):e.isPlainObject(arguments[i])&&r.push(arguments[i]);return this.each(function(i){var s,o,u=e(this),a=n.length,f=r.length,l,c;i<a?l=n[i]:l=a?n[a-1]:null,i<f?c=r[i]:c=f?r[f-1]:null,s=u.attr("id"),s===t&&(s="jqplot_target_"+e.jqplot.targetCounter++,u.attr("id",s)),o=e.jqplot(s,l,c),u.data("jqplot",o)})},e.jqplot=function(t,n,r){var i=null,s=null;arguments.length===3?(i=n,s=r):arguments.length===2&&(e.isArray(n)?i=n:e.isPlainObject(n)&&(s=n)),i===null&&s!==null&&s.data&&(i=s.data);var o=new a;e("#"+t).removeClass("jqplot-error");if(!e.jqplot.config.catchErrors)return o.init(t,i,s),o.draw(),o.themeEngine.init.call(o),o;try{return o.init(t,i,s),o.draw(),o.themeEngine.init.call(o),o}catch(u){var f=e.jqplot.config.errorMessage||u.message;e("#"+t).append('<div class="jqplot-error-message">'+f+"</div>"),e("#"+t).addClass("jqplot-error"),document.getElementById(t).style.background=e.jqplot.config.errorBackground,document.getElementById(t).style.border=e.jqplot.config.errorBorder,document.getElementById(t).style.fontFamily=e.jqplot.config.errorFontFamily,document.getElementById(t).style.fontSize=e.jqplot.config.errorFontSize,document.getElementById(t).style.fontStyle=e.jqplot.config.errorFontStyle,document.getElementById(t).style.fontWeight=e.jqplot.config.errorFontWeight}},e.jqplot.version="1.0.7",e.jqplot.revision="1224",e.jqplot.targetCounter=1,e.jqplot.CanvasManager=function(){typeof e.jqplot.CanvasManager.canvases=="undefined"&&(e.jqplot.CanvasManager.canvases=[],e.jqplot.CanvasManager.free=[]);var n=[];this.getCanvas=function(){var t,r=!0;if(!e.jqplot.use_excanvas)for(var i=0,s=e.jqplot.CanvasManager.canvases.length;i<s;i++)if(e.jqplot.CanvasManager.free[i]===!0){r=!1,t=e.jqplot.CanvasManager.canvases[i],e.jqplot.CanvasManager.free[i]=!1,n.push(i);break}return r&&(t=document.createElement("canvas"),n.push(e.jqplot.CanvasManager.canvases.length),e.jqplot.CanvasManager.canvases.push(t),e.jqplot.CanvasManager.free.push(!1)),t},this.initCanvas=function(t){return e.jqplot.use_excanvas?window.G_vmlCanvasManager.initElement(t):t},this.freeAllCanvases=function(){for(var e=0,t=n.length;e<t;e++)this.freeCanvas(n[e]);n=[]},this.freeCanvas=function(n){if(e.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==t)window.G_vmlCanvasManager.uninitElement(e.jqplot.CanvasManager.canvases[n]),e.jqplot.CanvasManager.canvases[n]=null;else{var r=e.jqplot.CanvasManager.canvases[n];r.getContext("2d").clearRect(0,0,r.width,r.height),e(r).unbind().removeAttr("class").removeAttr("style"),e(r).css({left:"",top:"",position:""}),r.width=0,r.height=0,e.jqplot.CanvasManager.free[n]=!0}}},e.jqplot.log=function(){window.console&&window.console.log.apply(window.console,arguments)},e.jqplot.config={addDomReference:!1,enablePlugins:!1,defaultHeight:300,defaultWidth:400,UTCAdjust:!1,timezoneOffset:new Date((new Date).getTimezoneOffset()*6e4),errorMessage:"",errorBackground:"",errorBorder:"",errorFontFamily:"",errorFontSize:"",errorFontStyle:"",errorFontWeight:"",catchErrors:!1,defaultTickFormatString:"%.1f",defaultColors:["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],defaultNegativeColors:["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"],dashLength:4,gapLength:4,dotGapLength:2.5,srcLocation:"jqplot/src/",pluginLocation:"jqplot/src/plugins/"},e.jqplot.arrayMax=function(e){return Math.max.apply(Math,e)},e.jqplot.arrayMin=function(e){return Math.min.apply(Math,e)},e.jqplot.enablePlugins=e.jqplot.config.enablePlugins,e.jqplot.support_canvas=function(){return typeof e.jqplot.support_canvas.result=="undefined"&&(e.jqplot.support_canvas.result=!!document.createElement("canvas").getContext),e.jqplot.support_canvas.result},e.jqplot.support_canvas_text=function(){return typeof e.jqplot.support_canvas_text.result=="undefined"&&(window.G_vmlCanvasManager!==t&&window.G_vmlCanvasManager._version>887?e.jqplot.support_canvas_text.result=!0:e.jqplot.support_canvas_text.result=!!document.createElement("canvas").getContext&&typeof document.createElement("canvas").getContext("2d").fillText=="function"),e.jqplot.support_canvas_text.result},e.jqplot.use_excanvas=(!e.support.boxModel||!e.support.objectAll||!$support.leadingWhitespace)&&!e.jqplot.support_canvas()?!0:!1,e.jqplot.preInitHooks=[],e.jqplot.postInitHooks=[],e.jqplot.preParseOptionsHooks=[],e.jqplot.postParseOptionsHooks=[],e.jqplot.preDrawHooks=[],e.jqplot.postDrawHooks=[],e.jqplot.preDrawSeriesHooks=[],e.jqplot.postDrawSeriesHooks=[],e.jqplot.preDrawLegendHooks=[],e.jqplot.addLegendRowHooks=[],e.jqplot.preSeriesInitHooks=[],e.jqplot.postSeriesInitHooks=[],e.jqplot.preParseSeriesOptionsHooks=[],e.jqplot.postParseSeriesOptionsHooks=[],e.jqplot.eventListenerHooks=[],e.jqplot.preDrawSeriesShadowHooks=[],e.jqplot.postDrawSeriesShadowHooks=[],e.jqplot.ElemContainer=function(){this._elem,this._plotWidth,this._plotHeight,this._plotDimensions={height:null,width:null}},e.jqplot.ElemContainer.prototype.createElement=function(t,n,r,i,s){this._offsets=n;var o=r||"jqplot",u=document.createElement(t);return this._elem=e(u),this._elem.addClass(o),this._elem.css(i),this._elem.attr(s),u=null,this._elem},e.jqplot.ElemContainer.prototype.getWidth=function(){return this._elem?this._elem.outerWidth(!0):null},e.jqplot.ElemContainer.prototype.getHeight=function(){return this._elem?this._elem.outerHeight(!0):null},e.jqplot.ElemContainer.prototype.getPosition=function(){return this._elem?this._elem.position():{top:null,left:null,bottom:null,right:null}},e.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top},e.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left},e.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css("bottom")},e.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css("right")},n.prototype=new e.jqplot.ElemContainer,n.prototype.constructor=n,n.prototype.init=function(){e.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.tickOptions.axis=this.name,this.tickOptions.showMark==null&&(this.tickOptions.showMark=this.showTicks),this.tickOptions.showMark==null&&(this.tickOptions.showMark=this.showTickMarks),this.tickOptions.showLabel==null&&(this.tickOptions.showLabel=this.showTicks),this.label==null||this.label==""?this.showLabel=!1:this.labelOptions.label=this.label,this.showLabel==0&&(this.labelOptions.show=!1),this.pad==0&&(this.pad=1),this.padMax==0&&(this.padMax=1),this.padMin==0&&(this.padMin=1),this.padMax==null&&(this.padMax=(this.pad-1)/2+1),this.padMin==null&&(this.padMin=(this.pad-1)/2+1),this.pad=this.padMax+this.padMin-1;if(this.min!=null||this.max!=null)this.autoscale=!1;this.syncTicks==null&&this.name.indexOf("y")>-1?this.syncTicks=!0:this.syncTicks==null&&(this.syncTicks=!1),this.renderer.init.call(this,this.rendererOptions)},n.prototype.draw=function(e,t){return this.__ticks&&(this.__ticks=null),this.renderer.draw.call(this,e,t)},n.prototype.set=function(){this.renderer.set.call(this)},n.prototype.pack=function(e,t){this.show&&this.renderer.pack.call(this,e,t),this._min==null&&(this._min=this.min,this._max=this.max,this._tickInterval=this.tickInterval,this._numberTicks=this.numberTicks,this.__ticks=this._ticks)},n.prototype.reset=function(){this.renderer.reset.call(this)},n.prototype.resetScale=function(t){e.extend(!0,this,{min:null,max:null,numberTicks:null,tickInterval:null,_ticks:[],ticks:[]},t),this.resetDataBounds()},n.prototype.resetDataBounds=function(){var t=this._dataBounds;t.min=null,t.max=null;var n,r,i,s=this.show?!0:!1;for(var o=0;o<this._series.length;o++){r=this._series[o];if(r.show||this.scaleToHiddenSeries){i=r._plotData,r._type==="line"&&r.renderer.bands.show&&this.name.charAt(0)!=="x"&&(i=[[0,r.renderer.bands._min],[1,r.renderer.bands._max]]);var u=1,a=1;r._type!=null&&r._type=="ohlc"&&(u=3,a=2);for(var f=0,n=i.length;f<n;f++)if(this.name=="xaxis"||this.name=="x2axis"){if(i[f][0]!=null&&i[f][0]<t.min||t.min==null)t.min=i[f][0];if(i[f][0]!=null&&i[f][0]>t.max||t.max==null)t.max=i[f][0]}else{if(i[f][u]!=null&&i[f][u]<t.min||t.min==null)t.min=i[f][u];if(i[f][a]!=null&&i[f][a]>t.max||t.max==null)t.max=i[f][a]}if(s&&r.renderer.constructor!==e.jqplot.BarRenderer)s=!1;else if(s&&this._options.hasOwnProperty("forceTickAt0")&&this._options.forceTickAt0==0)s=!1;else if(s&&r.renderer.constructor===e.jqplot.BarRenderer)if(r.barDirection=="vertical"&&this.name!="xaxis"&&this.name!="x2axis"){if(this._options.pad!=null||this._options.padMin!=null)s=!1}else r.barDirection=="horizontal"&&(this.name=="xaxis"||this.name=="x2axis")&&(this._options.pad!=null||this._options.padMin!=null)&&(s=!1)}}s&&this.renderer.constructor===e.jqplot.LinearAxisRenderer&&t.min>=0&&(this.padMin=1,this.forceTickAt0=!0)},r.prototype=new e.jqplot.ElemContainer,r.prototype.constructor=r,r.prototype.setOptions=function(t){e.extend(!0,this,t),this.placement=="inside"&&(this.placement="insideGrid");if(this.xoffset>0){if(this.placement=="insideGrid")switch(this.location){case"nw":case"w":case"sw":this.marginLeft==null&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px";break;case"ne":case"e":case"se":default:this.marginRight==null&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px"}else if(this.placement=="outside")switch(this.location){case"nw":case"w":case"sw":this.marginRight==null&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px";break;case"ne":case"e":case"se":default:this.marginLeft==null&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px"}this.xoffset=0}if(this.yoffset>0){if(this.placement=="outside")switch(this.location){case"sw":case"s":case"se":this.marginTop==null&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px";break;case"ne":case"n":case"nw":default:this.marginBottom==null&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px"}else if(this.placement=="insideGrid")switch(this.location){case"sw":case"s":case"se":this.marginBottom==null&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px";break;case"ne":case"n":case"nw":default:this.marginTop==null&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px"}this.yoffset=0}},r.prototype.init=function(){e.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},r.prototype.draw=function(t,n){for(var r=0;r<e.jqplot.preDrawLegendHooks.length;r++)e.jqplot.preDrawLegendHooks[r].call(this,t);return this.renderer.draw.call(this,t,n)},r.prototype.pack=function(e){this.renderer.pack.call(this,e)},i.prototype=new e.jqplot.ElemContainer,i.prototype.constructor=i,i.prototype.init=function(){e.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},i.prototype.draw=function(e){return this.renderer.draw.call(this,e)},i.prototype.pack=function(){this.renderer.pack.call(this)},s.prototype=new e.jqplot.ElemContainer,s.prototype.constructor=s,s.prototype.init=function(t,n,r){this.index=t,this.gridBorderWidth=n;var i=this.data,s=[],o,u;for(o=0,u=i.length;o<u;o++)if(!this.breakOnNull){if(i[o]==null||i[o][0]==null||i[o][1]==null)continue;s.push(i[o])}else s.push(i[o]);this.data=s,this.color||(this.color=r.colorGenerator.get(this.index)),this.negativeColor||(this.negativeColor=r.negativeColorGenerator.get(this.index)),this.fillColor||(this.fillColor=this.color);if(this.fillAlpha){var a=e.jqplot.normalize2rgb(this.fillColor),a=e.jqplot.getColorComponents(a);this.fillColor="rgba("+a[0]+","+a[1]+","+a[2]+","+this.fillAlpha+")"}e.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions,r),this.markerRenderer=new this.markerRenderer,this.markerOptions.color||(this.markerOptions.color=this.color),this.markerOptions.show==null&&(this.markerOptions.show=this.showMarker),this.showMarker=this.markerOptions.show,this.markerRenderer.init(this.markerOptions)},s.prototype.draw=function(n,r,i){var s=r==t?{}:r;n=n==t?this.canvas._ctx:n;var o,u,a;for(o=0;o<e.jqplot.preDrawSeriesHooks.length;o++)e.jqplot.preDrawSeriesHooks[o].call(this,n,s);this.show&&(this.renderer.setGridData.call(this,i),s.preventJqPlotSeriesDrawTrigger||e(n.canvas).trigger("jqplotSeriesDraw",[this.data,this.gridData]),u=[],s.data?u=s.data:this._stack?u=this._plotData:u=this.data,a=s.gridData||this.renderer.makeGridData.call(this,u,i),this._type==="line"&&this.renderer.smooth&&this.renderer._smoothedData.length&&(a=this.renderer._smoothedData),this.renderer.draw.call(this,n,a,s,i));for(o=0;o<e.jqplot.postDrawSeriesHooks.length;o++)e.jqplot.postDrawSeriesHooks[o].call(this,n,s,i);n=r=i=o=u=a=null},s.prototype.drawShadow=function(n,r,i){var s=r==t?{}:r;n=n==t?this.shadowCanvas._ctx:n;var o,u,a;for(o=0;o<e.jqplot.preDrawSeriesShadowHooks.length;o++)e.jqplot.preDrawSeriesShadowHooks[o].call(this,n,s);this.shadow&&(this.renderer.setGridData.call(this,i),u=[],s.data?u=s.data:this._stack?u=this._plotData:u=this.data,a=s.gridData||this.renderer.makeGridData.call(this,u,i),this.renderer.drawShadow.call(this,n,a,s,i));for(o=0;o<e.jqplot.postDrawSeriesShadowHooks.length;o++)e.jqplot.postDrawSeriesShadowHooks[o].call(this,n,s);n=r=i=o=u=a=null},s.prototype.toggleDisplay=function(e,t){var n,r;e.data.series?n=e.data.series:n=this,e.data.speed&&(r=e.data.speed),r?n.canvas._elem.is(":hidden")||!n.show?(n.show=!0,n.canvas._elem.removeClass("jqplot-series-hidden"),n.shadowCanvas._elem&&n.shadowCanvas._elem.fadeIn(r),n.canvas._elem.fadeIn(r,t),n.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+n.index).fadeIn(r)):(n.show=!1,n.canvas._elem.addClass("jqplot-series-hidden"),n.shadowCanvas._elem&&n.shadowCanvas._elem.fadeOut(r),n.canvas._elem.fadeOut(r,t),n.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+n.index).fadeOut(r)):n.canvas._elem.is(":hidden")||!n.show?(n.show=!0,n.canvas._elem.removeClass("jqplot-series-hidden"),n.shadowCanvas._elem&&n.shadowCanvas._elem.show(),n.canvas._elem.show(0,t),n.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+n.index).show()):(n.show=!1,n.canvas._elem.addClass("jqplot-series-hidden"),n.shadowCanvas._elem&&n.shadowCanvas._elem.hide(),n.canvas._elem.hide(0,t),n.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+n.index).hide())},o.prototype=new e.jqplot.ElemContainer,o.prototype.constructor=o,o.prototype.init=function(){e.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},o.prototype.createElement=function(e,t){return this._offsets=e,this.renderer.createElement.call(this,t)},o.prototype.draw=function(){this.renderer.draw.call(this)},e.jqplot.GenericCanvas=function(){e.jqplot.ElemContainer.call(this),this._ctx},e.jqplot.GenericCanvas.prototype=new e.jqplot.ElemContainer,e.jqplot.GenericCanvas.prototype.constructor=e.jqplot.GenericCanvas,e.jqplot.GenericCanvas.prototype.createElement=function(n,r,i,s){this._offsets=n;var o="jqplot";r!=t&&(o=r);var u;return u=s.canvasManager.getCanvas(),i!=null&&(this._plotDimensions=i),u.width=this._plotDimensions.width-this._offsets.left-this._offsets.right,u.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom,this._elem=e(u),this._elem.css({position:"absolute",left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(o),u=s.canvasManager.initCanvas(u),u=null,this._elem},e.jqplot.GenericCanvas.prototype.setContext=function(){return this._ctx=this._elem.get(0).getContext("2d"),this._ctx},e.jqplot.GenericCanvas.prototype.resetCanvas=function(){this._elem&&(e.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==t&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce()),this._ctx=null},e.jqplot.HooksManager=function(){this.hooks=[],this.args=[]},e.jqplot.HooksManager.prototype.addOnce=function(e,t){t=t||[];var n=!1;for(var r=0,i=this.hooks.length;r<i;r++)this.hooks[r]==e&&(n=!0);n||(this.hooks.push(e),this.args.push(t))},e.jqplot.HooksManager.prototype.add=function(e,t){t=t||[],this.hooks.push(e),this.args.push(t)},e.jqplot.EventListenerManager=function(){this.hooks=[]},e.jqplot.EventListenerManager.prototype.addOnce=function(e,t){var n=!1,r,i;for(var i=0,s=this.hooks.length;i<s;i++)r=this.hooks[i],r[0]==e&&r[1]==t&&(n=!0);n||this.hooks.push([e,t])},e.jqplot.EventListenerManager.prototype.add=function(e,t){this.hooks.push([e,t])};var u=["yMidAxis","xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];e.jqplot.computeHighlightColors=function(t){var n;if(e.isArray(t)){n=[];for(var r=0;r<t.length;r++){var i=e.jqplot.getColorComponents(t[r]),s=[i[0],i[1],i[2]],o=s[0]+s[1]+s[2];for(var u=0;u<3;u++)s[u]=o>660?s[u]*.85:.73*s[u]+90,s[u]=parseInt(s[u],10),s[u]>255?255:s[u];s[3]=.3+.35*i[3],n.push("rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")")}}else{var i=e.jqplot.getColorComponents(t),s=[i[0],i[1],i[2]],o=s[0]+s[1]+s[2];for(var u=0;u<3;u++)s[u]=o>660?s[u]*.85:.73*s[u]+90,s[u]=parseInt(s[u],10),s[u]>255?255:s[u];s[3]=.3+.35*i[3],n="rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"}return n},e.jqplot.ColorGenerator=function(t){t=t||e.jqplot.config.defaultColors;var n=0;this.next=function(){return n<t.length?t[n++]:(n=0,t[n++])},this.previous=function(){return n>0?t[n--]:(n=t.length-1,t[n])},this.get=function(e){var n=e-t.length*Math.floor(e/t.length);return t[n]},this.setColors=function(e){t=e},this.reset=function(){n=0},this.getIndex=function(){return n},this.setIndex=function(e){n=e}},e.jqplot.hex2rgb=function(e,t){e=e.replace("#",""),e.length==3&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2));var n;return n="rgba("+parseInt(e.slice(0,2),16)+", "+parseInt(e.slice(2,4),16)+", "+parseInt(e.slice(4,6),16),t&&(n+=", "+t),n+=")",n},e.jqplot.rgb2hex=function(e){var t=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/,n=e.match(t),r="#";for(var i=1;i<4;i++){var s;n[i].search(/%/)!=-1?(s=parseInt(255*n[i]/100,10).toString(16),s.length==1&&(s="0"+s)):(s=parseInt(n[i],10).toString(16),s.length==1&&(s="0"+s)),r+=s}return r},e.jqplot.normalize2rgb=function(t,n){if(t.search(/^ *rgba?\(/)!=-1)return t;if(t.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/)!=-1)return e.jqplot.hex2rgb(t,n);throw"invalid color spec"},e.jqplot.getColorComponents=function(t){t=e.jqplot.colorKeywordMap[t]||t;var n=e.jqplot.normalize2rgb(t),r=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/,i=n.match(r),s=[];for(var o=1;o<4;o++)i[o].search(/%/)!=-1?s[o-1]=parseInt(255*i[o]/100,10):s[o-1]=parseInt(i[o],10);return s[3]=parseFloat(i[4])?parseFloat(i[4]):1,s},e.jqplot.colorKeywordMap={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb( 0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb( 0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb( 0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb( 95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb( 0, 255, 255)",darkblue:"rgb( 0, 0, 139)",darkcyan:"rgb( 0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb( 0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb( 85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb( 72, 61, 139)",darkslategray:"rgb( 47, 79, 79)",darkslategrey:"rgb( 47, 79, 79)",darkturquoise:"rgb( 0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb( 0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb( 30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb( 34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb( 0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb( 75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb( 32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb( 0, 255, 0)",limegreen:"rgb( 50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb( 0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb( 60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb( 0, 250, 154)",mediumturquoise:"rgb( 72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb( 25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb( 0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb( 65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb( 46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb( 0, 255, 127)",steelblue:"rgb( 70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb( 0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb( 64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"},e.jqplot.AxisLabelRenderer=function(t){e.jqplot.ElemContainer.call(this),this.axis,this.show=!0,this.label="",this.fontFamily=null,this.fontSize=null,this.textColor=null,this._elem,this.escapeHTML=!1,e.extend(!0,this,t)},e.jqplot.AxisLabelRenderer.prototype=new e.jqplot.ElemContainer,e.jqplot.AxisLabelRenderer.prototype.constructor=e.jqplot.AxisLabelRenderer,e.jqplot.AxisLabelRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.AxisLabelRenderer.prototype.draw=function(t,n){return this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=e('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>'),Number(this.label)&&this._elem.css("white-space","nowrap"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._elem},e.jqplot.AxisLabelRenderer.prototype.pack=function(){},e.jqplot.AxisTickRenderer=function(t){e.jqplot.ElemContainer.call(this),this.mark="outside",this.axis,this.showMark=!0,this.showGridline=!0,this.isMinorTick=!1,this.size=4,this.markSize=6,this.show=!0,this.showLabel=!0,this.label=null,this.value=null,this._styles={},this.formatter=e.jqplot.DefaultTickFormatter,this.prefix="",this.suffix="",this.formatString="",this.fontFamily,this.fontSize,this.textColor,this.escapeHTML=!1,this._elem,this._breakTick=!1,e.extend(!0,this,t)},e.jqplot.AxisTickRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.AxisTickRenderer.prototype=new e.jqplot.ElemContainer,e.jqplot.AxisTickRenderer.prototype.constructor=e.jqplot.AxisTickRenderer,e.jqplot.AxisTickRenderer.prototype.setTick=function(e,t,n){return this.value=e,this.axis=t,n&&(this.isMinorTick=!0),this},e.jqplot.AxisTickRenderer.prototype.draw=function(){this.label===null&&(this.label=this.prefix+this.formatter(this.formatString,this.value)+this.suffix);var t={position:"absolute"};Number(this.label)&&(t.whitSpace="nowrap"),this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=e(document.createElement("div")),this._elem.addClass("jqplot-"+this.axis+"-tick"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this._elem.css(t);for(var n in this._styles)this._elem.css(n,this._styles[n]);return this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._breakTick&&this._elem.addClass("jqplot-breakTick"),this._elem},e.jqplot.DefaultTickFormatter=function(t,n){return typeof n=="number"?(t||(t=e.jqplot.config.defaultTickFormatString),e.jqplot.sprintf(t,n)):String(n)},e.jqplot.PercentTickFormatter=function(t,n){return typeof n=="number"?(n=100*n,t||(t=e.jqplot.config.defaultTickFormatString),e.jqplot.sprintf(t,n)):String(n)},e.jqplot.AxisTickRenderer.prototype.pack=function(){},e.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new e.jqplot.ShadowRenderer},e.jqplot.CanvasGridRenderer.prototype.init=function(t){this._ctx,e.extend(!0,this,t);var n={lineJoin:"miter",lineCap:"round",fill:!1,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:!1,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(n)},e.jqplot.CanvasGridRenderer.prototype.createElement=function(n){var r;this._elem&&(e.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==t&&(r=this._elem.get(0),window.G_vmlCanvasManager.uninitElement(r),r=null),this._elem.emptyForce(),this._elem=null),r=n.canvasManager.getCanvas();var i=this._plotDimensions.width,s=this._plotDimensions.height;return r.width=i,r.height=s,this._elem=e(r),this._elem.addClass("jqplot-grid-canvas"),this._elem.css({position:"absolute",left:0,top:0}),r=n.canvasManager.initCanvas(r),this._top=this._offsets.top,this._bottom=s-this._offsets.bottom,this._left=this._offsets.left,this._right=i-this._offsets.right,this._width=this._right-this._left,this._height=this._bottom-this._top,r=null,this._elem},e.jqplot.CanvasGridRenderer.prototype.draw=function(){function E(n,r,i,s,o){t.save(),o=o||{};if(o.lineWidth==null||o.lineWidth!=0)e.extend(!0,t,o),t.beginPath(),t.moveTo(n,r),t.lineTo(i,s),t.stroke(),t.restore()}this._ctx=this._elem.get(0).getContext("2d");var t=this._ctx,n=this._axes;t.save(),t.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height),t.fillStyle=this.backgroundColor||this.background,t.fillRect(this._left,this._top,this._width,this._height),t.save(),t.lineJoin="miter",t.lineCap="butt",t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor;var r,i,s,o,u=["xaxis","yaxis","x2axis","y2axis"];for(var a=4;a>0;a--){var f=u[a-1],l=n[f],c=l._ticks,h=c.length;if(l.show){if(l.drawBaseline){var p={};l.baselineWidth!==null&&(p.lineWidth=l.baselineWidth),l.baselineColor!==null&&(p.strokeStyle=l.baselineColor);switch(f){case"xaxis":E(this._left,this._bottom,this._right,this._bottom,p);break;case"yaxis":E(this._left,this._bottom,this._left,this._top,p);break;case"x2axis":E(this._left,this._bottom,this._right,this._bottom,p);break;case"y2axis":E(this._right,this._bottom,this._right,this._top,p)}}for(var d=h;d>0;d--){var v=c[d-1];if(v.show){var m=Math.round(l.u2p(v.value))+.5;switch(f){case"xaxis":v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&l.drawMajorGridlines||v.isMinorTick&&l.drawMinorGridlines)&&E(m,this._top,m,this._bottom);if(v.showMark&&v.mark&&(!v.isMinorTick&&l.drawMajorTickMarks||v.isMinorTick&&l.drawMinorTickMarks)){s=v.markSize,o=v.mark;var m=Math.round(l.u2p(v.value))+.5;switch(o){case"outside":r=this._bottom,i=this._bottom+s;break;case"inside":r=this._bottom-s,i=this._bottom;break;case"cross":r=this._bottom-s,i=this._bottom+s;break;default:r=this._bottom,i=this._bottom+s}this.shadow&&this.renderer.shadowRenderer.draw(t,[[m,r],[m,i]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*.75,depth:2,fill:!1,closePath:!1}),E(m,r,m,i)}break;case"yaxis":v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&l.drawMajorGridlines||v.isMinorTick&&l.drawMinorGridlines)&&E(this._right,m,this._left,m);if(v.showMark&&v.mark&&(!v.isMinorTick&&l.drawMajorTickMarks||v.isMinorTick&&l.drawMinorTickMarks)){s=v.markSize,o=v.mark;var m=Math.round(l.u2p(v.value))+.5;switch(o){case"outside":r=this._left-s,i=this._left;break;case"inside":r=this._left,i=this._left+s;break;case"cross":r=this._left-s,i=this._left+s;break;default:r=this._left-s,i=this._left}this.shadow&&this.renderer.shadowRenderer.draw(t,[[r,m],[i,m]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),E(r,m,i,m,{strokeStyle:l.borderColor})}break;case"x2axis":v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&l.drawMajorGridlines||v.isMinorTick&&l.drawMinorGridlines)&&E(m,this._bottom,m,this._top);if(v.showMark&&v.mark&&(!v.isMinorTick&&l.drawMajorTickMarks||v.isMinorTick&&l.drawMinorTickMarks)){s=v.markSize,o=v.mark;var m=Math.round(l.u2p(v.value))+.5;switch(o){case"outside":r=this._top-s,i=this._top;break;case"inside":r=this._top,i=this._top+s;break;case"cross":r=this._top-s,i=this._top+s;break;default:r=this._top-s,i=this._top}this.shadow&&this.renderer.shadowRenderer.draw(t,[[m,r],[m,i]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*.75,depth:2,fill:!1,closePath:!1}),E(m,r,m,i)}break;case"y2axis":v.showGridline&&this.drawGridlines&&(!v.isMinorTick&&l.drawMajorGridlines||v.isMinorTick&&l.drawMinorGridlines)&&E(this._left,m,this._right,m);if(v.showMark&&v.mark&&(!v.isMinorTick&&l.drawMajorTickMarks||v.isMinorTick&&l.drawMinorTickMarks)){s=v.markSize,o=v.mark;var m=Math.round(l.u2p(v.value))+.5;switch(o){case"outside":r=this._right,i=this._right+s;break;case"inside":r=this._right-s,i=this._right;break;case"cross":r=this._right-s,i=this._right+s;break;default:r=this._right,i=this._right+s}this.shadow&&this.renderer.shadowRenderer.draw(t,[[r,m],[i,m]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),E(r,m,i,m,{strokeStyle:l.borderColor})}break;default:}}}v=null}l=null,c=null}u=["y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];for(var a=7;a>0;a--){var l=n[u[a-1]],c=l._ticks;if(l.show){var g=c[l.numberTicks-1],y=c[0],b=l.getLeft(),w=[[b,g.getTop()+g.getHeight()/2],[b,y.getTop()+y.getHeight()/2+1]];this.shadow&&this.renderer.shadowRenderer.draw(t,w,{lineCap:"butt",fill:!1,closePath:!1}),E(w[0][0],w[0][1],w[1][0],w[1][1],{lineCap:"butt",strokeStyle:l.borderColor,lineWidth:l.borderWidth});for(var d=c.length;d>0;d--){var v=c[d-1];s=v.markSize,o=v.mark;var m=Math.round(l.u2p(v.value))+.5;if(v.showMark&&v.mark){switch(o){case"outside":r=b,i=b+s;break;case"inside":r=b-s,i=b;break;case"cross":r=b-s,i=b+s;break;default:r=b,i=b+s}w=[[r,m],[i,m]],this.shadow&&this.renderer.shadowRenderer.draw(t,w,{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*.75,fill:!1,closePath:!1}),E(r,m,i,m,{strokeStyle:l.borderColor})}v=null}y=null}l=null,c=null}t.restore();if(this.shadow){var w=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(t,w)}this.borderWidth!=0&&this.drawBorder&&(E(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:n.x2axis.borderColor,lineWidth:n.x2axis.borderWidth}),E(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:n.y2axis.borderColor,lineWidth:n.y2axis.borderWidth}),E(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:n.xaxis.borderColor,lineWidth:n.xaxis.borderWidth}),E(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:n.yaxis.borderColor,lineWidth:n.yaxis.borderWidth})),t.restore(),t=null,n=null},e.jqplot.DivTitleRenderer=function(){},e.jqplot.DivTitleRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.DivTitleRenderer.prototype.draw=function(){this._elem&&(this._elem.emptyForce(),this._elem=null);var t=this.renderer,n=document.createElement("div");this._elem=e(n),this._elem.addClass("jqplot-title");if(!this.text)this.show=!1,this._elem.height(0),this._elem.width(0);else if(this.text){var r;this.color?r=this.color:this.textColor&&(r=this.textColor);var i={position:"absolute",top:"0px",left:"0px"};this._plotWidth&&(i.width=this._plotWidth+"px"),this.fontSize&&(i.fontSize=this.fontSize),typeof this.textAlign=="string"?i.textAlign=this.textAlign:i.textAlign="center",r&&(i.color=r),this.paddingBottom&&(i.paddingBottom=this.paddingBottom),this.fontFamily&&(i.fontFamily=this.fontFamily),this._elem.css(i),this.escapeHtml?this._elem.text(this.text):this._elem.html(this.text)}return n=null,this._elem},e.jqplot.DivTitleRenderer.prototype.pack=function(){};var f=.1;e.jqplot.LinePattern=function(t,n){var r={dotted:[f,e.jqplot.config.dotGapLength],dashed:[e.jqplot.config.dashLength,e.jqplot.config.gapLength],solid:null};if(typeof n=="string")if(n[0]==="."||n[0]==="-"){var i=n;n=[];for(var s=0,o=i.length;s<o;s++){if(i[s]===".")n.push(f);else{if(i[s]!=="-")continue;n.push(e.jqplot.config.dashLength)}n.push(e.jqplot.config.gapLength)}}else n=r[n];if(!n||!n.length)return t;var u=0,a=n[0],l=0,c=0,h=0,p=0,d=function(e,n){t.moveTo(e,n),l=e,c=n,h=e,p=n},v=function(e,r){var i=t.lineWidth,s=e-l,o=r-c,f=Math.sqrt(s*s+o*o);if(f>0&&i>0){s/=f,o/=f;for(;;){var h=i*a;if(!(h<f)){l=e,c=r,(u&1)==0?t.lineTo(l,c):t.moveTo(l,c),a-=f/i;break}l+=h*s,c+=h*o,(u&1)==0?t.lineTo(l,c):t.moveTo(l,c),f-=h,u++,u>=n.length&&(u=0),a=n[u]}}},m=function(){t.beginPath()},g=function(){v(h,p)};return{moveTo:d,lineTo:v,beginPath:m,closePath:g}},e.jqplot.LineRenderer=function(){this.shapeRenderer=new e.jqplot.ShapeRenderer,this.shadowRenderer=new e.jqplot.ShadowRenderer},e.jqplot.LineRenderer.prototype.init=function(t,n){t=t||{},this._type="line",this.renderer.animation={show:!1,direction:"left",speed:2500,_supported:!0},this.renderer.smooth=!1,this.renderer.tension=null,this.renderer.constrainSmoothing=!0,this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[],this.renderer.bandData=[],this.renderer.bands={show:!1,hiData:[],lowData:[],color:this.color,showLines:!1,fill:!0,fillColor:null,_min:null,_max:null,interval:"3%"};var r={highlightMouseOver:t.highlightMouseOver,highlightMouseDown:t.highlightMouseDown,highlightColor:t.highlightColor};delete t.highlightMouseOver,delete t.highlightMouseDown,delete t.highlightColor,e.extend(!0,this.renderer,t),this.renderer.options=t,this.renderer.bandData.length>1&&(!t.bands||t.bands.show==null)?this.renderer.bands.show=!0:t.bands&&t.bands.show==null&&t.bands.interval!=null&&(this.renderer.bands.show=!0),this.fill&&(this.renderer.bands.show=!1),this.renderer.bands.show&&this.renderer.initBands.call(this,this.renderer.options,n),this._stack&&(this.renderer.smooth=!1);var i={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shapeRenderer.init(i);var s=t.shadowOffset;s==null&&(this.lineWidth>2.5?s=1.25*(1+(Math.atan(this.lineWidth/2.5)/.785398163-1)*.6):s=1.25*Math.atan(this.lineWidth/2.5)/.785398163);var o={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,angle:this.shadowAngle,offset:s,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shadowRenderer.init(o),this._areaPoints=[],this._boundingBox=[[],[]];if(!this.isTrendline&&this.fill||this.renderer.bands.show){this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColor=null,r.highlightMouseDown&&r.highlightMouseOver==null&&(r.highlightMouseOver=!1),e.extend(!0,this,{highlightMouseOver:r.highlightMouseOver,highlightMouseDown:r.highlightMouseDown,highlightColor:r.highlightColor});if(!this.highlightColor){var u=this.renderer.bands.show?this.renderer.bands.fillColor:this.fillColor;this.highlightColor=e.jqplot.computeHighlightColors(u)}this.highlighter&&(this.highlighter.show=!1)}!this.isTrendline&&n&&(n.plugins.lineRenderer={},n.postInitHooks.addOnce(v),n.postDrawHooks.addOnce(m),n.eventListenerHooks.addOnce("jqplotMouseMove",b),n.eventListenerHooks.addOnce("jqplotMouseDown",w),n.eventListenerHooks.addOnce("jqplotMouseUp",E),n.eventListenerHooks.addOnce("jqplotClick",S),n.eventListenerHooks.addOnce("jqplotRightClick",x))},e.jqplot.LineRenderer.prototype.initBands=function(t,n){var r=t.bandData||[],i=this.renderer.bands;i.hiData=[],i.lowData=[];var s=this.data;i._max=null,i._min=null;if(r.length==2)if(e.isArray(r[0][0])){var o,u=0,a=0;for(var f=0,l=r[0].length;f<l;f++){o=r[0][f];if(o[1]!=null&&o[1]>i._max||i._max==null)i._max=o[1];if(o[1]!=null&&o[1]<i._min||i._min==null)i._min=o[1]}for(var f=0,l=r[1].length;f<l;f++){o=r[1][f];if(o[1]!=null&&o[1]>i._max||i._max==null)i._max=o[1],a=1;if(o[1]!=null&&o[1]<i._min||i._min==null)i._min=o[1],u=1}a===u&&(i.show=!1),i.hiData=r[a],i.lowData=r[u]}else if(r[0].length===s.length&&r[1].length===s.length){var c=r[0][0]>r[1][0]?0:1,h=c?0:1;for(var f=0,l=s.length;f<l;f++)i.hiData.push([s[f][0],r[c][f]]),i.lowData.push([s[f][0],r[h][f]])}else i.show=!1;else if(r.length>2&&!e.isArray(r[0][0])){var c=r[0][0]>r[0][1]?0:1,h=c?0:1;for(var f=0,l=r.length;f<l;f++)i.hiData.push([s[f][0],r[f][c]]),i.lowData.push([s[f][0],r[f][h]])}else{var p=i.interval,d=null,v=null,m=null,g=null;e.isArray(p)?(d=p[0],v=p[1]):d=p,isNaN(d)?d.charAt(d.length-1)==="%"&&(m="multiply",d=parseFloat(d)/100+1):(d=parseFloat(d),m="add"),v!==null&&isNaN(v)?v.charAt(v.length-1)==="%"&&(g="multiply",v=parseFloat(v)/100+1):v!==null&&(v=parseFloat(v),g="add");if(d!==null){v===null&&(v=-d,g=m,g==="multiply"&&(v+=2));if(d<v){var y=d;d=v,v=y,y=m,m=g,g=y}for(var f=0,l=s.length;f<l;f++){switch(m){case"add":i.hiData.push([s[f][0],s[f][1]+d]);break;case"multiply":i.hiData.push([s[f][0],s[f][1]*d])}switch(g){case"add":i.lowData.push([s[f][0],s[f][1]+v]);break;case"multiply":i.lowData.push([s[f][0],s[f][1]*v])}}}else i.show=!1}var b=i.hiData,w=i.lowData;for(var f=0,l=b.length;f<l;f++)if(b[f][1]!=null&&b[f][1]>i._max||i._max==null)i._max=b[f][1];for(var f=0,l=w.length;f<l;f++)if(w[f][1]!=null&&w[f][1]<i._min||i._min==null)i._min=w[f][1];if(i.fillColor===null){var E=e.jqplot.getColorComponents(i.color);E[3]=E[3]*.5,i.fillColor="rgba("+E[0]+", "+E[1]+", "+E[2]+", "+E[3]+")"}},e.jqplot.LineRenderer.prototype.setGridData=function(e){var t=this._xaxis.series_u2p,n=this._yaxis.series_u2p,r=this._plotData,i=this._prevPlotData;this.gridData=[],this._prevGridData=[],this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];var s=this.renderer.bands,o=!1;for(var u=0,a=r.length;u<a;u++)r[u][0]!=null&&r[u][1]!=null?this.gridData.push([t.call(this._xaxis,r[u][0]),n.call(this._yaxis,r[u][1])]):r[u][0]==null?(o=!0,this.gridData.push([null,n.call(this._yaxis,r[u][1])])):r[u][1]==null&&(o=!0,this.gridData.push([t.call(this._xaxis,r[u][0]),null])),i[u]!=null&&i[u][0]!=null&&i[u][1]!=null?this._prevGridData.push([t.call(this._xaxis,i[u][0]),n.call(this._yaxis,i[u][1])]):i[u]!=null&&i[u][0]==null?this._prevGridData.push([null,n.call(this._yaxis,i[u][1])]):i[u]!=null&&i[u][0]!=null&&i[u][1]==null&&this._prevGridData.push([t.call(this._xaxis,i[u][0]),null]);o&&(this.renderer.smooth=!1,this._type==="line"&&(s.show=!1));if(this._type==="line"&&s.show){for(var u=0,a=s.hiData.length;u<a;u++)this.renderer._hiBandGridData.push([t.call(this._xaxis,s.hiData[u][0]),n.call(this._yaxis,s.hiData[u][1])]);for(var u=0,a=s.lowData.length;u<a;u++)this.renderer._lowBandGridData.push([t.call(this._xaxis,s.lowData[u][0]),n.call(this._yaxis,s.lowData[u][1])])}if(this._type==="line"&&this.renderer.smooth&&this.gridData.length>2){var f;this.renderer.constrainSmoothing?(f=p.call(this,this.gridData),this.renderer._smoothedData=f[0],this.renderer._smoothedPlotData=f[1],s.show&&(f=p.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=f[0],f=p.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=f[0]),f=null):(f=d.call(this,this.gridData),this.renderer._smoothedData=f[0],this.renderer._smoothedPlotData=f[1],s.show&&(f=d.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=f[0],f=d.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=f[0]),f=null)}},e.jqplot.LineRenderer.prototype.makeGridData=function(e,t){var n=this._xaxis.series_u2p,r=this._yaxis.series_u2p,i=[],s=[];this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];var o=this.renderer.bands,u=!1;for(var a=0;a<e.length;a++)e[a][0]!=null&&e[a][1]!=null?i.push([n.call(this._xaxis,e[a][0]),r.call(this._yaxis,e[a][1])]):e[a][0]==null?(u=!0,i.push([null,r.call(this._yaxis,e[a][1])])):e[a][1]==null&&(u=!0,i.push([n.call(this._xaxis,e[a][0]),null]));u&&(this.renderer.smooth=!1,this._type==="line"&&(o.show=!1));if(this._type==="line"&&o.show){for(var a=0,f=o.hiData.length;a<f;a++)this.renderer._hiBandGridData.push([n.call(this._xaxis,o.hiData[a][0]),r.call(this._yaxis,o.hiData[a][1])]);for(var a=0,f=o.lowData.length;a<f;a++)this.renderer._lowBandGridData.push([n.call(this._xaxis,o.lowData[a][0]),r.call(this._yaxis,o.lowData[a][1])])}if(this._type==="line"&&this.renderer.smooth&&i.length>2){var l;this.renderer.constrainSmoothing?(l=p.call(this,i),this.renderer._smoothedData=l[0],this.renderer._smoothedPlotData=l[1],o.show&&(l=p.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=l[0],l=p.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=l[0]),l=null):(l=d.call(this,i),this.renderer._smoothedData=l[0],this.renderer._smoothedPlotData=l[1],o.show&&(l=d.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=l[0],l=d.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=l[0]),l=null)}return i},e.jqplot.LineRenderer.prototype.draw=function(n,r,i,s){var o,u=e.extend(!0,{},i),a=u.shadow!=t?u.shadow:this.shadow,f=u.showLine!=t?u.showLine:this.showLine,l=u.fill!=t?u.fill:this.fill,c=u.fillAndStroke!=t?u.fillAndStroke:this.fillAndStroke,h,p,d,v;n.save();if(r.length){if(f)if(l){if(this.fillToZero){var m=this.negativeColor;this.useNegativeColors||(m=u.fillStyle);var g=!1,y=u.fillStyle;if(c)var b=r.slice(0);if(this.index==0||!this._stack){var w=[],E=this.renderer.smooth?this.renderer._smoothedPlotData:this._plotData;this._areaPoints=[];var S=this._yaxis.series_u2p(this.fillToValue),x=this._xaxis.series_u2p(this.fillToValue);u.closePath=!0;if(this.fillAxis=="y"){w.push([r[0][0],S]),this._areaPoints.push([r[0][0],S]);for(var o=0;o<r.length-1;o++){w.push(r[o]),this._areaPoints.push(r[o]);if(E[o][1]*E[o+1][1]<0){E[o][1]<0?(g=!0,u.fillStyle=m):(g=!1,u.fillStyle=y);var T=r[o][0]+(r[o+1][0]-r[o][0])*(S-r[o][1])/(r[o+1][1]-r[o][1]);w.push([T,S]),this._areaPoints.push([T,S]),a&&this.renderer.shadowRenderer.draw(n,w,u),this.renderer.shapeRenderer.draw(n,w,u),w=[[T,S]]}}E[r.length-1][1]<0?(g=!0,u.fillStyle=m):(g=!1,u.fillStyle=y),w.push(r[r.length-1]),this._areaPoints.push(r[r.length-1]),w.push([r[r.length-1][0],S]),this._areaPoints.push([r[r.length-1][0],S])}a&&this.renderer.shadowRenderer.draw(n,w,u),this.renderer.shapeRenderer.draw(n,w,u)}else{var N=this._prevGridData;for(var o=N.length;o>0;o--)r.push(N[o-1]);a&&this.renderer.shadowRenderer.draw(n,r,u),this._areaPoints=r,this.renderer.shapeRenderer.draw(n,r,u)}}else{if(c)var b=r.slice(0);if(this.index==0||!this._stack){var C=n.canvas.height;r.unshift([r[0][0],C]);var k=r.length;r.push([r[k-1][0],C])}else{var N=this._prevGridData;for(var o=N.length;o>0;o--)r.push(N[o-1])}this._areaPoints=r,a&&this.renderer.shadowRenderer.draw(n,r,u),this.renderer.shapeRenderer.draw(n,r,u)}if(c){var L=e.extend(!0,{},u,{fill:!1,closePath:!1});this.renderer.shapeRenderer.draw(n,b,L);if(this.markerRenderer.show){this.renderer.smooth&&(b=this.gridData);for(o=0;o<b.length;o++)this.markerRenderer.draw(b[o][0],b[o][1],n,u.markerOptions)}}}else{if(this.renderer.bands.show){var A,O=e.extend(!0,{},u);this.renderer.bands.showLines&&(A=this.renderer.smooth?this.renderer._hiBandSmoothedData:this.renderer._hiBandGridData,this.renderer.shapeRenderer.draw(n,A,u),A=this.renderer.smooth?this.renderer._lowBandSmoothedData:this.renderer._lowBandGridData,this.renderer.shapeRenderer.draw(n,A,O)),this.renderer.bands.fill&&(this.renderer.smooth?A=this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse()):A=this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse()),this._areaPoints=A,O.closePath=!0,O.fill=!0,O.fillStyle=this.renderer.bands.fillColor,this.renderer.shapeRenderer.draw(n,A,O))}a&&this.renderer.shadowRenderer.draw(n,r,u),this.renderer.shapeRenderer.draw(n,r,u)}var h=d=p=v=null;for(o=0;o<this._areaPoints.length;o++){var M=this._areaPoints[o];if(h>M[0]||h==null)h=M[0];if(v<M[1]||v==null)v=M[1];if(d<M[0]||d==null)d=M[0];if(p>M[1]||p==null)p=M[1]}this.type==="line"&&this.renderer.bands.show&&(v=this._yaxis.series_u2p(this.renderer.bands._min),p=this._yaxis.series_u2p(this.renderer.bands._max)),this._boundingBox=[[h,v],[d,p]];if(this.markerRenderer.show&&!l){this.renderer.smooth&&(r=this.gridData);for(o=0;o<r.length;o++)r[o][0]!=null&&r[o][1]!=null&&this.markerRenderer.draw(r[o][0],r[o][1],n,u.markerOptions)}}n.restore()},e.jqplot.LineRenderer.prototype.drawShadow=function(e,t,n){},e.jqplot.LinearAxisRenderer=function(){},e.jqplot.LinearAxisRenderer.prototype.init=function(t){this.breakPoints=null,this.breakTickLabel="&asymp;",this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.forceTickAt0=!1,this.forceTickAt100=!1,this.tickInset=0,this.minorTicks=0,this.alignTicks=!1,this._autoFormatString="",this._overrideFormatString=!1,this._scalefact=1,e.extend(!0,this,t);if(this.breakPoints)if(!e.isArray(this.breakPoints))this.breakPoints=null;else if(this.breakPoints.length<2||this.breakPoints[1]<=this.breakPoints[0])this.breakPoints=null;this.numberTicks!=null&&this.numberTicks<2&&(this.numberTicks=2),this.resetDataBounds()},e.jqplot.LinearAxisRenderer.prototype.draw=function(t,n){if(this.show){this.renderer.createTicks.call(this,n);var r=0,i;this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=e(document.createElement("div")),this._elem.addClass("jqplot-axis jqplot-"+this.name),this._elem.css("position","absolute"),this.name=="xaxis"||this.name=="x2axis"?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions);if(this._label.show){var s=this._label.draw(t,n);s.appendTo(this._elem),s=null}var o=this._ticks,u;for(var a=0;a<o.length;a++)u=o[a],u.show&&u.showLabel&&(!u.isMinorTick||this.showMinorTicks)&&this._elem.append(u.draw(t,n));u=null,o=null}return this._elem},e.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString="")},e.jqplot.LinearAxisRenderer.prototype.set=function(){var t=0,n,r=0,i=0,s=this._label==null?!1:this._label.show;if(this.show){var o=this._ticks,u;for(var a=0;a<o.length;a++)u=o[a],!u._breakTick&&u.show&&u.showLabel&&(!u.isMinorTick||this.showMinorTicks)&&(this.name=="xaxis"||this.name=="x2axis"?n=u._elem.outerHeight(!0):n=u._elem.outerWidth(!0),n>t&&(t=n));u=null,o=null,s&&(r=this._label._elem.outerWidth(!0),i=this._label._elem.outerHeight(!0)),this.name=="xaxis"?(t+=i,this._elem.css({height:t+"px",left:"0px",bottom:"0px"})):this.name=="x2axis"?(t+=i,this._elem.css({height:t+"px",left:"0px",top:"0px"})):this.name=="yaxis"?(t+=r,this._elem.css({width:t+"px",left:"0px",top:"0px"}),s&&this._label.constructor==e.jqplot.AxisLabelRenderer&&this._label._elem.css("width",r+"px")):(t+=r,this._elem.css({width:t+"px",right:"0px",top:"0px"}),s&&this._label.constructor==e.jqplot.AxisLabelRenderer&&this._label._elem.css("width",r+"px"))}},e.jqplot.LinearAxisRenderer.prototype.createTicks=function(t){var n=this._ticks,r=this.ticks,i=this.name,s=this._dataBounds,o=this.name.charAt(0)==="x"?this._plotDimensions.width:this._plotDimensions.height,u,a,f,l,c,h,p,d=this.min,v=this.max,m=this.numberTicks,g=this.tickInterval,y=30;this._scalefact=(Math.max(o,y+1)-y)/300;if(r.length){for(p=0;p<r.length;p++){var b=r[p],w=new this.tickRenderer(this.tickOptions);e.isArray(b)?(w.value=b[0],this.breakPoints?b[0]==this.breakPoints[0]?(w.label=this.breakTickLabel,w._breakTick=!0,w.showGridline=!1,w.showMark=!1):b[0]>this.breakPoints[0]&&b[0]<=this.breakPoints[1]?(w.show=!1,w.showGridline=!1,w.label=b[1]):w.label=b[1]:w.label=b[1],w.setTick(b[0],this.name),this._ticks.push(w)):e.isPlainObject(b)?(e.extend(!0,w,b),w.axis=this.name,this._ticks.push(w)):(w.value=b,this.breakPoints&&(b==this.breakPoints[0]?(w.label=this.breakTickLabel,w._breakTick=!0,w.showGridline=!1,w.showMark=!1):b>this.breakPoints[0]&&b<=this.breakPoints[1]&&(w.show=!1,w.showGridline=!1)),w.setTick(b,this.name),this._ticks.push(w))}this.numberTicks=r.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.tickInterval=(this.max-this.min)/(this.numberTicks-1)}else{i=="xaxis"||i=="x2axis"?o=this._plotDimensions.width:o=this._plotDimensions.height;var E=this.numberTicks;this.alignTicks&&(this.name==="x2axis"&&t.axes.xaxis.show?E=t.axes.xaxis.numberTicks:this.name.charAt(0)==="y"&&this.name!=="yaxis"&&this.name!=="yMidAxis"&&t.axes.yaxis.show&&(E=t.axes.yaxis.numberTicks)),a=this.min!=null?this.min:s.min,f=this.max!=null?this.max:s.max;var S=f-a,x,T,N;if(this.tickOptions==null||!this.tickOptions.formatString)this._overrideFormatString=!0;if(this.min==null||this.max==null&&this.tickInterval==null&&!this.autoscale){this.forceTickAt0&&(a>0&&(a=0),f<0&&(f=0)),this.forceTickAt100&&(a>100&&(a=100),f<100&&(f=100));var C=!1,k=!1;this.min!=null?C=!0:this.max!=null&&(k=!0);var L=e.jqplot.LinearTickGenerator(a,f,this._scalefact,E,C,k),A=this.min!=null?a:a+S*(this.padMin-1),O=this.max!=null?f:f-S*(this.padMax-1);if(a<A||f>O)A=this.min!=null?a:a-S*(this.padMin-1),O=this.max!=null?f:f+S*(this.padMax-1),L=e.jqplot.LinearTickGenerator(A,O,this._scalefact,E,C,k);this.min=L[0],this.max=L[1],this.numberTicks=L[2],this._autoFormatString=L[3],this.tickInterval=L[4]}else{if(a==f){var M=.05;a>0&&(M=Math.max(Math.log(a)/Math.LN10,.05)),a-=M,f+=M}if(this.autoscale&&this.min==null&&this.max==null){var _,D,P,H=!1,B=!1,j={min:null,max:null,average:null,stddev:null};for(var p=0;p<this._series.length;p++){var F=this._series[p],I=F.fillAxis=="x"?F._xaxis.name:F._yaxis.name;if(this.name==I){var q=F._plotValues[F.fillAxis],R=q[0],U=q[0];for(var z=1;z<q.length;z++)q[z]<R?R=q[z]:q[z]>U&&(U=q[z]);var W=(U-R)/U;F.renderer.constructor==e.jqplot.BarRenderer?R>=0&&(F.fillToZero||W>.1)?H=!0:(H=!1,F.fill&&F.fillToZero&&R<0&&U>0?B=!0:B=!1):F.fill?R>=0&&(F.fillToZero||W>.1)?H=!0:R<0&&U>0&&F.fillToZero?(H=!1,B=!0):(H=!1,B=!1):R<0&&(H=!1)}}if(H)this.numberTicks=2+Math.ceil((o-(this.tickSpacing-1))/this.tickSpacing),this.min=0,d=0,D=f/(this.numberTicks-1),N=Math.pow(10,Math.abs(Math.floor(Math.log(D)/Math.LN10))),D/N==parseInt(D/N,10)&&(D+=N),this.tickInterval=Math.ceil(D/N)*N,this.max=this.tickInterval*(this.numberTicks-1);else if(B){this.numberTicks=2+Math.ceil((o-(this.tickSpacing-1))/this.tickSpacing);var X=Math.ceil(Math.abs(a)/S*(this.numberTicks-1)),V=this.numberTicks-1-X;D=Math.max(Math.abs(a/X),Math.abs(f/V)),N=Math.pow(10,Math.abs(Math.floor(Math.log(D)/Math.LN10))),this.tickInterval=Math.ceil(D/N)*N,this.max=this.tickInterval*V,this.min=-this.tickInterval*X}else this.numberTicks==null&&(this.tickInterval?this.numberTicks=3+Math.ceil(S/this.tickInterval):this.numberTicks=2+Math.ceil((o-(this.tickSpacing-1))/this.tickSpacing)),this.tickInterval==null?(D=S/(this.numberTicks-1),D<1?N=Math.pow(10,Math.abs(Math.floor(Math.log(D)/Math.LN10))):N=1,this.tickInterval=Math.ceil(D*N*this.pad)/N):N=1/this.tickInterval,_=this.tickInterval*(this.numberTicks-1),P=(_-S)/2,this.min==null&&(this.min=Math.floor(N*(a-P))/N),this.max==null&&(this.max=this.min+_);var $=e.jqplot.getSignificantFigures(this.tickInterval),J;if($.digitsLeft>=$.significantDigits)J="%d";else{var N=Math.max(0,5-$.digitsLeft);N=Math.min(N,$.digitsRight),J="%."+N+"f"}this._autoFormatString=J}else{x=this.min!=null?this.min:a-S*(this.padMin-1),T=this.max!=null?this.max:f+S*(this.padMax-1),S=T-x,this.numberTicks==null&&(this.tickInterval!=null?this.numberTicks=Math.ceil((T-x)/this.tickInterval)+1:o>100?this.numberTicks=parseInt(3+(o-100)/75,10):this.numberTicks=2),this.tickInterval==null&&(this.tickInterval=S/(this.numberTicks-1)),this.max==null&&(T=x+this.tickInterval*(this.numberTicks-1)),this.min==null&&(x=T-this.tickInterval*(this.numberTicks-1));var $=e.jqplot.getSignificantFigures(this.tickInterval),J;if($.digitsLeft>=$.significantDigits)J="%d";else{var N=Math.max(0,5-$.digitsLeft);N=Math.min(N,$.digitsRight),J="%."+N+"f"}this._autoFormatString=J,this.min=x,this.max=T}if(this.renderer.constructor==e.jqplot.LinearAxisRenderer&&this._autoFormatString==""){S=this.max-this.min;var K=new this.tickRenderer(this.tickOptions),Q=K.formatString||e.jqplot.config.defaultTickFormatString,Q=Q.match(e.jqplot.sprintf.regex)[0],G=0;if(Q){if(Q.search(/[fFeEgGpP]/)>-1){var Y=Q.match(/\%\.(\d{0,})?[eEfFgGpP]/);Y?G=parseInt(Y[1],10):G=6}else Q.search(/[di]/)>-1&&(G=0);var Z=Math.pow(10,-G);if(this.tickInterval<Z&&m==null&&g==null){this.tickInterval=Z;if(v==null&&d==null){this.min=Math.floor(this._dataBounds.min/Z)*Z,this.min==this._dataBounds.min&&(this.min=this._dataBounds.min-this.tickInterval),this.max=Math.ceil(this._dataBounds.max/Z)*Z,this.max==this._dataBounds.max&&(this.max=this._dataBounds.max+this.tickInterval);var et=(this.max-this.min)/this.tickInterval;et=et.toFixed(11),et=Math.ceil(et),this.numberTicks=et+1}else if(v==null){var et=(this._dataBounds.max-this.min)/this.tickInterval;et=et.toFixed(11),this.numberTicks=Math.ceil(et)+2,this.max=this.min+this.tickInterval*(this.numberTicks-1)}else if(d==null){var et=(this.max-this._dataBounds.min)/this.tickInterval;et=et.toFixed(11),this.numberTicks=Math.ceil(et)+2,this.min=this.max-this.tickInterval*(this.numberTicks-1)}else this.numberTicks=Math.ceil((v-d)/this.tickInterval)+1,this.min=Math.floor(d*Math.pow(10,G))/Math.pow(10,G),this.max=Math.ceil(v*Math.pow(10,G))/Math.pow(10,G),this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1}}}}this._overrideFormatString&&this._autoFormatString!=""&&(this.tickOptions=this.tickOptions||{},this.tickOptions.formatString=this._autoFormatString);var w,tt;for(var p=0;p<this.numberTicks;p++){h=this.min+p*this.tickInterval,w=new this.tickRenderer(this.tickOptions),w.setTick(h,this.name),this._ticks.push(w);if(p<this.numberTicks-1)for(var z=0;z<this.minorTicks;z++)h+=this.tickInterval/(this.minorTicks+1),tt=e.extend(!0,{},this.tickOptions,{name:this.name,value:h,label:"",isMinorTick:!0}),w=new this.tickRenderer(tt),this._ticks.push(w);w=null}}this.tickInset&&(this.min=this.min-this.tickInset*this.tickInterval,this.max=this.max+this.tickInset*this.tickInterval),n=null},e.jqplot.LinearAxisRenderer.prototype.resetTickValues=function(t){if(e.isArray(t)&&t.length==this._ticks.length){var n;for(var r=0;r<t.length;r++)n=this._ticks[r],n.value=t[r],n.label=n.formatter(n.formatString,t[r]),n.label=n.prefix+n.label,n._elem.html(n.label);n=null,this.min=e.jqplot.arrayMin(t),this.max=e.jqplot.arrayMax(t),this.pack()}},e.jqplot.LinearAxisRenderer.prototype.pack=function(t,n){t=t||{},n=n||this._offsets;var r=this._ticks,i=this.max,s=this.min,o=n.max,u=n.min,a=this._label==null?!1:this._label.show;for(var f in t)this._elem.css(f,t[f]);this._offsets=n;var l=o-u,c=i-s;this.breakPoints?(c=c-this.breakPoints[1]+this.breakPoints[0],this.p2u=function(e){return(e-u)*c/l+s},this.u2p=function(e){return e>this.breakPoints[0]&&e<this.breakPoints[1]&&(e=this.breakPoints[0]),e<=this.breakPoints[0]?(e-s)*l/c+u:(e-this.breakPoints[1]+this.breakPoints[0]-s)*l/c+u},this.name.charAt(0)=="x"?(this.series_u2p=function(e){return e>this.breakPoints[0]&&e<this.breakPoints[1]&&(e=this.breakPoints[0]),e<=this.breakPoints[0]?(e-s)*l/c:(e-this.breakPoints[1]+this.breakPoints[0]-s)*l/c},this.series_p2u=function(e){return e*c/l+s}):(this.series_u2p=function(e){return e>this.breakPoints[0]&&e<this.breakPoints[1]&&(e=this.breakPoints[0]),e>=this.breakPoints[1]?(e-i)*l/c:(e+this.breakPoints[1]-this.breakPoints[0]-i)*l/c},this.series_p2u=function(e){return e*c/l+i})):(this.p2u=function(e){return(e-u)*c/l+s},this.u2p=function(e){return(e-s)*l/c+u},this.name=="xaxis"||this.name=="x2axis"?(this.series_u2p=function(e){return(e-s)*l/c},this.series_p2u=function(e){return e*c/l+s}):(this.series_u2p=function(e){return(e-i)*l/c},this.series_p2u=function(e){return e*c/l+i}));if(this.show)if(this.name=="xaxis"||this.name=="x2axis"){for(var h=0;h<r.length;h++){var p=r[h];if(p.show&&p.showLabel){var d;if(p.constructor==e.jqplot.CanvasAxisTickRenderer&&p.angle){var v=this.name=="xaxis"?1:-1;switch(p.labelPosition){case"auto":v*p.angle<0?d=-p.getWidth()+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2:d=-p._textRenderer.height*Math.sin(p._textRenderer.angle)/2;break;case"end":d=-p.getWidth()+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2;break;case"start":d=-p._textRenderer.height*Math.sin(p._textRenderer.angle)/2;break;case"middle":d=-p.getWidth()/2+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2;break;default:d=-p.getWidth()/2+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2}}else d=-p.getWidth()/2;var m=this.u2p(p.value)+d+"px";p._elem.css("left",m),p.pack()}}if(a){var g=this._label._elem.outerWidth(!0);this._label._elem.css("left",u+l/2-g/2+"px"),this.name=="xaxis"?this._label._elem.css("bottom","0px"):this._label._elem.css("top","0px"),this._label.pack()}}else{for(var h=0;h<r.length;h++){var p=r[h];if(p.show&&p.showLabel){var d;if(p.constructor==e.jqplot.CanvasAxisTickRenderer&&p.angle){var v=this.name=="yaxis"?1:-1;switch(p.labelPosition){case"auto":case"end":v*p.angle<0?d=-p._textRenderer.height*Math.cos(-p._textRenderer.angle)/2:d=-p.getHeight()+p._textRenderer.height*Math.cos(p._textRenderer.angle)/2;break;case"start":p.angle>0?d=-p._textRenderer.height*Math.cos(-p._textRenderer.angle)/2:d=-p.getHeight()+p._textRenderer.height*Math.cos(p._textRenderer.angle)/2;break;case"middle":d=-p.getHeight()/2;break;default:d=-p.getHeight()/2}}else d=-p.getHeight()/2;var m=this.u2p(p.value)+d+"px";p._elem.css("top",m),p.pack()}}if(a){var y=this._label._elem.outerHeight(!0);this._label._elem.css("top",o-l/2-y/2+"px"),this.name=="yaxis"?this._label._elem.css("left","0px"):this._label._elem.css("right","0px"),this._label.pack()}}r=null};var N=[.1,.2,.3,.4,.5,.8,1,2,3,4,5],C=function(e){var t=N.indexOf(e);return t>0?N[t-1]:N[N.length-1]/100},k=function(e){var t=N.indexOf(e);return t<N.length-1?N[t+1]:N[0]*100};e.jqplot.LinearTickGenerator=function(t,n,r,i,s,o){s=s===null?!1:s,o=o===null||s?!1:o,t===n&&(n=n?0:1),r=r||1;if(n<t){var u=n;n=t,t=u}var a=[],f=O(n-t,r),l=e.jqplot.getSignificantFigures;if(i==null){if(!s&&!o)a[0]=Math.floor(t/f)*f,a[1]=Math.ceil(n/f)*f,a[2]=Math.round((a[1]-a[0])/f+1),a[3]=T(f),a[4]=f;else if(s){a[0]=t,a[2]=Math.ceil((n-t)/f+1),a[1]=t+(a[2]-1)*f;var c=l(t).digitsRight,h=l(f).digitsRight;c<h?a[3]=T(f):a[3]="%."+c+"f",a[4]=f}else if(o){a[1]=n,a[2]=Math.ceil((n-t)/f+1),a[0]=n-(a[2]-1)*f;var p=l(n).digitsRight,h=l(f).digitsRight;p<h?a[3]=T(f):a[3]="%."+p+"f",a[4]=f}}else{var d=[];d[0]=Math.floor(t/f)*f,d[1]=Math.ceil(n/f)*f,d[2]=Math.round((d[1]-d[0])/f+1),d[3]=T(f),d[4]=f;if(d[2]===i)a=d;else{var v=A(d[1]-d[0],i);a[0]=d[0],a[2]=i,a[4]=v,a[3]=T(v),a[1]=a[0]+(a[2]-1)*a[4]}}return a},e.jqplot.LinearTickGenerator.bestLinearInterval=O,e.jqplot.LinearTickGenerator.bestInterval=A,e.jqplot.LinearTickGenerator.bestLinearComponents=M,e.jqplot.LinearTickGenerator.bestConstrainedInterval=L,e.jqplot.MarkerRenderer=function(t){this.show=!0,this.style="filledCircle",this.lineWidth=2,this.size=9,this.color="#666666",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1,this.shadowDepth=3,this.shadowAlpha="0.07",this.shadowRenderer=new e.jqplot.ShadowRenderer,this.shapeRenderer=new e.jqplot.ShapeRenderer,e.extend(!0,this,t)},e.jqplot.MarkerRenderer.prototype.init=function(t){e.extend(!0,this,t);var n={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:!0};this.style.indexOf("filled")!=-1&&(n.fill=!0),this.style.indexOf("ircle")!=-1&&(n.isarc=!0,n.closePath=!1),this.shadowRenderer.init(n);var r={fill:!1,isarc:!1,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:!0};this.style.indexOf("filled")!=-1&&(r.fill=!0),this.style.indexOf("ircle")!=-1&&(r.isarc=!0,r.closePath=!1),this.shapeRenderer.init(r)},e.jqplot.MarkerRenderer.prototype.drawDiamond=function(e,t,n,r,i){var s=1.2,o=this.size/2/s,u=this.size/2*s,a=[[e-o,t],[e,t+u],[e+o,t],[e,t-u]];this.shadow&&this.shadowRenderer.draw(n,a),this.shapeRenderer.draw(n,a,i)},e.jqplot.MarkerRenderer.prototype.drawPlus=function(t,n,r,i,s){var o=1,u=this.size/2*o,a=this.size/2*o,f=[[t,n-a],[t,n+a]],l=[[t+u,n],[t-u,n]],c=e.extend(!0,{},this.options,{closePath:!1});this.shadow&&(this.shadowRenderer.draw(r,f,{closePath:!1}),this.shadowRenderer.draw(r,l,{closePath:!1})),this.shapeRenderer.draw(r,f,c),this.shapeRenderer.draw(r,l,c)},e.jqplot.MarkerRenderer.prototype.drawX=function(t,n,r,i,s){var o=1,u=this.size/2*o,a=this.size/2*o,f=e.extend(!0,{},this.options,{closePath:!1}),l=[[t-u,n-a],[t+u,n+a]],c=[[t-u,n+a],[t+u,n-a]];this.shadow&&(this.shadowRenderer.draw(r,l,{closePath:!1}),this.shadowRenderer.draw(r,c,{closePath:!1})),this.shapeRenderer.draw(r,l,f),this.shapeRenderer.draw(r,c,f)},e.jqplot.MarkerRenderer.prototype.drawDash=function(e,t,n,r,i){var s=1,o=this.size/2*s,u=this.size/2*s,a=[[e-o,t],[e+o,t]];this.shadow&&this.shadowRenderer.draw(n,a),this.shapeRenderer.draw(n,a,i)},e.jqplot.MarkerRenderer.prototype.drawLine=function(e,t,n,r,i){var s=[e,t];this.shadow&&this.shadowRenderer.draw(n,s),this.shapeRenderer.draw(n,s,i)},e.jqplot.MarkerRenderer.prototype.drawSquare=function(e,t,n,r,i){var s=1,o=this.size/2/s,u=this.size/2*s,a=[[e-o,t-u],[e-o,t+u],[e+o,t+u],[e+o,t-u]];this.shadow&&this.shadowRenderer.draw(n,a),this.shapeRenderer.draw(n,a,i)},e.jqplot.MarkerRenderer.prototype.drawCircle=function(e,t,n,r,i){var s=this.size/2,o=2*Math.PI,u=[e,t,s,0,o,!0];this.shadow&&this.shadowRenderer.draw(n,u),this.shapeRenderer.draw(n,u,i)},e.jqplot.MarkerRenderer.prototype.draw=function(e,t,n,r){r=r||{};if(r.show==null||r.show!=0){r.color&&!r.fillStyle&&(r.fillStyle=r.color),r.color&&!r.strokeStyle&&(r.strokeStyle=r.color);switch(this.style){case"diamond":this.drawDiamond(e,t,n,!1,r);break;case"filledDiamond":this.drawDiamond(e,t,n,!0,r);break;case"circle":this.drawCircle(e,t,n,!1,r);break;case"filledCircle":this.drawCircle(e,t,n,!0,r);break;case"square":this.drawSquare(e,t,n,!1,r);break;case"filledSquare":this.drawSquare(e,t,n,!0,r);break;case"x":this.drawX(e,t,n,!0,r);break;case"plus":this.drawPlus(e,t,n,!0,r);break;case"dash":this.drawDash(e,t,n,!0,r);break;case"line":this.drawLine(e,t,n,!1,r);break;default:this.drawDiamond(e,t,n,!1,r)}}},e.jqplot.ShadowRenderer=function(t){this.angle=45,this.offset=1,this.alpha=.07,this.lineWidth=1.5,this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.depth=3,this.strokeStyle="rgba(0,0,0,0.1)",this.isarc=!1,e.extend(!0,this,t)},e.jqplot.ShadowRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.ShadowRenderer.prototype.draw=function(t,n,r){t.save();var i=r!=null?r:{},s=i.fill!=null?i.fill:this.fill,o=i.fillRect!=null?i.fillRect:this.fillRect,u=i.closePath!=null?i.closePath:this.closePath,a=i.offset!=null?i.offset:this.offset,f=i.alpha!=null?i.alpha:this.alpha,l=i.depth!=null?i.depth:this.depth,c=i.isarc!=null?i.isarc:this.isarc,h=i.linePattern!=null?i.linePattern:this.linePattern;t.lineWidth=i.lineWidth!=null?i.lineWidth:this.lineWidth,t.lineJoin=i.lineJoin!=null?i.lineJoin:this.lineJoin,t.lineCap=i.lineCap!=null?i.lineCap:this.lineCap,t.strokeStyle=i.strokeStyle||this.strokeStyle||"rgba(0,0,0,"+f+")",t.fillStyle=i.fillStyle||this.fillStyle||"rgba(0,0,0,"+f+")";for(var p=0;p<l;p++){var d=e.jqplot.LinePattern(t,h);t.translate(Math.cos(this.angle*Math.PI/180)*a,Math.sin(this.angle*Math.PI/180)*a),d.beginPath();if(c)t.arc(n[0],n[1],n[2],n[3],n[4],!0);else if(o)o&&t.fillRect(n[0],n[1],n[2],n[3]);else if(n&&n.length){var v=!0;for(var m=0;m<n.length;m++)n[m][0]!=null&&n[m][1]!=null?v?(d.moveTo(n[m][0],n[m][1]),v=!1):d.lineTo(n[m][0],n[m][1]):v=!0}u&&d.closePath(),s?t.fill():t.stroke()}t.restore()},e.jqplot.ShapeRenderer=function(t){this.lineWidth=1.5,this.linePattern="solid",this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.isarc=!1,this.fillRect=!1,this.strokeRect=!1,this.clearRect=!1,this.strokeStyle="#999999",this.fillStyle="#999999",e.extend(!0,this,t)},e.jqplot.ShapeRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.ShapeRenderer.prototype.draw=function(t,n,r){t.save();var i=r!=null?r:{},s=i.fill!=null?i.fill:this.fill,o=i.closePath!=null?i.closePath:this.closePath,u=i.fillRect!=null?i.fillRect:this.fillRect,a=i.strokeRect!=null?i.strokeRect:this.strokeRect,f=i.clearRect!=null?i.clearRect:this.clearRect,l=i.isarc!=null?i.isarc:this.isarc,c=i.linePattern!=null?i.linePattern:this.linePattern,h=e.jqplot.LinePattern(t,c);t.lineWidth=i.lineWidth||this.lineWidth,t.lineJoin=i.lineJoin||this.lineJoin,t.lineCap=i.lineCap||this.lineCap,t.strokeStyle=i.strokeStyle||i.color||this.strokeStyle,t.fillStyle=i.fillStyle||this.fillStyle,t.beginPath();if(l){t.arc(n[0],n[1],n[2],n[3],n[4],!0),o&&t.closePath(),s?t.fill():t.stroke(),t.restore();return}if(f){t.clearRect(n[0],n[1],n[2],n[3]),t.restore();return}if(u||a){u&&t.fillRect(n[0],n[1],n[2],n[3]);if(a){t.strokeRect(n[0],n[1],n[2],n[3]),t.restore();return}}else if(n&&n.length){var p=!0;for(var d=0;d<n.length;d++)n[d][0]!=null&&n[d][1]!=null?p?(h.moveTo(n[d][0],n[d][1]),p=!1):h.lineTo(n[d][0],n[d][1]):p=!0;o&&h.closePath(),s?t.fill():t.stroke()}t.restore()},e.jqplot.TableLegendRenderer=function(){},e.jqplot.TableLegendRenderer.prototype.init=function(t){e.extend(!0,this,t)},e.jqplot.TableLegendRenderer.prototype.addrow=function(t,n,r,i){var s=r?this.rowSpacing+"px":"0px",o,u,a,f,l;a=document.createElement("tr"),o=e(a),o.addClass("jqplot-table-legend"),a=null,i?o.prependTo(this._elem):o.appendTo(this._elem),this.showSwatches&&(u=e(document.createElement("td")),u.addClass("jqplot-table-legend jqplot-table-legend-swatch"),u.css({textAlign:"center",paddingTop:s}),f=e(document.createElement("div")),f.addClass("jqplot-table-legend-swatch-outline"),l=e(document.createElement("div")),l.addClass("jqplot-table-legend-swatch"),l.css({backgroundColor:n,borderColor:n}),o.append(u.append(f.append(l)))),this.showLabels&&(u=e(document.createElement("td")),u.addClass("jqplot-table-legend jqplot-table-legend-label"),u.css("paddingTop",s),o.append(u),this.escapeHtml?u.text(t):u.html(t)),u=null,f=null,l=null,o=null,a=null},e.jqplot.TableLegendRenderer.prototype.draw=function(){this._elem&&(this._elem.emptyForce(),this._elem=null);if(this.show){var t=this._series,n=document.createElement("table");this._elem=e(n),this._elem.addClass("jqplot-table-legend");var r={position:"absolute"};this.background&&(r.background=this.background),this.border&&(r.border=this.border),this.fontSize&&(r.fontSize=this.fontSize),this.fontFamily&&(r.fontFamily=this.fontFamily),this.textColor&&(r.textColor=this.textColor),this.marginTop!=null&&(r.marginTop=this.marginTop),this.marginBottom!=null&&(r.marginBottom=this.marginBottom),this.marginLeft!=null&&(r.marginLeft=this.marginLeft),this.marginRight!=null&&(r.marginRight=this.marginRight);var i=!1,s=!1,o;for(var u=0;u<t.length;u++){o=t[u];if(o._stack||o.renderer.constructor==e.jqplot.BezierCurveRenderer)s=!0;if(o.show&&o.showLabel){var a=this.labels[u]||o.label.toString();if(a){var f=o.color;s&&u<t.length-1?i=!0:s&&u==t.length-1&&(i=!1),this.renderer.addrow.call(this,a,f,i,s),i=!0}for(var l=0;l<e.jqplot.addLegendRowHooks.length;l++){var c=e.jqplot.addLegendRowHooks[l].call(this,o);c&&(this.renderer.addrow.call(this,c.label,c.color,i),i=!0)}a=null}}}return this._elem},e.jqplot.TableLegendRenderer.prototype.pack=function(e){if(this.show)if(this.placement=="insideGrid")switch(this.location){case"nw":var t=e.left,n=e.top;this._elem.css("left",t),this._elem.css("top",n);break;case"n":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,n=e.top;this._elem.css("left",t),this._elem.css("top",n);break;case"ne":var t=e.right,n=e.top;this._elem.css({right:t,top:n});break;case"e":var t=e.right,n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({right:t,top:n});break;case"se":var t=e.right,n=e.bottom;this._elem.css({right:t,bottom:n});break;case"s":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,n=e.bottom;this._elem.css({left:t,bottom:n});break;case"sw":var t=e.left,n=e.bottom;this._elem.css({left:t,bottom:n});break;case"w":var t=e.left,n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({left:t,top:n});break;default:var t=e.right,n=e.bottom;this._elem.css({right:t,bottom:n})}else if(this.placement=="outside")switch(this.location){case"nw":var t=this._plotDimensions.width-e.left,n=e.top;this._elem.css("right",t),this._elem.css("top",n);break;case"n":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,n=this._plotDimensions.height-e.top;this._elem.css("left",t),this._elem.css("bottom",n);break;case"ne":var t=this._plotDimensions.width-e.right,n=e.top;this._elem.css({left:t,top:n});break;case"e":var t=this._plotDimensions.width-e.right,n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({left:t,top:n});break;case"se":var t=this._plotDimensions.width-e.right,n=e.bottom;this._elem.css({left:t,bottom:n});break;case"s":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2,n=this._plotDimensions.height-e.bottom;this._elem.css({left:t,top:n});break;case"sw":var t=this._plotDimensions.width-e.left,n=e.bottom;this._elem.css({right:t,bottom:n});break;case"w":var t=this._plotDimensions.width-e.left,n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({right:t,top:n});break;default:var t=e.right,n=e.bottom;this._elem.css({right:t,bottom:n})}else switch(this.location){case"nw":this._elem.css({left:0,top:e.top});break;case"n":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2;this._elem.css({left:t,top:e.top});break;case"ne":this._elem.css({right:0,top:e.top});break;case"e":var n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({right:e.right,top:n});break;case"se":this._elem.css({right:e.right,bottom:e.bottom});break;case"s":var t=(e.left+(this._plotDimensions.width-e.right))/2-this.getWidth()/2;this._elem.css({left:t,bottom:e.bottom});break;case"sw":this._elem.css({left:e.left,bottom:e.bottom});break;case"w":var n=(e.top+(this._plotDimensions.height-e.bottom))/2-this.getHeight()/2;this._elem.css({left:e.left,top:n});break;default:this._elem.css({right:e.right,bottom:e.bottom})}},e.jqplot.ThemeEngine=function(){this.themes={},this.activeTheme=null},e.jqplot.ThemeEngine.prototype.init=function(){var t=new e.jqplot.Theme({_name:"Default"}),n,r,i;for(n in t.target)n=="textColor"?t.target[n]=this.target.css("color"):t.target[n]=this.target.css(n);if(this.title.show&&this.title._elem)for(n in t.title)n=="textColor"?t.title[n]=this.title._elem.css("color"):t.title[n]=this.title._elem.css(n);for(n in t.grid)t.grid[n]=this.grid[n];t.grid.backgroundColor==null&&this.grid.background!=null&&(t.grid.backgroundColor=this.grid.background);if(this.legend.show&&this.legend._elem)for(n in t.legend)n=="textColor"?t.legend[n]=this.legend._elem.css("color"):t.legend[n]=this.legend._elem.css(n);var s;for(r=0;r<this.series.length;r++){s=this.series[r],s.renderer.constructor==e.jqplot.LineRenderer?t.series.push(new F):s.renderer.constructor==e.jqplot.BarRenderer?t.series.push(new q):s.renderer.constructor==e.jqplot.PieRenderer?t.series.push(new R):s.renderer.constructor==e.jqplot.DonutRenderer?t.series.push(new U):s.renderer.constructor==e.jqplot.FunnelRenderer?t.series.push(new z):s.renderer.constructor==e.jqplot.MeterGaugeRenderer?t.series.push(new W):t.series.push({});for(n in t.series[r])t.series[r][n]=s[n]}var o,u;for(n in this.axes){u=this.axes[n],o=t.axes[n]=new H,o.borderColor=u.borderColor,o.borderWidth=u.borderWidth;if(u._ticks&&u._ticks[0])for(i in o.ticks)u._ticks[0].hasOwnProperty(i)?o.ticks[i]=u._ticks[0][i]:u._ticks[0]._elem&&(o.ticks[i]=u._ticks[0]._elem.css(i));if(u._label&&u._label.show)for(i in o.label)u._label[i]?o.label[i]=u._label[i]:u._label._elem&&(i=="textColor"?o.label[i]=u._label._elem.css("color"):o.label[i]=u._label._elem.css(i))}this.themeEngine._add(t),this.themeEngine.activeTheme=this.themeEngine.themes[t._name]},e.jqplot.ThemeEngine.prototype.get=function(e){return e?this.themes[e]:this.activeTheme},e.jqplot.ThemeEngine.prototype.getThemeNames=function(){var e=[];for(var t in this.themes)e.push(t);return e.sort(_)},e.jqplot.ThemeEngine.prototype.getThemes=function(){var e=[],t=[];for(var n in this.themes)e.push(n);e.sort(_);for(var r=0;r<e.length;r++)t.push(this.themes[e[r]]);return t},e.jqplot.ThemeEngine.prototype.activate=function(t,n){var r=!1;!n&&this.activeTheme&&this.activeTheme._name&&(n=this.activeTheme._name);if(!this.themes.hasOwnProperty(n))throw new Error("No theme of that name");var i=this.themes[n];this.activeTheme=i;var s,o=!1,u=!1,a=["xaxis","x2axis","yaxis","y2axis"];for(g=0;g<a.length;g++){var f=a[g];i.axesStyles.borderColor!=null&&(t.axes[f].borderColor=i.axesStyles.borderColor),i.axesStyles.borderWidth!=null&&(t.axes[f].borderWidth=i.axesStyles.borderWidth)}for(var l in t.axes){var c=t.axes[l];if(c.show){var h=i.axes[l]||{},p=i.axesStyles,d=e.jqplot.extend(!0,{},h,p);s=i.axesStyles.borderColor!=null?i.axesStyles.borderColor:d.borderColor,d.borderColor!=null&&(c.borderColor=d.borderColor,r=!0),s=i.axesStyles.borderWidth!=null?i.axesStyles.borderWidth:d.borderWidth,d.borderWidth!=null&&(c.borderWidth=d.borderWidth,r=!0);if(c._ticks&&c._ticks[0])for(var v in d.ticks)s=d.ticks[v],s!=null&&(c.tickOptions[v]=s,c._ticks=[],r=!0);if(c._label&&c._label.show)for(var v in d.label)s=d.label[v],s!=null&&(c.labelOptions[v]=s,r=!0)}}for(var m in i.grid)i.grid[m]!=null&&(t.grid[m]=i.grid[m]);r||t.grid.draw();if(t.legend.show)for(m in i.legend)i.legend[m]!=null&&(t.legend[m]=i.legend[m]);if(t.title.show)for(m in i.title)i.title[m]!=null&&(t.title[m]=i.title[m]);var g;for(g=0;g<i.series.length;g++){var y={},b=!1;for(m in i.series[g])s=i.seriesStyles[m]!=null?i.seriesStyles[m]:i.series[g][m],s!=null&&(y[m]=s,m=="color"?(t.series[g].renderer.shapeRenderer.fillStyle=s,t.series[g].renderer.shapeRenderer.strokeStyle=s,t.series[g][m]=s):m=="lineWidth"||m=="linePattern"?(t.series[g].renderer.shapeRenderer[m]=s,t.series[g][m]=s):m=="markerOptions"?(P(t.series[g].markerOptions,s),P(t.series[g].markerRenderer,s)):t.series[g][m]=s,r=!0)}r&&(t.target.empty(),t.draw());for(m in i.target)i.target[m]!=null&&t.target.css(m,i.target[m])},e.jqplot.ThemeEngine.prototype._add=function(e,t){t&&(e._name=t),e._name||(e._name=Date.parse(new Date));if(!!this.themes.hasOwnProperty(e._name))throw new Error("jqplot.ThemeEngine Error: Theme already in use");this.themes[e._name]=e},e.jqplot.ThemeEngine.prototype.remove=function(e){return e=="Default"?!1:delete this.themes[e]},e.jqplot.ThemeEngine.prototype.newTheme=function(t,n){typeof t=="object"&&(n=n||t,t=null),n&&n._name?t=n._name:t=t||Date.parse(new Date);var r=this.copy(this.themes.Default._name,t);return e.jqplot.extend(r,n),r},e.jqplot.clone=D,e.jqplot.merge=P,e.jqplot.extend=function(){var n=arguments[0]||{},r=1,i=arguments.length,s=!1,o;typeof n=="boolean"&&(s=n,n=arguments[1]||{},r=2),typeof n!="object"&&!toString.call(n)==="[object Function]"&&(n={});for(;r<i;r++)if((o=arguments[r])!=null)for(var u in o){var a=n[u],f=o[u];if(n===f)continue;s&&f&&typeof f=="object"&&!f.nodeType?n[u]=e.jqplot.extend(s,a||(f.length!=null?[]:{}),f):f!==t&&(n[u]=f)}return n},e.jqplot.ThemeEngine.prototype.rename=function(e,t){if(e=="Default"||t=="Default")throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default");if(this.themes.hasOwnProperty(t))throw new Error("jqplot.ThemeEngine Error: New name already in use.");if(this.themes.hasOwnProperty(e)){var n=this.copy(e,t);return this.remove(e),n}throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid")},e.jqplot.ThemeEngine.prototype.copy=function(t,n,r){if(n=="Default")throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme");if(!this.themes.hasOwnProperty(t)){var i="jqplot.ThemeEngine Error: Source name invalid";throw new Error(i)}if(this.themes.hasOwnProperty(n)){var i="jqplot.ThemeEngine Error: Target name invalid";throw new Error(i)}var s=D(this.themes[t]);return s._name=n,e.jqplot.extend(!0,s,r),this._add(s),s},e.jqplot.Theme=function(t,n){typeof t=="object"&&(n=n||t,t=null),t=t||Date.parse(new Date),this._name=t,this.target={backgroundColor:null},this.legend={textColor:null,fontFamily:null,fontSize:null,border:null,background:null},this.title={textColor:null,fontFamily:null,fontSize:null,textAlign:null},this.seriesStyles={},this.series=[],this.grid={drawGridlines:null,gridLineColor:null,gridLineWidth:null,backgroundColor:null,borderColor:null,borderWidth:null,shadow:null},this.axesStyles={label:{},ticks:{}},this.axes={},typeof n=="string"?this._name=n:typeof n=="object"&&e.jqplot.extend(!0,this,n)};var H=function(){this.borderColor=null,this.borderWidth=null,this.ticks=new B,this.label=new j},B=function(){this.show=null,this.showGridline=null,this.showLabel=null,this.showMark=null,this.size=null,this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null},j=function(){this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null,this.fontWeight=null},F=function(){this.color=null,this.lineWidth=null,this.linePattern=null,this.shadow=null,this.fillColor=null,this.showMarker=null,this.markerOptions=new I},I=function(){this.show=null,this.style=null,this.lineWidth=null,this.size=null,this.color=null,this.shadow=null},q=function(){this.color=null,this.seriesColors=null,this.lineWidth=null,this.shadow=null,this.barPadding=null,this.barMargin=null,this.barWidth=null,this.highlightColors=null},R=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.highlightColors=null},U=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.innerDiameter=null,this.thickness=null,this.ringMargin=null,this.highlightColors=null},z=function(){this.color=null,this.lineWidth=null,this.shadow=null,this.padding=null,this.sectionMargin=null,this.seriesColors=null,this.highlightColors=null},W=function(){this.padding=null,this.backgroundColor=null,this.ringColor=null,this.tickColor=null,this.ringWidth=null,this.intervalColors=null,this.intervalInnerRadius=null,this.intervalOuterRadius=null,this.hubRadius=null,this.needleThickness=null,this.needlePad=null};e.fn.jqplotChildText=function(){return e(this).contents().filter(function(){return this.nodeType==3}).text()},e.fn.jqplotGetComputedFontStyle=function(){var e=window.getComputedStyle?window.getComputedStyle(this[0],""):this[0].currentStyle,t=e["font-style"]?["font-style","font-weight","font-size","font-family"]:["fontStyle","fontWeight","fontSize","fontFamily"],n=[];for(var r=0;r<t.length;++r){var i=String(e[t[r]]);i&&i!="normal"&&n.push(i)}return n.join(" ")},e.fn.jqplotToImageCanvas=function(t){function w(t){var n=parseInt(e(t).css("line-height"),10);return isNaN(n)&&(n=parseInt(e(t).css("font-size"),10)*1.2),n}function E(t,n,r,i,s,o){var u=w(t),a=e(t).innerWidth(),f=e(t).innerHeight(),l=r.split(/\s+/),h=l.length,p="",d=[],v=s,m=i;for(var g=0;g<h;g++)p+=l[g],n.measureText(p).width>a&&(d.push(g),p="",g--);if(d.length===0)e(t).css("textAlign")==="center"&&(m=i+(o-n.measureText(p).width)/2-c),n.fillText(r,m,s);else{p=l.slice(0,d[0]).join(" "),e(t).css("textAlign")==="center"&&(m=i+(o-n.measureText(p).width)/2-c),n.fillText(p,m,v),v+=u;for(var g=1,y=d.length;g<y;g++)p=l.slice(d[g-1],d[g]).join(" "),e(t).css("textAlign")==="center"&&(m=i+(o-n.measureText(p).width)/2-c),n.fillText(p,m,v),v+=u;p=l.slice(d[g-1],l.length).join(" "),e(t).css("textAlign")==="center"&&(m=i+(o-n.measureText(p).width)/2-c),n.fillText(p,m,v)}}function S(t,n,r){var i=t.tagName.toLowerCase(),o=e(t).position(),u=window.getComputedStyle?window.getComputedStyle(t,""):t.currentStyle,a=n+o.left+parseInt(u.marginLeft,10)+parseInt(u.borderLeftWidth,10)+parseInt(u.paddingLeft,10),f=r+o.top+parseInt(u.marginTop,10)+parseInt(u.borderTopWidth,10)+parseInt(u.paddingTop,10),l=s.width;if(i!="div"&&i!="span"||!!e(t).hasClass("jqplot-highlighter-tooltip"))if(i==="table"&&e(t).hasClass("jqplot-table-legend")){b.strokeStyle=e(t).css("border-top-color"),b.fillStyle=e(t).css("background-color"),b.fillRect(a,f,e(t).innerWidth(),e(t).innerHeight()),parseInt(e(t).css("border-top-width"),10)>0&&b.strokeRect(a,f,e(t).innerWidth(),e(t).innerHeight()),e(t).find("div.jqplot-table-legend-swatch-outline").each(function(){var t=e(this);b.strokeStyle=t.css("border-top-color");var n=a+t.position().left,r=f+t.position().top;b.strokeRect(n,r,t.innerWidth(),t.innerHeight()),n+=parseInt(t.css("padding-left"),10),r+=parseInt(t.css("padding-top"),10);var i=t.innerHeight()-2*parseInt(t.css("padding-top"),10),s=t.innerWidth()-2*parseInt(t.css("padding-left"),10),o=t.children("div.jqplot-table-legend-swatch");b.fillStyle=o.css("background-color"),b.fillRect(n,r,s,i)}),e(t).find("td.jqplot-table-legend-label").each(function(){var t=e(this),n=a+t.position().left,r=f+t.position().top+parseInt(t.css("padding-top"),10);b.font=t.jqplotGetComputedFontStyle(),b.fillStyle=t.css("color"),E(t,b,t.text(),n,r,l)});var h=null}else i=="canvas"&&b.drawImage(t,a,f);else{e(t).children().each(function(){S(this,a,f)});var c=e(t).jqplotChildText();c&&(b.font=e(t).jqplotGetComputedFontStyle(),b.fillStyle=e(t).css("color"),E(t,b,c,a,f,l))}}t=t||{};var n=t.x_offset==null?0:t.x_offset,r=t.y_offset==null?0:t.y_offset,i=t.backgroundColor==null?"rgb(255,255,255)":t.backgroundColor;if(e(this).width()==0||e(this).height()==0)return null;if(e.jqplot.use_excanvas)return null;var s=document.createElement("canvas"),o=e(this).outerHeight(!0),u=e(this).outerWidth(!0),a=e(this).offset(),f=a.left,l=a.top,c=0,h=0,p=["jqplot-table-legend","jqplot-xaxis-tick","jqplot-x2axis-tick","jqplot-yaxis-tick","jqplot-y2axis-tick","jqplot-y3axis-tick","jqplot-y4axis-tick","jqplot-y5axis-tick","jqplot-y6axis-tick","jqplot-y7axis-tick","jqplot-y8axis-tick","jqplot-y9axis-tick","jqplot-xaxis-label","jqplot-x2axis-label","jqplot-yaxis-label","jqplot-y2axis-label","jqplot-y3axis-label","jqplot-y4axis-label","jqplot-y5axis-label","jqplot-y6axis-label","jqplot-y7axis-label","jqplot-y8axis-label","jqplot-y9axis-label"],d,v,m,g;for(var y=0;y<p.length;y++)e(this).find("."+p[y]).each(function(){d=e(this).offset().top-l,v=e(this).offset().left-f,g=v+e(this).outerWidth(!0)+c,m=d+e(this).outerHeight(!0)+h,v<-c&&(u=u-c-v,c=-v),d<-h&&(o=o-h-d,h=-d),g>u&&(u=g),m>o&&(o=m)});s.width=u+Number(n),s.height=o+Number(r);var b=s.getContext("2d");return b.save(),b.fillStyle=i,b.fillRect(0,0,s.width,s.height),b.restore(),b.translate(c,h),b.textAlign="left",b.textBaseline="top",e(this).children().each(function(){S(this,n,r)}),s},e.fn.jqplotToImageStr=function(t){var n=e(this).jqplotToImageCanvas(t);return n?n.toDataURL("image/png"):null},e.fn.jqplotToImageElem=function(t){var n=document.createElement("img"),r=e(this).jqplotToImageStr(t);return n.src=r,n},e.fn.jqplotToImageElemStr=function(t){var n="<img src="+e(this).jqplotToImageStr(t)+" />";return n},e.fn.jqplotSaveImage=function(){var t=e(this).jqplotToImageStr({});t&&(window.location.href=t.replace("image/png","image/octet-stream"))},e.fn.jqplotViewImage=function(){var t=e(this).jqplotToImageElemStr({}),n=e(this).jqplotToImageStr({});if(t){var r=window.open("");r.document.open("image/png"),r.document.write(t),r.document.close(),r=null}};var X=function(){this.syntax=X.config.syntax,this._type="jsDate",this.proxy=new Date,this.options={},this.locale=X.regional.getLocale(),this.formatString="",this.defaultCentury=X.config.defaultCentury;switch(arguments.length){case 0:break;case 1:if(Y(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"){var e=this.options=arguments[0];this.syntax=e.syntax||this.syntax,this.defaultCentury=e.defaultCentury||this.defaultCentury,this.proxy=X.createDate(e.date)}else this.proxy=X.createDate(arguments[0]);break;default:var t=[];for(var n=0;n<arguments.length;n++)t.push(arguments[n]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,t.slice(0,3)),t.slice(3).length&&this.proxy.setHours.apply(this.proxy,t.slice(3))}};X.config={defaultLocale:"en",syntax:"perl",defaultCentury:1900},X.prototype.add=function(e,t){var n=J[t]||J.day;return typeof n=="number"?this.proxy.setTime(this.proxy.getTime()+n*e):n.add(this,e),this},X.prototype.clone=function(){return new X(this.proxy.getTime())},X.prototype.getUtcOffset=function(){return this.proxy.getTimezoneOffset()*6e4},X.prototype.diff=function(e,t,n){e=new X(e);if(e===null)return null;var r=J[t]||J.day;if(typeof r=="number")var i=(this.proxy.getTime()-e.proxy.getTime())/r;else var i=r.diff(this.proxy,e.proxy);return n?i:Math[i>0?"floor":"ceil"](i)},X.prototype.getAbbrDayName=function(){return X.regional[this.locale].dayNamesShort[this.proxy.getDay()]},X.prototype.getAbbrMonthName=function(){return X.regional[this.locale].monthNamesShort[this.proxy.getMonth()]},X.prototype.getAMPM=function(){return this.proxy.getHours()>=12?"PM":"AM"},X.prototype.getAmPm=function(){return this.proxy.getHours()>=12?"pm":"am"},X.prototype.getCentury=function(){return parseInt(this.proxy.getFullYear()/100,10)},X.prototype.getDate=function(){return this.proxy.getDate()},X.prototype.getDay=function(){return this.proxy.getDay()},X.prototype.getDayOfWeek=function(){var e=this.proxy.getDay();return e===0?7:e},X.prototype.getDayOfYear=function(){var e=this.proxy,t=e-new Date(""+e.getFullYear()+"/1/1 GMT");return t+=e.getTimezoneOffset()*6e4,e=null,parseInt(t/6e4/60/24,10)+1},X.prototype.getDayName=function(){return X.regional[this.locale].dayNames[this.proxy.getDay()]},X.prototype.getFullWeekOfYear=function(){var e=this.proxy,t=this.getDayOfYear(),n=6-e.getDay(),r=parseInt((t+n)/7,10);return r},X.prototype.getFullYear=function(){return this.proxy.getFullYear()},X.prototype.getGmtOffset=function(){var e=this.proxy.getTimezoneOffset()/60,t=e<0?"+":"-";return e=Math.abs(e),t+$(Math.floor(e),2)+":"+$(e%1*60,2)},X.prototype.getHours=function(){return this.proxy.getHours()},X.prototype.getHours12=function(){var e=this.proxy.getHours();return e>12?e-12:e==0?12:e},X.prototype.getIsoWeek=function(){var e=this.proxy,t=this.getWeekOfYear(),n=(new Date(""+e.getFullYear()+"/1/1")).getDay(),r=t+(n>4||n<=1?0:1);return r==53&&(new Date(""+e.getFullYear()+"/12/31")).getDay()<4?r=1:r===0&&(e=new X(new Date(""+(e.getFullYear()-1)+"/12/31")),r=e.getIsoWeek()),e=null,r},X.prototype.getMilliseconds=function(){return this.proxy.getMilliseconds()},X.prototype.getMinutes=function(){return this.proxy.getMinutes()},X.prototype.getMonth=function(){return this.proxy.getMonth()},X.prototype.getMonthName=function(){return X.regional[this.locale].monthNames[this.proxy.getMonth()]},X.prototype.getMonthNumber=function(){return this.proxy.getMonth()+1},X.prototype.getSeconds=function(){return this.proxy.getSeconds()},X.prototype.getShortYear=function(){return this.proxy.getYear()%100},X.prototype.getTime=function(){return this.proxy.getTime()},X.prototype.getTimezoneAbbr=function(){return this.proxy.toString().replace(/^.*\(([^)]+)\)$/,"$1")},X.prototype.getTimezoneName=function(){var e=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());return e[1]||e[2]||"GMT"+this.getGmtOffset()},X.prototype.getTimezoneOffset=function(){return this.proxy.getTimezoneOffset()},X.prototype.getWeekOfYear=function(){var e=this.getDayOfYear(),t=7-this.getDayOfWeek(),n=parseInt((e+t)/7,10);return n},X.prototype.getUnix=function(){return Math.round(this.proxy.getTime()/1e3,0)},X.prototype.getYear=function(){return this.proxy.getYear()},X.prototype.next=function(e){return e=e||"day",this.clone().add(1,e)},X.prototype.set=function(){switch(arguments.length){case 0:this.proxy=new Date;break;case 1:if(Y(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"){var e=this.options=arguments[0];this.syntax=e.syntax||this.syntax,this.defaultCentury=e.defaultCentury||this.defaultCentury,this.proxy=X.createDate(e.date)}else this.proxy=X.createDate(arguments[0]);break;default:var t=[];for(var n=0;n<arguments.length;n++)t.push(arguments[n]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,t.slice(0,3)),t.slice(3).length&&this.proxy.setHours.apply(this.proxy,t.slice(3))}return this},X.prototype.setDate=function(e){return this.proxy.setDate(e),this},X.prototype.setFullYear=function(){return this.proxy.setFullYear.apply(this.proxy,arguments),this},X.prototype.setHours=function(){return this.proxy.setHours.apply(this.proxy,arguments),this},X.prototype.setMilliseconds=function(e){return this.proxy.setMilliseconds(e),this},X.prototype.setMinutes=function(){return this.proxy.setMinutes.apply(this.proxy,arguments),this},X.prototype.setMonth=function(){return this.proxy.setMonth.apply(this.proxy,arguments),this},X.prototype.setSeconds=function(){return this.proxy.setSeconds.apply(this.proxy,arguments),this},X.prototype.setTime=function(e){return this.proxy.setTime(e),this},X.prototype.setYear=function(){return this.proxy.setYear.apply(this.proxy,arguments),this},X.prototype.strftime=function(e){return e=e||this.formatString||X.regional[this.locale].formatString,X.strftime(this,e,this.syntax)},X.prototype.toString=function(){return this.proxy.toString()},X.prototype.toYmdInt=function(){return this.proxy.getFullYear()*1e4+this.getMonthNumber()*100+this.proxy.getDate()},X.regional={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formatString:"%Y-%m-%d %H:%M:%S"},fr:{monthNames:["Janvier","FÃ©vrier","Mars","Avril","Mai","Juin","Juillet","AoÃ»t","Septembre","Octobre","Novembre","DÃ©cembre"],monthNamesShort:["Jan","FÃ©v","Mar","Avr","Mai","Jun","Jul","AoÃ»","Sep","Oct","Nov","DÃ©c"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],formatString:"%Y-%m-%d %H:%M:%S"},de:{monthNames:["Januar","Februar","MÃ¤rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","MÃ¤r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],formatString:"%Y-%m-%d %H:%M:%S"},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},ru:{monthNames:["Ð¯Ð½Ð²Ð°ÑÑ","Ð¤ÐµÐ²ÑÐ°Ð»Ñ","ÐÐ°ÑÑ","ï¿½?Ð¿ÑÐµÐ»Ñ","ÐÐ°Ð¹","ÐÑÐ½Ñ","ÐÑÐ»Ñ","ï¿½?Ð²Ð³Ñï¿½?Ñ","Ð¡ÐµÐ½Ñï¿½?Ð±ÑÑ","ÐÐºÑï¿½?Ð±ÑÑ","ï¿½?Ð¾ï¿½?Ð±ÑÑ","ÐÐµÐºÐ°Ð±ÑÑ"],monthNamesShort:["Ð¯Ð½Ð²","Ð¤ÐµÐ²","ÐÐ°Ñ","ï¿½?Ð¿Ñ","ÐÐ°Ð¹","ÐÑÐ½","ÐÑÐ»","ï¿½?Ð²Ð³","Ð¡ÐµÐ½","ÐÐºÑ","ï¿½?Ð¾ï¿½?","ÐÐµÐº"],dayNames:["Ð²Ð¾ï¿½?ÐºÑÐµï¿½?ÐµÐ½ÑÐµ","Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº","Ð²ÑÐ¾ÑÐ½Ð¸Ðº","ï¿½?ÑÐµÐ´Ð°","ÑÐµÑÐ²ÐµÑÐ³","Ð¿ï¿½?ÑÐ½Ð¸ÑÐ°","ï¿½?ÑÐ±Ð±Ð¾ÑÐ°"],dayNamesShort:["Ð²ï¿½?Ðº","Ð¿Ð½Ð´","Ð²ÑÑ","ï¿½?ÑÐ´","ÑÑÐ²","Ð¿ÑÐ½","ï¿½?Ð±Ñ"],formatString:"%Y-%m-%d %H:%M:%S"},ar:{monthNames:["ÙØ§ÙÙÙ Ø§ÙØ«Ø§ÙÙ","Ø´Ø¨Ø§Ø·","Ø¢Ø°Ø§Ø±","ÙÙØ³Ø§Ù","Ø¢Ø°Ø§Ø±","Ø­Ø²ÙØ±Ø§Ù","ØªÙÙØ²","Ø¢Ø¨","Ø£ÙÙÙÙ","ØªØ´Ø±ÙÙ Ø§ÙØ£ÙÙ","ØªØ´Ø±ÙÙ Ø§ÙØ«Ø§ÙÙ","ÙØ§ÙÙÙ Ø§ÙØ£ÙÙ"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["Ø§ÙØ³Ø¨Øª","Ø§ÙØ£Ø­Ø¯","Ø§ÙØ§Ø«ÙÙÙ","Ø§ÙØ«ÙØ§Ø«Ø§Ø¡","Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡","Ø§ÙØ®ÙÙØ³","Ø§ÙØ¬ÙØ¹Ø©"],dayNamesShort:["Ø³Ø¨Øª","Ø£Ø­Ø¯","Ø§Ø«ÙÙÙ","Ø«ÙØ§Ø«Ø§Ø¡","Ø£Ø±Ø¨Ø¹Ø§Ø¡","Ø®ÙÙØ³","Ø¬ÙØ¹Ø©"],formatString:"%Y-%m-%d %H:%M:%S"},pt:{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"pt-BR":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},pl:{monthNames:["StyczeÅ","Luty","Marzec","KwiecieÅ","Maj","Czerwiec","Lipiec","SierpieÅ","WrzesieÅ","PaÅºdziernik","Listopad","GrudzieÅ"],monthNamesShort:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","PaÅº","Lis","Gru"],dayNames:["Niedziela","PoniedziaÅek","Wtorek","Åroda","Czwartek","PiÄtek","Sobota"],dayNamesShort:["Ni","Pn","Wt","År","Cz","Pt","Sb"],formatString:"%Y-%m-%d %H:%M:%S"}},X.regional["en-US"]=X.regional["en-GB"]=X.regional.en,X.regional.getLocale=function(){var e=X.config.defaultLocale;return document&&document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(e=document.getElementsByTagName("html")[0].lang,X.regional.hasOwnProperty(e)||(e=X.config.defaultLocale)),e};var V=864e5,$=function(e,t){e=String(e);var n=t-e.length,r=String(Math.pow(10,n)).slice(1);return r.concat(e)},J={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:V,week:7*V,month:{add:function(e,t){J.year.add(e,Math[t>0?"floor":"ceil"](t/12));var n=e.getMonth()+t%12;n==12?(n=0,e.setYear(e.getFullYear()+1)):n==-1&&(n=11,e.setYear(e.getFullYear()-1)),e.setMonth(n)},diff:function(e,t){var n=e.getFullYear()-t.getFullYear(),r=e.getMonth()-t.getMonth()+n*12,i=e.getDate()-t.getDate();return r+i/30}},year:{add:function(e,t){e.setYear(e.getFullYear()+Math[t>0?"floor":"ceil"](t))},diff:function(e,t){return J.month.diff(e,t)/12}}};for(var K in J)K.substring(K.length-1)!="s"&&(J[K+"s"]=J[K]);var Q=function(e,t,n){if(X.formats[n].shortcuts[t])return X.strftime(e,X.formats[n].shortcuts[t],n);var r=(X.formats[n].codes[t]||"").split("."),i=e["get"+r[0]]?e["get"+r[0]]():"";return r[1]&&(i=$(i,r[1])),i};X.strftime=function(e,t,n,r){var i="perl",s=X.regional.getLocale();n&&X.formats.hasOwnProperty(n)?i=n:n&&X.regional.hasOwnProperty(n)&&(s=n),r&&X.formats.hasOwnProperty(r)?i=r:r&&X.regional.hasOwnProperty(r)&&(s=r);if(Y(e)!="[object Object]"||e._type!="jsDate")e=new X(e),e.locale=s;t||(t=e.formatString||X.regional[s].formatString);var o=t||"%Y-%m-%d",u="",a;while(o.length>0)(a=o.match(X.formats[i].codes.matcher))?(u+=o.slice(0,a.index),u+=(a[1]||"")+Q(e,a[2],i),o=o.slice(a.index+a[0].length)):(u+=o,o="");return u},X.formats={ISO:"%Y-%m-%dT%H:%M:%S.%N%G",SQL:"%Y-%m-%d %H:%M:%S"},X.formats.perl={codes:{matcher:/()%(#?(%|[a-z]))/i,Y:"FullYear",y:"ShortYear.2",m:"MonthNumber.2","#m":"MonthNumber",B:"MonthName",b:"AbbrMonthName",d:"Date.2","#d":"Date",e:"Date",A:"DayName",a:"AbbrDayName",w:"Day",H:"Hours.2","#H":"Hours",I:"Hours12.2","#I":"Hours12",p:"AMPM",M:"Minutes.2","#M":"Minutes",S:"Seconds.2","#S":"Seconds",s:"Unix",N:"Milliseconds.3","#N":"Milliseconds",O:"TimezoneOffset",Z:"TimezoneName",G:"GmtOffset"},shortcuts:{F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",D:"%m/%d/%y","#c":"%a %b %e %H:%M:%S %Y",v:"%e-%b-%Y",R:"%H:%M",r:"%I:%M:%S %p",t:"	",n:"\n","%":"%"}},X.formats.php={codes:{matcher:/()%((%|[a-z]))/i,a:"AbbrDayName",A:"DayName",d:"Date.2",e:"Date",j:"DayOfYear.3",u:"DayOfWeek",w:"Day",U:"FullWeekOfYear.2",V:"IsoWeek.2",W:"WeekOfYear.2",b:"AbbrMonthName",B:"MonthName",m:"MonthNumber.2",h:"AbbrMonthName",C:"Century.2",y:"ShortYear.2",Y:"FullYear",H:"Hours.2",I:"Hours12.2",l:"Hours12",p:"AMPM",P:"AmPm",M:"Minutes.2",S:"Seconds.2",s:"Unix",O:"TimezoneOffset",z:"GmtOffset",Z:"TimezoneAbbr"},shortcuts:{D:"%m/%d/%y",F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",R:"%H:%M",r:"%I:%M:%S %p",t:"	",n:"\n","%":"%"}},X.createDate=function(e){function s(e,t){var n=parseFloat(t[1]),r=parseFloat(t[2]),i=parseFloat(t[3]),s=X.config.defaultCentury,o,u,a,f;return n>31?(u=i,a=r,o=s+n):(u=r,a=n,o=s+i),f=a+"/"+u+"/"+o,e.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/,f)}if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="number")return new Date(e);var t=String(e).replace(/^\s*(.+)\s*$/g,"$1");t=t.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/,"$1/$2/$3"),t=t.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i,"$1 $2 $3");var n=t.match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i);if(n&&n.length>3){var r=parseFloat(n[3]),i=X.config.defaultCentury+r;i=String(i),t=t.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i,n[1]+" "+n[2]+" "+i)}n=t.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/),n&&n.length>3&&(t=s(t,n));var n=t.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/);n&&n.length>3&&(t=s(t,n));var o=0,u=X.matchers.length,a,f,l=t,c;while(o<u){f=Date.parse(l);if(!isNaN(f))return new Date(f);a=X.matchers[o];if(typeof a=="function"){c=a.call(X,l);if(c instanceof Date)return c}else l=t.replace(a[0],a[1]);o++}return NaN},X.daysInMonth=function(e,n){return n==2?(new Date(e,1,29)).getDate()==29?29:28:[t,31,t,31,30,31,30,31,31,30,31,30,31][n]},X.matchers=[[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,"$2/$1/$3"],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,"$2/$3/$1"],function(e){var t=e.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);if(t){if(t[1]){var n=this.createDate(t[1]);if(isNaN(n))return}else{var n=new Date;n.setMilliseconds(0)}var r=parseFloat(t[2]);return t[6]&&(r=t[6].toLowerCase()=="am"?r==12?0:r:r==12?12:r+12),n.setHours(r,parseInt(t[3]||0,10),parseInt(t[4]||0,10),(parseFloat(t[5]||0)||0)*1e3),n}return e},function(e){var t=e.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);if(t){if(t[1]){var n=this.createDate(t[1]);if(isNaN(n))return}else{var n=new Date;n.setMilliseconds(0)}var r=parseFloat(t[2]);return n.setHours(r,parseInt(t[3],10),parseInt(t[4],10),parseFloat(t[5])*1e3),n}return e},function(e){var t=e.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);if(t){var n=new Date,r=X.config.defaultCentury,i=parseFloat(t[1]),s=parseFloat(t[3]),o,u,a;i>31?(u=s,o=r+i):(u=i,o=r+s);var a=G(t[2],X.regional[X.regional.getLocale()].monthNamesShort);return a==-1&&(a=G(t[2],X.regional[X.regional.getLocale()].monthNames)),n.setFullYear(o,a,u),n.setHours(0,0,0,0),n}return e}],e.jsDate=X,e.jqplot.sprintf=function(){function t(e,t,n,r){var i=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+i:i+e}function n(t){var n=new String(t);for(var r=10;r>0;r--)if(n==(n=n.replace(/^(\d+)(\d{3})/,"$1"+e.jqplot.sprintf.thousandsSeparator+"$2")))break;return n}function r(e,n,r,i,s,o){var u=i-e.length;if(u>0){var a=" ";o&&(a="&nbsp;"),r||!s?e=t(e,i,a,r):e=e.slice(0,n.length)+t("",u,"0",!0)+e.slice(n.length)}return e}function i(e,n,i,s,o,u,a,f){var l=e>>>0;return i=i&&l&&{2:"0b",8:"0",16:"0x"}[n]||"",e=i+t(l.toString(n),u||0,"0",!1),r(e,i,s,o,a,f)}function s(e,t,n,i,s,o){return i!=null&&(e=e.slice(0,i)),r(e,"",t,n,s,o)}var o=arguments,u=0,a=o[u++];return a.replace(e.jqplot.sprintf.regex,function(a,f,l,c,h,p,d){if(a=="%%")return"%";var v=!1,m="",g=!1,y=!1,b=!1,w=!1;for(var E=0;l&&E<l.length;E++)switch(l.charAt(E)){case" ":m=" ";break;case"+":m="+";break;case"-":v=!0;break;case"0":g=!0;break;case"#":y=!0;break;case"&":b=!0;break;case"'":w=!0}c?c=="*"?c=+o[u++]:c.charAt(0)=="*"?c=+o[c.slice(1,-1)]:c=+c:c=0,c<0&&(c=-c,v=!0);if(!isFinite(c))throw new Error("$.jqplot.sprintf: (minimum-)width must be finite");p?p=="*"?p=+o[u++]:p.charAt(0)=="*"?p=+o[p.slice(1,-1)]:p=+p:p="fFeE".indexOf(d)>-1?6:d=="d"?0:void 0;var S=f?o[f.slice(0,-1)]:o[u++];switch(d){case"s":if(S==null)return"";return s(String(S),v,c,p,g,b);case"c":return s(String.fromCharCode(+S),v,c,p,g,b);case"b":return i(S,2,y,v,c,p,g,b);case"o":return i(S,8,y,v,c,p,g,b);case"x":return i(S,16,y,v,c,p,g,b);case"X":return i(S,16,y,v,c,p,g,b).toUpperCase();case"u":return i(S,10,y,v,c,p,g,b);case"i":var x=parseInt(+S,10);if(isNaN(x))return"";var T=x<0?"-":m,N=w?n(String(Math.abs(x))):String(Math.abs(x));return S=T+t(N,p,"0",!1),r(S,T,v,c,g,b);case"d":var x=Math.round(+S);if(isNaN(x))return"";var T=x<0?"-":m,N=w?n(String(Math.abs(x))):String(Math.abs(x));return S=T+t(N,p,"0",!1),r(S,T,v,c,g,b);case"e":case"E":case"f":case"F":case"g":case"G":var x=+S;if(isNaN(x))return"";var T=x<0?"-":m,C=["toExponential","toFixed","toPrecision"]["efg".indexOf(d.toLowerCase())],k=["toString","toUpperCase"]["eEfFgG".indexOf(d)%2],N=Math.abs(x)[C](p),L=N.toString().split(".");L[0]=w?n(L[0]):L[0],N=L.join(e.jqplot.sprintf.decimalMark),S=T+N;var A=r(S,T,v,c,g,b)[k]();return A;case"p":case"P":var x=+S;if(isNaN(x))return"";var T=x<0?"-":m,L=String(Number(Math.abs(x)).toExponential()).split(/e|E/),O=L[0].indexOf(".")!=-1?L[0].length-1:String(x).length,M=L[1]<0?-L[1]-1:0;if(Math.abs(x)<1)O+M<=p?S=T+Math.abs(x).toPrecision(O):O<=p-1?S=T+Math.abs(x).toExponential(O-1):S=T+Math.abs(x).toExponential(p-1);else{var _=O<=p?O:p;S=T+Math.abs(x).toPrecision(_)}var k=["toString","toUpperCase"]["pP".indexOf(d)%2];return r(S,T,v,c,g,b)[k]();case"n":return"";default:return a}})},e.jqplot.sprintf.thousandsSeparator=",",e.jqplot.sprintf.decimalMark=".",e.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g,e.jqplot.getSignificantFigures=function(e){var t=String(Number(Math.abs(e)).toExponential()).split(/e|E/),n=t[0].indexOf(".")!=-1?t[0].length-1:t[0].length,r=t[1]<0?-t[1]-1:0,i=parseInt(t[1],10),s=i+1>0?i+1:0,o=n<=s?0:n-i-1;return{significantDigits:n,digitsLeft:s,digitsRight:o,zeros:r,exponent:i}},e.jqplot.getPrecision=function(t){return e.jqplot.getSignificantFigures(t).digitsRight};var Z=e.uiBackCompat!==!1;e.jqplot.effects={effect:{}};var et="jqplot.storage.";e.extend(e.jqplot.effects,{version:"1.9pre",save:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.data(et+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.css(t[n],e.data(et+t[n]))},setMode:function(e,t){return t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),t.css("position")==="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t}}),e.fn.extend({jqplotEffect:function(t,n,r,i){function l(t){function o(){e.isFunction(r)&&r.call(n[0]),e.isFunction(t)&&t()}var n=e(this),r=s.complete,i=s.mode;(n.is(":hidden")?i==="hide":i==="show")?o():a.call(n[0],s,o)}var s=tt.apply(this,arguments),o=s.mode,u=s.queue,a=e.jqplot.effects.effect[s.effect],f=!a&&Z&&e.jqplot.effects[s.effect];return e.fx.off||!a&&!f?o?this[o](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a?u===!1?this.each(l):this.queue(u||"fx",l):f.call(this,{options:s,duration:s.duration,callback:s.complete,mode:s.mode})}});var rt=/up|down|vertical/,it=/up|left|vertical|horizontal/;e.jqplot.effects.effect.blind=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.jqplot.effects.setMode(r,t.mode||"hide"),o=t.direction||"up",u=rt.test(o),a=u?"height":"width",f=u?"top":"left",l=it.test(o),c={},h=s==="show",p,d,v;r.parent().is(".ui-effects-wrapper")?e.jqplot.effects.save(r.parent(),i):e.jqplot.effects.save(r,i),r.show(),v=parseInt(r.css("top"),10),p=e.jqplot.effects.createWrapper(r).css({overflow:"hidden"}),d=u?p[a]()+v:p[a](),c[a]=h?String(d):"0",l||(r.css(u?"bottom":"right",0).css(u?"top":"left","").css({position:"absolute"}),c[f]=h?"0":String(d)),h&&(p.css(a,0),l||p.css(f,d)),p.animate(c,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){s==="hide"&&r.hide(),e.jqplot.effects.restore(r,i),e.jqplot.effects.removeWrapper(r),n()}})}}(jQuery),define("jpjqplot",["jquery"],function(){}),function(e){function i(t,n){var r=t.plugins.highlighter,i=t.series[n.seriesIndex],s=i.markerRenderer,o=r.markerRenderer;o.style=s.style,o.lineWidth=s.lineWidth+r.lineWidthAdjust,o.size=s.size+r.sizeAdjust;var u=e.jqplot.getColorComponents(s.color),a=[u[0],u[1],u[2]],f=u[3]>=.6?u[3]*.6:u[3]*(2-u[3]);o.color="rgba("+a[0]+","+a[1]+","+a[2]+","+f+")",o.init(),o.draw(i.gridData[n.pointIndex][0],i.gridData[n.pointIndex][1],r.highlightCanvas._ctx)}function s(i,s,o){var u=i.plugins.highlighter,a=u._tooltipElem,f=s.highlighter||{},l=e.extend(!0,{},u,f);if(l.useAxesFormatters){var h=s._xaxis._ticks[0].formatter,p=s._yaxis._ticks[0].formatter,v=s._xaxis._ticks[0].formatString,m=s._yaxis._ticks[0].formatString,g,y=h(v,o.data[0]),w=[];for(var E=1;E<l.yvalues+1;E++)w.push(p(m,o.data[E]));if(typeof l.formatString=="string")switch(l.tooltipAxes){case"both":case"xy":w.unshift(y),w.unshift(l.formatString),g=e.jqplot.sprintf.apply(e.jqplot.sprintf,w);break;case"yx":w.push(y),w.unshift(l.formatString),g=e.jqplot.sprintf.apply(e.jqplot.sprintf,w);break;case"x":g=e.jqplot.sprintf.apply(e.jqplot.sprintf,[l.formatString,y]);break;case"y":w.unshift(l.formatString),g=e.jqplot.sprintf.apply(e.jqplot.sprintf,w);break;default:w.unshift(y),w.unshift(l.formatString),g=e.jqplot.sprintf.apply(e.jqplot.sprintf,w)}else switch(l.tooltipAxes){case"both":case"xy":g=y;for(var E=0;E<w.length;E++)g+=l.tooltipSeparator+w[E];break;case"yx":g="";for(var E=0;E<w.length;E++)g+=w[E]+l.tooltipSeparator;g+=y;break;case"x":g=y;break;case"y":g=w.join(l.tooltipSeparator);break;default:g=y;for(var E=0;E<w.length;E++)g+=l.tooltipSeparator+w[E]}}else{var g;typeof l.formatString=="string"?g=e.jqplot.sprintf.apply(e.jqplot.sprintf,[l.formatString].concat(o.data)):l.tooltipAxes=="both"||l.tooltipAxes=="xy"?g=e.jqplot.sprintf(l.tooltipFormatString,o.data[0])+l.tooltipSeparator+e.jqplot.sprintf(l.tooltipFormatString,o.data[1]):l.tooltipAxes=="yx"?g=e.jqplot.sprintf(l.tooltipFormatString,o.data[1])+l.tooltipSeparator+e.jqplot.sprintf(l.tooltipFormatString,o.data[0]):l.tooltipAxes=="x"?g=e.jqplot.sprintf(l.tooltipFormatString,o.data[0]):l.tooltipAxes=="y"&&(g=e.jqplot.sprintf(l.tooltipFormatString,o.data[1]))}e.isFunction(l.tooltipContentEditor)&&(g=l.tooltipContentEditor(g,o.seriesIndex,o.pointIndex,i)),a.html(g);var S={x:o.gridData[0],y:o.gridData[1]},x=0,T=.707;s.markerRenderer.show==1&&(x=(s.markerRenderer.size+l.sizeAdjust)/2);var N=t;s.fillToZero&&s.fill&&o.data[1]<0&&(N=r);switch(N[n[l.tooltipLocation]]){case"nw":var C=S.x+i._gridPadding.left-a.outerWidth(!0)-l.tooltipOffset-T*x,k=S.y+i._gridPadding.top-l.tooltipOffset-a.outerHeight(!0)-T*x;break;case"n":var C=S.x+i._gridPadding.left-a.outerWidth(!0)/2,k=S.y+i._gridPadding.top-l.tooltipOffset-a.outerHeight(!0)-x;break;case"ne":var C=S.x+i._gridPadding.left+l.tooltipOffset+T*x,k=S.y+i._gridPadding.top-l.tooltipOffset-a.outerHeight(!0)-T*x;break;case"e":var C=S.x+i._gridPadding.left+l.tooltipOffset+x,k=S.y+i._gridPadding.top-a.outerHeight(!0)/2;break;case"se":var C=S.x+i._gridPadding.left+l.tooltipOffset+T*x,k=S.y+i._gridPadding.top+l.tooltipOffset+T*x;break;case"s":var C=S.x+i._gridPadding.left-a.outerWidth(!0)/2,k=S.y+i._gridPadding.top+l.tooltipOffset+x;break;case"sw":var C=S.x+i._gridPadding.left-a.outerWidth(!0)-l.tooltipOffset-T*x,k=S.y+i._gridPadding.top+l.tooltipOffset+T*x;break;case"w":var C=S.x+i._gridPadding.left-a.outerWidth(!0)-l.tooltipOffset-x,k=S.y+i._gridPadding.top-a.outerHeight(!0)/2;break;default:var C=S.x+i._gridPadding.left-a.outerWidth(!0)-l.tooltipOffset-T*x,k=S.y+i._gridPadding.top-l.tooltipOffset-a.outerHeight(!0)-T*x}a.css("left",C),a.css("top",k),l.fadeTooltip?a.stop(!0,!0).fadeIn(l.tooltipFadeSpeed):a.show(),a=null}function o(e,t,n,r,o){var u=o.plugins.highlighter,f=o.plugins.cursor;if(u.show)if(r==null&&u.isHighlighting){var l=jQuery.Event("jqplotHighlighterUnhighlight");o.target.trigger(l);var c=u.highlightCanvas._ctx;c.clearRect(0,0,c.canvas.width,c.canvas.height),u.fadeTooltip?u._tooltipElem.fadeOut(u.tooltipFadeSpeed):u._tooltipElem.hide(),u.bringSeriesToFront&&o.restorePreviousSeriesOrder(),u.isHighlighting=!1,u.currentNeighbor=null,c=null}else if(r!=null&&o.series[r.seriesIndex].showHighlight&&!u.isHighlighting){var l=jQuery.Event("jqplotHighlighterHighlight");l.which=e.which,l.pageX=e.pageX,l.pageY=e.pageY;var h=[r.seriesIndex,r.pointIndex,r.data,o];o.target.trigger(l,h),u.isHighlighting=!0,u.currentNeighbor=r,u.showMarker&&i(o,r),u.showTooltip&&(!f||!f._zoom.started)&&s(o,o.series[r.seriesIndex],r),u.bringSeriesToFront&&o.moveSeriesToFront(r.seriesIndex)}else if(r!=null&&u.isHighlighting&&u.currentNeighbor!=r&&o.series[r.seriesIndex].showHighlight){var c=u.highlightCanvas._ctx;c.clearRect(0,0,c.canvas.width,c.canvas.height),u.isHighlighting=!0,u.currentNeighbor=r,u.showMarker&&i(o,r),u.showTooltip&&(!f||!f._zoom.started)&&s(o,o.series[r.seriesIndex],r),u.bringSeriesToFront&&o.moveSeriesToFront(r.seriesIndex)}}e.jqplot.eventListenerHooks.push(["jqplotMouseMove",o]),e.jqplot.Highlighter=function(t){this.show=e.jqplot.config.enablePlugins,this.markerRenderer=new e.jqplot.MarkerRenderer({shadow:!1}),this.showMarker=!0,this.lineWidthAdjust=2.5,this.sizeAdjust=5,this.showTooltip=!0,this.tooltipLocation="nw",this.fadeTooltip=!0,this.tooltipFadeSpeed="fast",this.tooltipOffset=2,this.tooltipAxes="both",this.tooltipSeparator=", ",this.tooltipContentEditor=null,this.useAxesFormatters=!0,this.tooltipFormatString="%.5P",this.formatString=null,this.yvalues=1,this.bringSeriesToFront=!1,this._tooltipElem,this.isHighlighting=!1,this.currentNeighbor=null,e.extend(!0,this,t)};var t=["nw","n","ne","e","se","s","sw","w"],n={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},r=["se","s","sw","w","nw","n","ne","e"];e.jqplot.Highlighter.init=function(t,n,r){var i=r||{};this.plugins.highlighter=new e.jqplot.Highlighter(i.highlighter)},e.jqplot.Highlighter.parseOptions=function(e,t){this.showHighlight=!0},e.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas&&(this.plugins.highlighter.highlightCanvas.resetCanvas(),this.plugins.highlighter.highlightCanvas=null),this.plugins.highlighter&&this.plugins.highlighter._tooltipElem&&(this.plugins.highlighter._tooltipElem.emptyForce(),this.plugins.highlighter._tooltipElem=null),this.plugins.highlighter.highlightCanvas=new e.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this)),this.plugins.highlighter.highlightCanvas.setContext();var t=document.createElement("div");this.plugins.highlighter._tooltipElem=e(t),t=null,this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip"),this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"}),this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)},e.jqplot.preInitHooks.push(e.jqplot.Highlighter.init),e.jqplot.preParseSeriesOptionsHooks.push(e.jqplot.Highlighter.parseOptions),e.jqplot.postDrawHooks.push(e.jqplot.Highlighter.postPlotDraw)}(jQuery),define("jqplotHighlighter",["jpjqplot"],function(){}),function(e){function t(t,n,r){r=r||{},r.axesDefaults=r.axesDefaults||{},r.legend=r.legend||{},r.seriesDefaults=r.seriesDefaults||{};var i=!1;if(r.seriesDefaults.renderer==e.jqplot.DonutRenderer)i=!0;else if(r.series)for(var s=0;s<r.series.length;s++)r.series[s].renderer==e.jqplot.DonutRenderer&&(i=!0);i&&(r.axesDefaults.renderer=e.jqplot.DonutAxisRenderer,r.legend.renderer=e.jqplot.DonutLegendRenderer,r.legend.preDraw=!0,r.seriesDefaults.pointLabels={show:!1})}function n(t,n,r){for(var i=1;i<this.series.length;i++)if(!this.series[i]._previousSeries.length)for(var s=0;s<i;s++)this.series[i].renderer.constructor==e.jqplot.DonutRenderer&&this.series[s].renderer.constructor==e.jqplot.DonutRenderer&&this.series[i]._previousSeries.push(this.series[s]);for(i=0;i<this.series.length;i++)this.series[i].renderer.constructor==e.jqplot.DonutRenderer&&(this.series[i]._numberSeries=this.series.length,this.series[i].highlightMouseOver&&(this.series[i].highlightMouseDown=!1))}function i(t){for(var n=0;n<this.series.length;n++)this.series[n].seriesColors=this.seriesColors,this.series[n].colorGenerator=e.jqplot.colorGenerator}function s(e,t,n){var r=e.series[t],i=e.plugins.donutRenderer.highlightCanvas;i._ctx.clearRect(0,0,i._ctx.canvas.width,i._ctx.canvas.height),r._highlightedPoint=n,e.plugins.donutRenderer.highlightedSeriesIndex=t,r.renderer.drawSlice.call(r,i._ctx,r._sliceAngles[n][0],r._sliceAngles[n][1],r.highlightColors[n],!1)}function o(e){var t=e.plugins.donutRenderer.highlightCanvas;t._ctx.clearRect(0,0,t._ctx.canvas.width,t._ctx.canvas.height);for(var n=0;n<e.series.length;n++)e.series[n]._highlightedPoint=null;e.plugins.donutRenderer.highlightedSeriesIndex=null,e.target.trigger("jqplotDataUnhighlight")}function u(e,t,n,r,i){if(r){var u=[r.seriesIndex,r.pointIndex,r.data],a=jQuery.Event("jqplotDataMouseOver");a.pageX=e.pageX,a.pageY=e.pageY,i.target.trigger(a,u);if(i.series[u[0]].highlightMouseOver&&(u[0]!=i.plugins.donutRenderer.highlightedSeriesIndex||u[1]!=i.series[u[0]]._highlightedPoint)){var f=jQuery.Event("jqplotDataHighlight");f.which=e.which,f.pageX=e.pageX,f.pageY=e.pageY,i.target.trigger(f,u),s(i,u[0],u[1])}}else r==null&&o(i)}function a(e,t,n,r,i){if(r){var u=[r.seriesIndex,r.pointIndex,r.data];if(i.series[u[0]].highlightMouseDown&&(u[0]!=i.plugins.donutRenderer.highlightedSeriesIndex||u[1]!=i.series[u[0]]._highlightedPoint)){var a=jQuery.Event("jqplotDataHighlight");a.which=e.which,a.pageX=e.pageX,a.pageY=e.pageY,i.target.trigger(a,u),s(i,u[0],u[1])}}else r==null&&o(i)}function f(e,t,n,r,i){var s=i.plugins.donutRenderer.highlightedSeriesIndex;s!=null&&i.series[s].highlightMouseDown&&o(i)}function l(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],o=jQuery.Event("jqplotDataClick");o.which=e.which,o.pageX=e.pageX,o.pageY=e.pageY,i.target.trigger(o,s)}}function c(e,t,n,r,i){if(r){var s=[r.seriesIndex,r.pointIndex,r.data],u=i.plugins.donutRenderer.highlightedSeriesIndex;u!=null&&i.series[u].highlightMouseDown&&o(i);var a=jQuery.Event("jqplotDataRightClick");a.which=e.which,a.pageX=e.pageX,a.pageY=e.pageY,i.target.trigger(a,s)}}function h(){this.plugins.donutRenderer&&this.plugins.donutRenderer.highlightCanvas&&(this.plugins.donutRenderer.highlightCanvas.resetCanvas(),this.plugins.donutRenderer.highlightCanvas=null),this.plugins.donutRenderer={highlightedSeriesIndex:null},this.plugins.donutRenderer.highlightCanvas=new e.jqplot.GenericCanvas;var t=e(this.targetId+" .jqplot-data-label");t.length?e(t[0]).before(this.plugins.donutRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-donutRenderer-highlight-canvas",this._plotDimensions,this)):this.eventCanvas._elem.before(this.plugins.donutRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-donutRenderer-highlight-canvas",this._plotDimensions,this));var n=this.plugins.donutRenderer.highlightCanvas.setContext();this.eventCanvas._elem.bind("mouseleave",{plot:this},function(e){o(e.data.plot)})}e.jqplot.DonutRenderer=function(){e.jqplot.LineRenderer.call(this)},e.jqplot.DonutRenderer.prototype=new e.jqplot.LineRenderer,e.jqplot.DonutRenderer.prototype.constructor=e.jqplot.DonutRenderer,e.jqplot.DonutRenderer.prototype.init=function(t,r){this.diameter=null,this.innerDiameter=null,this.thickness=null,this.padding=20,this.sliceMargin=0,this.ringMargin=null,this.fill=!0,this.shadowOffset=2,this.shadowAlpha=.07,this.shadowDepth=5,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.dataLabels="percent",this.showDataLabels=!1,this.dataLabelFormatString=null,this.dataLabelThreshold=3,this.dataLabelPositionFactor=.4,this.dataLabelNudge=0,this.startAngle=0,this.tickRenderer=e.jqplot.DonutTickRenderer,this._drawData=!0,this._type="donut",t.highlightMouseDown&&t.highlightMouseOver==null&&(t.highlightMouseOver=!1),e.extend(!0,this,t),this.diameter!=null&&(this.diameter=this.diameter-this.sliceMargin),this._diameter=null,this._innerDiameter=null,this._radius=null,this._innerRadius=null,this._thickness=null,this._previousSeries=[],this._numberSeries=1,this._sliceAngles=[],this._highlightedPoint=null;if(this.highlightColors.length==0)for(var s=0;s<this.seriesColors.length;s++){var o=e.jqplot.getColorComponents(this.seriesColors[s]),p=[o[0],o[1],o[2]],d=p[0]+p[1]+p[2];for(var v=0;v<3;v++)p[v]=d>570?p[v]*.8:p[v]+.3*(255-p[v]),p[v]=parseInt(p[v],10);this.highlightColors.push("rgb("+p[0]+","+p[1]+","+p[2]+")")}r.postParseOptionsHooks.addOnce(i),r.postInitHooks.addOnce(n),r.eventListenerHooks.addOnce("jqplotMouseMove",u),r.eventListenerHooks.addOnce("jqplotMouseDown",a),r.eventListenerHooks.addOnce("jqplotMouseUp",f),r.eventListenerHooks.addOnce("jqplotClick",l),r.eventListenerHooks.addOnce("jqplotRightClick",c),r.postDrawHooks.addOnce(h)},e.jqplot.DonutRenderer.prototype.setGridData=function(e){var t=[],n=[],r=this.startAngle/180*Math.PI,i=0;this._drawData=!1;for(var s=0;s<this.data.length;s++)this.data[s][1]!=0&&(this._drawData=!0),t.push(this.data[s][1]),n.push([this.data[s][0]]),s>0&&(t[s]+=t[s-1]),i+=this.data[s][1];var o=Math.PI*2/t[t.length-1];for(var s=0;s<t.length;s++)n[s][1]=t[s]*o,n[s][2]=this.data[s][1]/i;this.gridData=n},e.jqplot.DonutRenderer.prototype.makeGridData=function(e,t){var n=[],r=[],i=0,s=this.startAngle/180*Math.PI;this._drawData=!1;for(var o=0;o<e.length;o++)this.data[o][1]!=0&&(this._drawData=!0),n.push(e[o][1]),r.push([e[o][0]]),o>0&&(n[o]+=n[o-1]),i+=e[o][1];var u=Math.PI*2/n[n.length-1];for(var o=0;o<n.length;o++)r[o][1]=n[o]*u,r[o][2]=e[o][1]/i;return r},e.jqplot.DonutRenderer.prototype.drawSlice=function(e,t,n,r,i){function f(){n>6.282+this.startAngle&&(n=6.282+this.startAngle,t>n&&(t=6.281+this.startAngle));if(t>=n)return;e.beginPath(),e.fillStyle=r,e.strokeStyle=r,e.arc(0,0,s,t,n,!1),e.lineTo(o*Math.cos(n),o*Math.sin(n)),e.arc(0,0,o,n,t,!0),e.closePath(),u?e.fill():e.stroke()}var s=this._diameter/2,o=s-this._thickness,u=this.fill;e.save(),e.translate(this._center[0],this._center[1]);if(i)for(var a=0;a<this.shadowDepth;a++)e.save(),e.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI)),f();else f();if(i)for(var a=0;a<this.shadowDepth;a++)e.restore();e.restore()},e.jqplot.DonutRenderer.prototype.draw=function(t,n,r,i){var s,o=r!=undefined?r:{},u=0,a=0,f=1;if(r.legendInfo&&r.legendInfo.placement=="insideGrid"){var l=r.legendInfo;switch(l.location){case"nw":u=l.width+l.xoffset;break;case"w":u=l.width+l.xoffset;break;case"sw":u=l.width+l.xoffset;break;case"ne":u=l.width+l.xoffset,f=-1;break;case"e":u=l.width+l.xoffset,f=-1;break;case"se":u=l.width+l.xoffset,f=-1;break;case"n":a=l.height+l.yoffset;break;case"s":a=l.height+l.yoffset,f=-1;break;default:}}var c=o.shadow!=undefined?o.shadow:this.shadow,h=o.showLine!=undefined?o.showLine:this.showLine,p=o.fill!=undefined?o.fill:this.fill,d=t.canvas.width,v=t.canvas.height,m=d-u-2*this.padding,g=v-a-2*this.padding,y=Math.min(m,g),b=y,w=this.ringMargin==null?this.sliceMargin*2:this.ringMargin;for(var s=0;s<this._previousSeries.length;s++)b-=2*this._previousSeries[s]._thickness+2*w;this._diameter=this.diameter||b;if(this.innerDiameter!=null){var E=this._numberSeries>1&&this.index>0?this._previousSeries[0]._diameter:this._diameter;this._thickness=this.thickness||(E-this.innerDiameter-2*w*this._numberSeries)/this._numberSeries/2}else this._thickness=this.thickness||y/2/(this._numberSeries+1)*.85;var S=this._radius=this._diameter/2;this._innerRadius=this._radius-this._thickness;var x=this.startAngle/180*Math.PI;this._center=[(d-f*u)/2+f*u,(v-f*a)/2+f*a];if(this.shadow){var T="rgba(0,0,0,"+this.shadowAlpha+")";for(var s=0;s<n.length;s++){var N=s==0?x:n[s-1][1]+x;N+=this.sliceMargin/180*Math.PI,this.renderer.drawSlice.call(this,t,N,n[s][1]+x,T,!0)}}for(var s=0;s<n.length;s++){var N=s==0?x:n[s-1][1]+x;N+=this.sliceMargin/180*Math.PI;var C=n[s][1]+x;this._sliceAngles.push([N,C]),this.renderer.drawSlice.call(this,t,N,C,this.seriesColors[s],!1);if(this.showDataLabels&&n[s][2]*100>=this.dataLabelThreshold){var k,L=(N+C)/2,A;this.dataLabels=="label"?(k=this.dataLabelFormatString||"%s",A=e.jqplot.sprintf(k,n[s][0])):this.dataLabels=="value"?(k=this.dataLabelFormatString||"%d",A=e.jqplot.sprintf(k,this.data[s][1])):this.dataLabels=="percent"?(k=this.dataLabelFormatString||"%d%%",A=e.jqplot.sprintf(k,n[s][2]*100)):this.dataLabels.constructor==Array&&(k=this.dataLabelFormatString||"%s",A=e.jqplot.sprintf(k,this.dataLabels[s]));var O=this._innerRadius+this._thickness*this.dataLabelPositionFactor+this.sliceMargin+this.dataLabelNudge,M=this._center[0]+Math.cos(L)*O+this.canvas._offsets.left,_=this._center[1]+Math.sin(L)*O+this.canvas._offsets.top,D=e('<span class="jqplot-donut-series jqplot-data-label" style="position:absolute;">'+A+"</span>").insertBefore(i.eventCanvas._elem);M-=D.width()/2,_-=D.height()/2,M=Math.round(M),_=Math.round(_),D.css({left:M,top:_})}}},e.jqplot.DonutAxisRenderer=function(){e.jqplot.LinearAxisRenderer.call(this)},e.jqplot.DonutAxisRenderer.prototype=new e.jqplot.LinearAxisRenderer,e.jqplot.DonutAxisRenderer.prototype.constructor=e.jqplot.DonutAxisRenderer,e.jqplot.DonutAxisRenderer.prototype.init=function(t){this.tickRenderer=e.jqplot.DonutTickRenderer,e.extend(!0,this,t),this._dataBounds={min:0,max:100},this.min=0,this.max=100,this.showTicks=!1,this.ticks=[],this.showMark=!1,this.show=!1},e.jqplot.DonutLegendRenderer=function(){e.jqplot.TableLegendRenderer.call(this)},e.jqplot.DonutLegendRenderer.prototype=new e.jqplot.TableLegendRenderer,e.jqplot.DonutLegendRenderer.prototype.constructor=e.jqplot.DonutLegendRenderer,e.jqplot.DonutLegendRenderer.prototype.init=function(t){this.numberRows=null,this.numberColumns=null,e.extend(!0,this,t)},e.jqplot.DonutLegendRenderer.prototype.draw=function(){var t=this;if(this.show){var n=this._series,r="position:absolute;";r+=this.background?"background:"+this.background+";":"",r+=this.border?"border:"+this.border+";":"",r+=this.fontSize?"font-size:"+this.fontSize+";":"",r+=this.fontFamily?"font-family:"+this.fontFamily+";":"",r+=this.textColor?"color:"+this.textColor+";":"",r+=this.marginTop!=null?"margin-top:"+this.marginTop+";":"",r+=this.marginBottom!=null?"margin-bottom:"+this.marginBottom+";":"",r+=this.marginLeft!=null?"margin-left:"+this.marginLeft+";":"",r+=this.marginRight!=null?"margin-right:"+this.marginRight+";":"",this._elem=e('<table class="jqplot-table-legend" style="'+r+'"></table>');var i=!1,s=!1,o,u,a=n[0],f=new e.jqplot.ColorGenerator(a.seriesColors);if(a.show){var l=a.data;this.numberRows?(o=this.numberRows,this.numberColumns?u=this.numberColumns:u=Math.ceil(l.length/o)):this.numberColumns?(u=this.numberColumns,o=Math.ceil(l.length/this.numberColumns)):(o=l.length,u=1);var c,h,p,d,v,m,g,y,b=0;for(c=0;c<o;c++){s?p=e('<tr class="jqplot-table-legend"></tr>').prependTo(this._elem):p=e('<tr class="jqplot-table-legend"></tr>').appendTo(this._elem);for(h=0;h<u;h++)b<l.length&&(m=this.labels[b]||l[b][0].toString(),y=f.next(),s?c==o-1?i=!1:i=!0:c>0?i=!0:i=!1,g=i?this.rowSpacing:"0",d=e('<td class="jqplot-table-legend" style="text-align:center;padding-top:'+g+';"><div><div class="jqplot-table-legend-swatch" style="border-color:'+y+';"></div></div></td>'),v=e('<td class="jqplot-table-legend" style="padding-top:'+g+';"></td>'),this.escapeHtml?v.text(m):v.html(m),s?(v.prependTo(p),d.prependTo(p)):(d.appendTo(p),v.appendTo(p)),i=!0),b++}}}return this._elem};var r=!1;e.jqplot.preInitHooks.push(t),e.jqplot.DonutTickRenderer=function(){e.jqplot.AxisTickRenderer.call(this)},e.jqplot.DonutTickRenderer.prototype=new e.jqplot.AxisTickRenderer,e.jqplot.DonutTickRenderer.prototype.constructor=e.jqplot.DonutTickRenderer}(jQuery),define("jqplotDonutRenderer",["jqplotHighlighter"],function(){}),typeof String.prototype.endsWith!="function"&&(String.prototype.endsWith=function(e,t){return t?this.indexOf(e,this.length-e.length)!==-1:this.toLowerCase().indexOf(e.toLowerCase(),this.length-e.length)!==-1}),typeof String.prototype.startsWith!="function"&&(String.prototype.startsWith=function(e,t){return t?this.indexOf(e)===0:this.toLowerCase().indexOf(e.toLowerCase())===0}),typeof String.prototype.format!="function"&&(String.format=function(){var e=Array.prototype.slice.call(arguments),t=e.shift();return String.prototype.format.apply(t,e)},String.prototype.format=function(){var e=this,t=0;for(;t<arguments.length;t++)e=e.replace(new RegExp("\\{"+t+"\\}","g"),typeof arguments[t]=="undefined"||arguments[t]==null?"":arguments[t]);return e}),typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),typeof String.prototype.escape!="function"&&(String.prototype.escape=function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;"};return this.replace(/[&<>]/g,function(t){return e[t]||t})}),window.allowNumberOnly=function(e){var t="which"in e?e.which:e.keyCode;if(t==46||t==8||t==9||t==27||t==13||t==65&&e.ctrlKey===!0||t>=35&&t<=39)return;if(e.shiftKey||(t<48||t>57)&&(t<96||t>105)){e.preventDefault();return}},Backbone.View.prototype.getUUID=function(e){var t=(new Date).getTime();return this.uuid=(e!==undefined?e+"_":"")+t+"_"+Math.floor(Math.random()*t+1),this.uuid},Backbone.isInDOM=function(e){return e=$(e),$.contains(document.documentElement,e[0])},Backbone.ajax=function(e){Backbone.activeAjaxQueue=Backbone.activeAjaxQueue||[],e=e||{},typeof e.enabledRetry=="undefined"&&(e.enabledRetry=!0),e.retryDelay=e.retryDelay||200,e.maxRetryCounts=e.maxRetryCounts||100;if(e.enabledRetry){var t=this,n=e.complete,r=e.error;e.error=null,e.complete=function(t,i){var s=!1;i!=="success"&&i!=="notmodified"&&(t.status>500&&(e.retryCount=e.retryCount||0,e.retryCount++,console.log("Fetch failed, retry "+e.retryCount+" of "+e.maxRetryCounts),e.retryCount<e.maxRetryCounts&&(n&&(e.complete=n),r&&(e.error=r),setTimeout(function(){Backbone.ajax(e)},e.retryDelay),s=!0)),r&&!s&&r(t,i)),n&&!s&&n(t,i);if(!s){var o=0;while(o<Backbone.activeAjaxQueue.length)Backbone.activeAjaxQueue[o].readyState==4&&Backbone.activeAjaxQueue.splice(o,1),o++}}}var i=Backbone.$.ajax.apply(Backbone.$,[e]);return Backbone.activeAjaxQueue.push(i),i},$.fn.dataTableExt.afnFiltering.push(function(e,t,n){var r,i,s=$.fn.dataTableExt.currentFilters,o=$.fn.dataTableExt.currentTable;if(o&&e.nTable.id!=o)return!0;var u=!0,a=$.fn.dataTableExt.filterInformation[o];for(var f in s){if(!a[f])continue;r=a[f].columnIndex,i=a[f].caseSensitive,exactSearch=a[f].exactSearch;try{if(s[f].value)typeof s[f].value=="string"?exactSearch?i?u=u&&t[r].toString()===s[f].value:u=u&&t[r].toString().toLowerCase()===s[f].value.toLowerCase():i?u=u&&t[r].toString().indexOf(s[f].value)>=0:u=u&&t[r].toString().toLowerCase().indexOf(s[f].value.toLowerCase())>=0:u=$.inArray(t[r].toString(),s[f].value)>-1;else if(s[f].startValue||s[f].endValue)value=t[r],s[f].type=="number"?s[f].pattern?(startValue=s[f].startValue?$.fformat.number(unescape(s[f].startValue).trim(),unescape(s[f].pattern)):undefined,endValue=s[f].endValue?$.fformat.number(unescape(s[f].endValue).trim(),unescape(s[f].pattern)):undefined):(startValue=parseFloat(s[f].startValue),endValue=parseFloat(s[f].endValue)):s[f].type=="date"&&(startValue=s[f].startValue?$.fformat.date(unescape(s[f].startValue),unescape(s[f].pattern)).getTime():undefined,endValue=s[f].endValue?$.fformat.date(unescape(s[f].endValue),unescape(s[f].pattern)).getTime():undefined),!isNaN(endValue)&&!isNaN(startValue)?u=u&&value>startValue&&value<endValue:u=u&&(isNaN(startValue)?value<endValue:value>startValue)}catch(l){u=!0,console.log(String.format("Invalid filter value for key {0}",f)),console.log(s[f])}if(!u)return!1}return!0}),define("commonExts",["backbone"],function(){}),window.GlobalEvents=_.extend({},Backbone.Events),window.GenericPage=Backbone.View.extend({initialize:function(){this.pageId=Backbone.View.prototype.getUUID.call(this,"page"),this.headers=[],this.mainContents=[],this.panels=[],this.options=_.defaults(this.options,this.defaults)},render:function(){var e=this.$el;e.attr("id",this.pageId).attr("data-role","page");var t=this;this.headers.length>0&&_(this.headers).each(function(t){e.append(t.render().el)});var n=$("<div/>").attr("data-role","content");return e.append(n),this.$content=n,this.mainContents.length>0&&_(this.mainContents).each(function(e){n.append(e.render().el)}),this.footer&&e.append(this.footer()),_(this.panels).each(function(t){e.append(t.render().el)}),this}}),window.GenericElementView=Backbone.View.extend({initialize:function(){this.templateName=this.templateName||this.options.templateName,this.templateName&&(this.template=_.template(tpl.get(this.templateName))),this.allowReRender=this.options.allowReRender||!1,this.rendered=!1},render:function(){if(this.allowReRender||!this.rendered)this.template&&this.$el.html(this.template(this.options)),this.rendered=!0;return this}}),window.RefreshableContentView=Backbone.View.extend({initialize:function(){this.id=Backbone.View.prototype.getUUID.call(this,"refreshable"),this.subViews=[],this.renderedSubviews=!1,this.dataReady=!1},render:function(){var e=this.$el;return e.attr("id",this.id),this.dataReady||this.$el.addClass("data-loading"),this},renderSubviews:function(e){e=e||this.$el,_(this.subViews).each(function(t){e.append(t.render().el),t.refresh&&t.refresh()}),this.$el.trigger("create"),this.renderedSubviews=!0,this.options.subviewRenderedHandler&&this.options.subviewRenderedHandler(this)},setDataReady:function(){this.renderSubviews(),this.$el.removeClass("data-loading"),this.dataReady=!0,this.trigger("dataready")},setDataLoading:function(e){typeof e=="undefined"&&(e=!0),e&&this.clearContent(),this.$el.addClass("data-loading"),this.$header&&this.$header.addClass("data-loading"),this.dataReady=!1,this.trigger("dataloading")},clearContent:function(){_(this.subViews).each(function(e){e&&(e.useDataTable&&e.destroy(),e.remove().unbind())}),this.$el.empty(),this.subViews=[]},refresh:function(){this.dataReady&&_(this.subViews).each(function(e){e.refresh&&e.refresh()})},displayMessage:function(e,t,n){var r="text-dark-blue";t&&(r="text-red"),this.message=new GenericElementView({attributes:{"class":"empty-data "+r}}),typeof n!="undefined"?n.append(this.message.render().el):(this.subViews.push(this.message),this.setDataReady()),this.message.$el.html(e)}}),window.RefreshablePage=RefreshableContentView.extend({initialize:function(){RefreshableContentView.prototype.initialize.apply(this,arguments),this.id=Backbone.View.prototype.getUUID.call(this,"page"),this.headers=[]},render:function(){this.$el.attr("id",this.id).attr("data-role","page");var e=this;this.headers.length>0&&_(this.headers).each(function(t){e.$el.append(t.render().el)});var t=$("<div/>").attr("data-role","content");return this.$el.append(t),this.dataReady?this.renderSubviews(t):this.$el.addClass("data-loading"),this},setDataReady:function(){var e=this.$el.find(".ui-content");this.renderSubviews(e),this.$el.removeClass("data-loading"),this.dataReady=!0,this.trigger("dataready")}}),window.ActionHeader=Backbone.View.extend({defaults:{actionList:[]},attributes:{"data-theme":"f","data-position":"fixed"},initialize:function(){var e=this;this.mainContents=[],this.options.templateName&&(this.templateContent=_.template(tpl.get(this.options.templateName))),typeof this.options.enableActionMenu!="undefined"?this.enableActionMenu=this.options.enableActionMenu:this.enableActionMenu=!0,this.enableActionMenu&&(this.actionLeft=[],this.actionRight=[])},render:function(){this.$el.attr("data-role","header");var e=this.$el;_(this.mainContents).each(function(t){e.append(t.render().el)}),this.templateContent&&this.$el.append(this.templateContent(this.options));if(this.enableActionMenu){this.$el.append('<div class="ui-grid-a"><div class="ui-block-a ui-icon-nodisc actionLeftMenu"></div><div class="ui-block-b alignment-right actionRightMenu"></div></div>');var t=this.$el.find(".actionLeftMenu"),n=this.$el.find(".actionRightMenu");_(this.actionLeft).each(function(e){t.append(e.render().el)}),_(this.actionRight).each(function(e){n.append(e.render().el)}),this.$leftContainer=t,this.$rightContainer=n}return this}}),window.GenericPanel=Backbone.View.extend({attributes:{"data-theme":"c","data-display":"push","data-dismissible":"false","data-swipe-close":"false","data-animate":"false"},initialize:function(){this.panelId=Backbone.View.prototype.getUUID.call(this,"panel"),typeof this.options.panelId!="undefined"&&(this.panelId=this.options.panelId),this.headers=[],this.mainContents=[],this.options.footerTemplate&&(this.footerTemplate=_.template(tpl.get(this.options.footerTemplate))),this.isOpened=!1},render:function(){var e=this.$el;return e.attr("id",this.panelId).attr("data-role","panel"),_(this.headers).each(function(t){e.append(t.render().el)}),_(this.mainContents).each(function(t){e.append(t.render().el)}),this.footerTemplate&&e.append(this.footerTemplate()),this},open:function(){this.$el.hasClass("ui-panel")?this.$el.panel("open"):this.$el.panel().panel("open"),this.isOpened=!0},close:function(){this.$el.panel("close"),this.isOpened=!1}}),window.LineBreakView=Backbone.View.extend({initialize:function(){this.count=1,this.options.count&&(this.count=this.options.count)},render:function(){var e=this.$el;for(var t=0;t<this.count;t++)e.append("<br/>");return this}}),window.ChartView=Backbone.View.extend({plotDefault:{seriesDefaults:{renderer:$.jqplot.DonutRenderer,rendererOptions:{shadowOffset:0,shadowAlpha:0,shadowDepth:0,showDataLabels:!1,dataLabels:"value",dataLabelFormatString:"%2f"}},legend:{show:!0,rendererOptions:{numberColumns:2},location:"ne",placement:"outside"},grid:{borderColor:"transparent",shadow:!1,drawBorder:!1,shadowColor:"transparent",background:"#F3F3F3"}},initialize:function(){this.chartId=Backbone.View.prototype.getUUID.call(this,"chart"),this.chartData=[],this.options.chartData&&(this.chartData=this.options.chartData),this.options.chartSize&&(this.chartSize=this.options.chartSize),typeof this.options.showTooltip!="undefined"?this.showTooltip=this.options.showTooltip:this.showTooltip=!0,this.tooltip=this.options.tooltip,this.plotted=!1,this.readyToPlot=!1,this.options.plotOptions?this.plotOptions=this.options.plotOptions:(this.plotOptions=this.plotDefault,this.options.seriesDefaults&&(this.plotOptions.seriesDefaults=this.options.seriesDefaults),this.options.seriesColors&&(this.plotOptions.seriesColors=this.options.seriesColors),this.options.legend&&(this.plotOptions.legend=this.options.legend),this.options.legendLocation&&(this.plotOptions.legend.location=this.options.legendLocation),this.options.grid&&(this.plotOptions.grid=this.options.grid)),this.plotCallback=this.options.plotCallback},plot:function(){if(!this.readyToPlot||this.plotted)return;var e=this;this.plotTimeout&&(clearTimeout(this.plotTimeout),this.plotTimeout=null),this.plotTimeout=setTimeout(function(){if(!e.$el.is(":visible"))return;$.jqplot(e.chartId,[e.chartData],e.plotOptions),e.$el.removeClass("data-loading"),e.plotted=!0,e.recalculateSize(),e.plotCompleted()},1e3)},getTooltip:function(e,t,n,r){return typeof this.tooltip=="string"?String.prototype.format.apply(this.tooltip,r):typeof this.tooltip=="function"?this.tooltip(e,t,n,r):r[1]},plotCompleted:function(){if(this.showTooltip){var e=this;this.tooltipShowing=!1,this.$el.append(this.tooltipElem).on("jqplotDataHighlight",function(t,n,r,i){TooltipHelper.showTooltip(t,e.getTooltip(t,n,r,i))}).on("jqplotDataUnhighlight",function(e,t,n,r){TooltipHelper.hideTooltip(e)}).on("jqplotDataClick",function(t,n,r,i){e.tooltipShowing?TooltipHelper.hideTooltip(t):TooltipHelper.showTooltip(t,e.getTooltip(t,n,r,i)),e.tooltipShowing=!e.tooltipShowing})}typeof this.plotCallback=="function"&&this.plotCallback(this)},rePlot:function(){this.plotted=!1,this.plot()},setReady:function(e){this.readyToPlot=!0,e&&(this.plotted=!1),this.plot()},setPlotCallback:function(e){this.plotCallback=e},render:function(){return this.$el.attr("id",this.chartId).addClass("chart-container"),this.chartSize||(this.chartSize={},this.chartSize.width=window.innerWidth*.7,this.chartSize.height=window.innerHeight*.7,this.chartSize.width>app_config.maxChartSize.width&&(this.chartSize.width=app_config.maxChartSize.width),this.chartSize.height>app_config.maxChartSize.height&&(this.chartSize.height=app_config.maxChartSize.height)),this.$el.width(this.chartSize.width),this.$el.height(this.chartSize.height),this.$el.addClass("data-loading"),this},refresh:function(){this.plot()},recalculateSize:function(){var e=this.options.legendLocation||"ne";console.log("recalculating size ");if(e.indexOf("n")>-1||e.indexOf("s")>-1){var t=this.$el.find("table.jqplot-table-legend"),n=t.height()+t.margin().top+t.margin().bottom+t.padding().top+t.padding().bottom+t.border().top+t.border().bottom;console.log("chartHeight: "+(this.chartSize.height+n)),this.$el.height(this.chartSize.height+n),console.log(this.$el)}else e.indexOf("w")!==-1||e.indexOf("e")!==-1}}),window.BindableListBaseView=Backbone.View.extend({tagName:"select",itemTagName:"option",initialize:function(){this.bindableAttribute=this.options.bindableAttribute,this.dataSet=this.options.dataSet,this.dataSet instanceof Backbone.Collection?this.filteredDataSet=this.dataSet.models:this.filteredDataSet=this.dataSet,this.prefixItems=this.options.prefixItems,this.suffixItems=this.options.suffixItems,this.itemViews=[]},getValue:function(e,t,n){if(typeof e=="undefined"||e==null)return e;var r;if(t.indexOf(",")>0){var i=t.split(","),s=[],o="";for(var u=0,a=i.length;u<a;u++)o+="{"+u+"}, ",s.push(this.getValue(e,i[u]));return n?r=String.prototype.format.apply(n,s):r=String.prototype.format.apply(o.substr(0,o.length-2),s),r}if(t.indexOf(".")>0){var i=t.split(".");r=e[i[0]];for(var u=1,a=i.length;u<a;u++){if(typeof r=="undefined"||r==null)break;r=r[i[u]]}}else r=e[t];return r},parseFilterString:function(e){var t=e.split("&"),n={};for(var r=t.length-1;r>=0;r--){var i=t[r].split("=");if(i.length>1){var s=i[0],o=i[1],u="value",a=s.split("_");a.length>1&&(s=a[0],u=a[1]),o=unescape(o),o=o.replace(/\+/g," "),s=s.toLowerCase(),n[s]=n[s]||{},n[s][u]=o}}return n},filter:function(e){if(!this.dataSet instanceof Backbone.Collection)return;this.dataFiltering=!0,typeof e=="undefined"?this.filteredDataSet=this.dataSet.models:(typeof e=="string"?this.filters=this.parseFilterString(e):this.filters=e,this.filteredDataSet=this.dataSet.where(this.filters)),this.bindData(),this.dataFiltering=!1},render:function(){this.bindData();var e=this;return this.$el.on("change",function(){e.changeHandler()}),this},bindData:function(){this.dataBinding=!0;var e=this,t=[];typeof this.prefixItems!="undefined"&&this.prefixItems!=null&&(t=t.concat(this.prefixItems));var n;_(this.filteredDataSet).each(function(r,i){n={};if(e.bindableAttribute)for(var s in e.bindableAttribute)if(e.bindableAttribute[s])switch(typeof e.bindableAttribute[s]){case"string":switch(e.bindableAttribute[s]){case"_value":n[s]=e.getValue(r.toJSON(),s);break;case"_index":n[s]=i;break;default:n[s]=e.getValue(r.toJSON(),e.bindableAttribute[s])}break;default:n[s]=e.getValue(r.toJSON(),e.bindableAttribute[s].attribute,e.bindableAttribute[s].format)}else n[s]=e.getValue(r.toJSON(),s);else n=r;t.push(n)}),typeof this.suffixItems!="undefined"&&this.suffixItems!=null&&(t=t.concat(this.suffixItems)),this.translatedDataSet=t,this.renderContent(),this.dataBinding=!1},renderItem:function(e){if(this.itemView)return new this.itemView(item);var t=$(String.format("<{0}/>",this.itemTagName));for(var n in e)n=="_html"?t.html(e[n]):t.attr(n,e[n]);return t},renderContent:function(){this.$el.empty();var e=this;return _(this.translatedDataSet).each(function(t,n){var r=e.renderItem(t);e.itemView?(e.itemViews.push(r),e.$el.append(r.render().el)):e.$el.append(r)}),this.refresh(),this},clearSelect:function(){this.setSelectedIndex(0)},setSelectedIndex:function(e){this.el.selectedIndex!=e&&(this.el.selectedIndex=e,this.$el.change()),this.refresh()},setSelectedObjectIndex:function(e){if(isNaN(e)){this.clearSelect();return}var t=this.dataSet.at(e);this.setSelectedObject(t)},setSelectedObject:function(e){var t=-1;for(var n=0,r=this.filteredDataSet.length;n<r;n++)if(e.cid==this.filteredDataSet[n].cid){t=n;break}t>=0&&(this.prefixItems&&(t+=this.prefixItems.length),this.setSelectedIndex(t))},getSelectedIndex:function(){return this.el.selectedIndex},getSelectedValue:function(){return this.$el.val()},getSelectedObjectIndex:function(){var e=this.getSelectedObject();return e?this.dataSet.indexOf(e):null},getSelectedObject:function(){if(!isNaN(this.el.selectedIndex)){var e=this.el.selectedIndex;this.prefixItems&&(e-=this.prefixItems.length);if(e>=0&&e<this.filteredDataSet.length)return this.filteredDataSet[e]}return null},refresh:function(){this.$el.trigger("refresh")},clearFilters:function(){this.filter()},addItem:function(e,t){var n=this.renderItem(e),r;this.itemView?r=n.render().el:r=n;var i=this.itemViews.length||this.$el.children().length;!t||isNaN(t)?(this.$el.append(r),this.itemView&&this.itemViews.push(n)):t>=0&&t<i&&(this.itemView&&this.itemViews.splice(t,0,n),this.$el.children().eq(t).before(r)),this.refresh()},removeItem:function(e){var t=-1;if(e===undefined||e===null)throw"Either an item object of an index must be passed";if(e instanceof this.itemView){for(var n=0,r=this.itemViews.length;n<r;n++)if(this.itemViews[n].cid==e.cid){t=n;break}}else t=e;var i=this.itemViews.length||this.$el.children().length;if(t>=0&&t<i)if(this.itemView){var s=this.itemViews[t];s.removalHandler&&s.removelHandler(),this.itemViews.splice(t,1),s.remove().unbind()}else this.$el.children().eq(t).remove()},changeHandler:function(){var e=this.getSelectedObjectIndex();e!=null&&this.dataSet.setSelectedIndex?this.dataSet.setSelectedIndex(e):this.dataSet.clearSelect&&this.dataSet.clearSelect()}}),window.BindableListView=BindableListBaseView.extend({tagName:"ul",itemTagName:"li",attributes:{"data-role":"listview","data-theme":"g","data-dividertheme":"g","data-inset":"false"},events:{"click li a":"clicked"},initialize:function(){BindableListBaseView.prototype.initialize.apply(this,arguments),this.selectable=this.options.selectable||!1,this.selectOnClick=this.options.selectOnClick,this.selectOnClick===undefined&&(this.selectOnClick=this.selectable),this.firstSelect=this.options.firstSelect},render:function(){return BindableListBaseView.prototype.render.apply(this,arguments),typeof this.firstSelect=="number"&&this.setSelectedIndex(this.firstSelect),this},clicked:function(e){if(this.selectable&&this.selectOnClick){var t=$($(e.currentTarget).closest("li")[0]);this.setSelectedIndex(t.index())}if(typeof this.options.anchorClickHandler=="function")return this.options.anchorClickHandler(e,this)},refresh:function(){if(!Backbone.isInDOM(this.$el))return;this.$el.closest(".ui-page").length>0&&(this.$el.hasClass("ui-listview")?this.$el.listview("refresh"):this.$el.listview())},setSelectedIndex:function(e){var t=this.itemViews.length||this.$el.children().length;this.selectable&&e>=0&&e<t&&(this.itemView?(this.selectedIndex&&this.itemViews[this.selectedIndex].unselect(),this.itemViews[e].select()):(this.selectedIndex&&this.$el.children().eq(this.selectedIndex).removeClass("selected"),this.$el.children().eq(e).addClass("selected")),this.selectedIndex=e)},getSelectedIndex:function(){if(this.selectable)return this.selectedIndex}}),window.BindableListItemView=Backbone.View.extend({}),window.ListView=Backbone.View.extend({tagName:"ul",attributes:{"data-role":"listview","data-theme":"g","data-dividertheme":"g","data-inset":"false"},events:{"click li a":"clicked"},initialize:function(){this._itemViews=[];var e=this;this.selectable=this.options.selectable||!1,this.selectOnClick=this.options.selectOnClick||!1,this.firstSelect=this.options.firstSelect,_(this.options.items).each(function(t){e._itemViews.push(new ListItemView(t))})},render:function(){this.renderCount>1&&console.log("WTF?!");var e=this.$el;return this.options.items.length>0&&_(this._itemViews).each(function(t){e.append(t.render().el)}),typeof this.firstSelect=="number"&&this.setSelectedIndex(this.firstSelect),this},clicked:function(e){if(this.selectable&&this.selectOnClick){var t=e.currentTarget;while(t.tagName.toLowerCase()!="li")t=t.parentElement;this.setSelectedIndex($(t).index())}if(typeof this.options.anchorClickHandler=="function")return this.options.anchorClickHandler(e,this)},refresh:function(){if(!Backbone.isInDOM(this.$el))return;this.$el.closest(".ui-page").length>0&&(this.$el.hasClass("ui-listview")?this.$el.listview("refresh"):this.$el.listview())},setSelectedIndex:function(e){this.selectable&&e>=0&&e<this._itemViews.length&&(this.selectedIndex=e,_(this._itemViews).each(function(e){e.unselect()}),this._itemViews[e].select())},getSelectedIndex:function(){if(this.selectable)return this.selectedIndex}}),window.ListItemView=Backbone.View.extend({tagName:"li",defaults:{col1Content:"",selected:!1},initialize:function(){this.options=_.defaults(this.options,this.defaults),this.options.col6Content!==undefined?this.templateContent=_.template(tpl.get("partial/list-item-col6")):this.options.col5Content!==undefined?this.templateContent=_.template(tpl.get("partial/list-item-col5")):this.options.col4Content!==undefined?this.templateContent=_.template(tpl.get("partial/list-item-col4")):this.options.col3Content!==undefined?this.templateContent=_.template(tpl.get("partial/list-item-col3")):this.options.col2Content!==undefined?this.templateContent=_.template(tpl.get("partial/list-item-col2")):this.templateContent=_.template(tpl.get("partial/list-item-col1"))},render:function(){var e=this.$el,t=e;return this.options.actionUrl&&(t=$(String.format('<a href="{0}" />',this.options.actionUrl)),e.append(t),this.options.actionAttributes&&_(this.options.actionAttributes).each(function(e,n){t.attr(n,e)})),t.html(this.templateContent(this.options)),this},select:function(){this.selected||(this.selected=!0,this.selectChanged())},unselect:function(){this.selected&&(this.selected=!1,this.selectChanged())},selectChanged:function(){this.selectTheme=this.$el.attr("data-theme-select")||"b",this.selected?(this.lastTheme=this.$el.attr("data-theme"),this.$el.attr("data-theme",this.selectTheme),this.$el.removeClass("ui-btn-up-"+this.lastTheme+" ui-btn-hover-"+this.lastTheme+" ui-btn-down-"+this.lastTheme),this.$el.addClass("ui-btn-up-"+this.selectTheme)):(this.lastTheme=this.lastTheme||"g",this.$el.attr("data-theme",this.lastTheme),this.$el.removeClass("ui-btn-up-"+this.selectTheme+" ui-btn-hover-"+this.selectTheme+" ui-btn-down-"+this.selectTheme),this.$el.addClass("ui-btn-up-"+this.lastTheme))}}),window.BindableDropdowView=BindableListBaseView.extend({events:{change:"selectChanged"},refresh:function(){if(!Backbone.isInDOM(this.$el))return;this.$el.parent().parent().hasClass("ui-select")?this.$el.selectmenu("refresh"):this.$el.selectmenu()},setSelectedValue:function(e){if(this.dataFiltering){var t=this;setTimeout(function(){t.setSelectedValue(e)},200);return}var n=this.$el.children(String.format('[value="{0}"]',e));n.length>0&&(n=$(n[0]),this.setSelectedIndex(n.index()))},selectChanged:function(e){typeof this.options.selectChangeHandler=="function"&&this.options.selectChangeHandler(e),this.changed=!0},disable:function(e){typeof e!="undefined"&&(this.enabled=e),this.enabled?this.$el.selectmenu("disable"):this.$el.selectmenu("enable"),this.enabled=!this.enabled}}),window.DropDownBoxView=BindableDropdowView.extend({initialize:function(){this.items=_.extend({},this.items,this.options.items),this.changed=!1,this.enabled=!0},render:function(){var e=this.$el;return e.empty(),_(this.items).each(function(t){var n=$("<option/>");e.append(n),n.attr("value",t.value).text(t.label);for(var r in t.attributes)n.attr(r,t.attributes[r]);for(var r in t.dataAttributes)n.attr("data-"+r,t.dataAttributes[r])}),this}}),window.TableView=Backbone.View.extend({tagName:"table",initialize:function(){this.tableId=Backbone.View.prototype.getUUID.call(this,"table"),this.rows=[],typeof this.options.rows!="undefined"&&(this.rows=this.options.rows),this.useDataTable=this.options.useDataTable||!1,this.useJqmTable=this.options.useJqmTable||!1,typeof this.options.bindings!="undefined"&&(this.bindings=this.options.bindings,this.bindData()),this.filters={},this.rendered=!1;if(this.options.enableSmartResize&&!this.useJqmTable){var e=this;this.smartResizeHandler=function(t){if(!e.rendered||typeof t!="number"||t<=0)return;var n=e.$el.fnSettings();n&&(n._iDisplayLength=t,$.fn.dataTableExt.currentFilters=e.filters,$.fn.dataTableExt.currentTable=e.tableId,e.$el.fnDraw())},GlobalEvents.on("smart:tableresize",this.smartResizeHandler)}},getValue:function(e,t){var n;if(t.indexOf(".")>0){var r=t.split(".");n=e[r[0]];for(var i=1,s=r.length;i<s;i++){if(typeof n=="undefined"||n==null)break;n=n[r[i]]}}else n=e[t];return n},get2DDataArray:function(e){var t=this,n=[];return _(e).each(function(e){var r=[];_(t.bindings.headers).each(function(n,i){var s;if(n.dataAttribute.indexOf(",")>0){var o=n.dataAttribute.split(","),u=[],a="";for(var f=0,l=o.length;f<l;f++)a+="{"+f+"}, ",u.push(t.getValue(e,o[f]));n.dataAttributeFormat?s=String.prototype.format.apply(n.dataAttributeFormat,u):s=String.prototype.format.apply(a.substr(0,a.length-2),u)}else s=t.getValue(e,n.dataAttribute),n.dataAttributeFormat&&(s=String.prototype.format.apply(n.dataAttributeFormat,[s]));t.useDataTable?typeof s!="undefined"&&s!=null?r.push(s):typeof n.nullValue!="undefined"?r.push(n.nullValue):n.type=="numeric"?r.push(0):r.push(""):typeof n.dataFormat!="string"&&(typeof n.dataFormat=="function"?r.push(n.dataFormat(s)):r.push(s));if(typeof s!="undefined"&&s!=null){var c={key:n.dataAttribute,value:s};t.filterValues[c.key]=t.filterValues[c.key]||{},t.filterValues[c.key][c.value]=1}}),n.push(r),t.useDataTable||t.rows.push(new TableRowView({contentViews:r,numCells:r.length}))}),n},bindData:function(){var e=this;this.rows=[];var t=[],n=[],r=[],i={};_(this.bindings.headers).each(function(e,s){t.push(e.title),n.push(e.width);if(e.dataAttribute.indexOf(",")>0){var o=e.dataAttribute.split(",");for(var u=0,a=o.length;u<a;u++)i[o[u].toLowerCase()]={columnIndex:s,caseSensitive:e.caseSensitiveFilter||!1,exactSearch:e.exactSearch||!1}}else i[e.dataAttribute.toLowerCase()]={columnIndex:s,caseSensitive:e.caseSensitiveFilter||!1,exactSearch:e.exactSearch||!1};r.push(_.extend({sTitle:e.title,sWidth:e.width,sType:e.type,mRender:e.dataFormat},e.aoColumn))}),this.filterInformation=i,this.useDataTable&&($.fn.dataTableExt.filterInformation=$.fn.dataTableExt.filterInformation||{},$.fn.dataTableExt.filterInformation[this.tableId]=this.filterInformation),this.dtColumns=r;if(!this.useDataTable){var s=t.length;this.headerRowView=new TableRowView({headerRow:!0,contentViews:t,contentWidth:n,numCells:s})}this.filterValues={},this.dataSet=this.get2DDataArray(this.bindings.data);for(key in this.filterValues){var o=[];for(valueKey in this.filterValues[key])o.push(valueKey);this.filterValues[key]=o}},rebindData:function(e){typeof e!="undefined"&&this.useDataTable&&(this.$el.fnClearTable(),this.refrehsed={},this.dataSet=this.get2DDataArray(e),this.$el.fnAddData(this.dataSet))},render:function(){var e=this.$el;e.attr("id",this.tableId);if(!this.useDataTable){this.useJqmTable&&e.attr("data-role","table");var t=$("<thead/>");t.append(this.headerRowView.render().el);var n=$("<tbody/>");_(this.rows).each(function(e){n.append(e.render().el)}),e.append(t).append(n),this.rendered=!0}return this},enableDataTable:function(e){var t=this;this.refreshed={},this.useDataTable&&(this.oldDataTableOptions=e,this.dataTable=this.$el.dataTable(_.extend({aaData:this.dataSet,aoColumns:this.dtColumns,fnInitComplete:function(e){},fnDrawCallback:function(e){console.log("draw call back"),t.useJqmTable&&t.reflow(e)}},e)),this.$el.parent().children(".dataTables_length").find("select").selectmenu({theme:"d",shadow:!1,iconshadow:!1,inline:!0,mini:!0,corners:!1}),this.dataTableEnabled=!0)},reflow:function(e){if(this.$el.hasClass("ui-table")){if(this.$el.hasClass("ui-table-reflow")){var t=this;this.$el.find("td").each(function(e,n){var r=$(n);!r.hasClass("dataTables_empty")&&r.children(".ui-table-cell-label").length==0&&r.prepend(String.format('<b class="ui-table-cell-label">{0}</b>',t.bindings.headers[r.index()].title))})}}else{this.$el.attr("data-role","table"),this.$el.table();var n=this.$el.find("td");n.length==1&&n.children().eq(0).remove()}},insertRow:function(e,t){typeof t=="number"?this.cells.splice(t,0,e):this.cells.push(e);if(this.rendered){var n=this.$el.find("tbody");typeof t=="number"?n.children().eq(t).after(e.render().el):n.append(e.render().el)}},removeRow:function(e){typeof e=="number"?this.cells.splice(e,1):this.cells.pop();if(this.rendered){var t=this.$el.find("tbody");typeof e=="number"?t.children().eq(e).remove():t.children(":last-child").remove()}},getFilterValues:function(){return this.filterValues},parseFilterString:function(e){var t=e.split("&"),n={};for(var r=t.length-1;r>=0;r--){var i=t[r].split("=");if(i.length>1){var s=i[0],o=i[1],u="value",a=s.split("_");a.length>1&&(s=a[0],u=a[1]),o=unescape(o),o=o.replace(/\+/g," "),s=s.toLowerCase(),n[s]=n[s]||{},n[s][u]=o}}return n},applyFilter:function(e){typeof e=="string"&&(e=this.parseFilterString(e)),this.filters=e,$.fn.dataTableExt.currentFilters=this.filters,$.fn.dataTableExt.currentTable=this.tableId,this.$el.fnDraw()},clearFilter:function(){this.filters={},$.fn.dataTableExt.currentFilters={},$.fn.dataTableExt.currentTable=this.tableId,this.$el.fnDraw()},destroy:function(){this.useDataTable&&this.$el.fnDestroy(),this.options.enableSmartResize&&GlobalEvents.off("smart:tableresize",this.smartResizeHandler),this.remove(),this.unbind()}});var TableRowView=Backbone.View.extend({tagName:"tr",initialize:function(){this.headerRow=this.options.headerRow||!1,this.setReady=this.options.setReady||!1;var e=Object.prototype.toString,t=this;this.numCells=1;if(typeof this.options.numCells=="number"){if(this.options.numCells<1)throw"Number of cells in a row must be a number greater than 0";this.numCells=this.options.numCells}this.cells=[],this.contentViews=[],this.filters=this.options.filters,this.contentWidth=this.options.contentWidth||[],e.call(this.options.contentViews)==="[object Array]"&&(this.options.contentViews.length>this.numCells&&(this.numCells=this.contentViews.length),_(this.options.contentViews).each(function(n){e.call(n)==="[object Array]"?t.contentViews.push(n):t.contentViews.push([n])}));var n={};this.headerRow&&(n={tagName:"th"});for(var r=0;r<this.numCells;r++)typeof this.contentWidth[r]!="undefined"?n.attributes={width:this.contentWidth[r]}:n.attributes=null,r<this.contentViews.length?this.cells.push(new TableCellView(_.extend(n,{contents:this.contentViews[r]}))):this.cells.push(new TableCellView(n))},render:function(){var e=this,t=this.$el;return _(this.filters).each(function(e){t.attr("data-filter-"+e.key.toString().toLowerCase(),e.value)}),_(this.cells).each(function(e){t.append(e.render().el)}),this},getCellAt:function(e){return typeof e=="number"?this.cells[e]:null}}),TableCellView=Backbone.View.extend({tagName:"td",initialize:function(){this.contents=[],typeof this.options.contents!="undefined"&&(this.contents=this.options.contents),this.contentRendered=!1},render:function(){var e=this.$el;return this.renderContents(!1,!1),this},renderContents:function(e,t){if(this.contentRendered&&!e)return;var n=this.$el;t&&n.empty(),_(this.contents).each(function(e){e instanceof Backbone.View?n.append(e.render().el):typeof e!="undefined"&&n.append(e)}),this.contentRendered=!0}});window.AccordionView=Backbone.View.extend({attributes:{"data-theme":"h","data-content-theme":"g","data-inset":"false","data-iconpos":"right","data-collapsed-icon":"arrow-r","data-expanded-icon":"arrow-d"},initialize:function(){this.options=_.extend(this.options,this.defaults),this.sections=this.options.sections||[]},render:function(){var e=this.$el;e.attr("data-role","collapsible-set");var t=this;return _(this.sections).each(function(t){e.append(t.render().el)}),this},refresh:function(e){if(!Backbone.isInDOM(this.$el))return;this.$el.closest(".ui-page").length>0&&(this.$el.hasClass("ui-collapsible-set")?this.$el.collapsibleset("refresh"):this.$el.collapsibleset(),_(this.sections).each(function(e){e.refresh()}))},sectionExpanded:function(e){typeof this.options.expandedHandler=="function"&&this.options.expandedHandler(this,e)}}),window.AccordionSection=RefreshableContentView.extend({initialize:function(){RefreshableContentView.prototype.initialize.apply(this,arguments),this.id=Backbone.View.prototype.getUUID.call(this,"section"),this.title=""},expand:function(){console.log("expand request");var e=this;if(!this.renderedSubviews){setTimeout(function(){e.expand()},200);return}setTimeout(function(){e.$el.trigger("expand")},200)},scrollOnExpand:function(){this.options.autoScroll&&$.mobile.silentScroll(0)},renderTitle:function(){var e=$("<h3/>");this.options.titleAttributes&&_(this.options.titleAttributes).each(function(t,n){e.attr(n,t)});if(this.options.titleIcon){var t=$('<span class="ui-icon-'+this.options.titleIconClass+'">&nbsp;</span>');t.addClass("ui-icon-"+this.options.titleIcon),e.append(t)}e.append(this.title),this.$el.append(e)},clearContent:function(){_(this.subViews).each(function(e){e&&(e.useDataTable&&e.destroy(),e.remove().unbind())}),this.subViews=[];var e=this.$el.find(".ui-collapsible-content");e.length==0&&(e=this.$el),e.empty()},render:function(){RefreshableContentView.prototype.render.apply(this,arguments),this.$el.attr("data-role","collapsible"),this.renderTitle(),this.dataReady||this.$el.addClass("data-loading");var e=this;return this.$el.on("expand",function(){e.scrollOnExpand()}),this},renderSubviews:function(){var e=this.$el,t=e.find(".ui-collapsible-content");t.length==0&&(t=e),RefreshableContentView.prototype.renderSubviews.apply(this,[t])},displayMessage:function(e,t,n){n===undefined&&(n=this.$el.find(".ui-collapsible-content"),n.length==0&&delete n),RefreshableContentView.prototype.displayMessage.apply(this,arguments)},isCollapsed:function(){return this.$el.hasClass("ui-collapsible-collapsed")}}),window.NavBarView=Backbone.View.extend({initialize:function(){this.items=this.options.items,this.listView=new ListView({attributes:{},items:this.items})},render:function(){return this.$el.attr("data-role","navbar"),this.$el.append(this.listView.render().el),this}}),window.TabsView=Backbone.View.extend({events:{"click .tabs-header a":"tabHeaderClick"},initialize:function(){this.tabs=this.options.tabs,this.useNicescroll=this.options.useNicescroll||!1},createHeaderLink:function(e){var t=$("<a/>").attr("data-theme","d").attr("data-role","button").attr("data-shadow","false").attr("data-corners","false").attr("data-inline","true").attr("href","#"+e.id).text(e.tabName);return e.removable&&t.attr("data-icon","delete").attr("data-iconpos","right"),t},render:function(){var e=this.$el,t=this,n=$("<div/>").addClass("tabs-header"),r=$("<div/>").addClass("tabs-header-inner");n.append(r),_(this.tabs).each(function(e){var n=t.createHeaderLink(e);r.append(n),e.$header=n,e.parent=t});var i=$("<div/>").addClass("tabs-container");return _(this.tabs).each(function(e){i.append(e.render().el)}),e.append(n),e.append(i),this.$header=n,this.$headerInner=r,this.$content=i,this.useNicescroll&&this.enableNicescroll(!0),this.showTab(0),this},refresh:function(){this.$el.trigger("create")},tabHeaderClick:function(e){var t=$(e.currentTarget);return $(e.target).hasClass("ui-icon-delete")?this.removeTab(t.index()):this.showTab(t.index()),!1},showTab:function(e){if(!isNaN(e)&&e>=0&&e<this.tabs.length&&e!=this.currentIndex){!isNaN(this.currentIndex)&&this.tabs[this.currentIndex]&&(this.tabs[this.currentIndex].active=!1,this.tabs[this.currentIndex].$el.hide().trigger("tabhide"),this.$headerInner.children().eq(this.currentIndex).removeClass("ui-btn-active")),this.tabs[e].active=!0,this.tabs[e].$el.show().trigger("tabshow");var t=this.$headerInner.children().eq(e);t.addClass("ui-btn-active"),this.currentIndex=e,this.$header.stop(!0,!0).animate({scrollLeft:t.position().left},800)}},addTab:function(e,t){var n=this.createHeaderLink(e);!t||isNaN(t)?(this.tabs.push(e),this.$content.append(e.render().el),this.$headerInner.append(n)):t>=0&&t<this.tabs.length&&(this.tabs.splice(t,0,e),this.$content.children().eq(t).before(e.render().el),this.$headerInner.children().eq(t).before(n)),e.$header=n,e.parent=this,n.button(),this.nicescroll&&this.nicescroll.resize()},removeTab:function(e){var t=-1;if(isNaN(e)){for(var n=0,r=this.tabs.length;n<r;n++)if(this.tabs[n].id==e.id){t=n;break}}else t=e;if(t>=0&&t<this.tabs.length){var i=this.tabs[t];i.removalHandler&&i.removalHandler(),this.tabs.splice(t,1),i.$header.remove(),i.$el.remove(),this.currentIndex>t&&this.currentIndex--,this.tabs.length>0&&i.active&&(delete this.currentIndex,t<this.tabs.length?this.showTab(t):t>0&&this.showTab(t-1)),delete i,this.nicescroll&&this.nicescroll.resize()}},enableNicescroll:function(e){e?this.nicescroll=this.$header.niceScroll({zindex:1e3}):this.nicescroll&&(this.nicescroll.remove(),delete this.nicescroll)}}),window.TabContentView=RefreshableContentView.extend({initialize:function(){RefreshableContentView.prototype.initialize.apply(this,arguments),this.id=Backbone.View.prototype.getUUID.call(this,"tab"),this.tabName="",this.active=!1,this.removable=this.options.removable;var e=this;this.on("dataloading",function(){e.$header&&e.$header.addClass("data-loading")}),this.on("dataready",function(){e.$header&&e.$header.removeClass("data-loading")})},render:function(){return RefreshableContentView.prototype.render.apply(this,arguments),this.dataReady||this.$header&&this.$header.addClass("data-loading"),this}}),window.PaginationView=Backbone.View.extend({attributes:{"class":"pagination-view"},initialize:function(){typeof this.options.pages!="undefined"?this.pages=this.options.pages:this.pages=[],this.options.firstPage=this.options.firstPage||"first",this.options.showPagination=typeof this.options.showPagination=="undefined"?!0:this.options.showPagination,this.options.showInfo=typeof this.options.showInfo=="undefined"?!1:this.options.showInfo,this.pageElements=[]},render:function(){var e=this,t=this.$el;this.options.showInfo&&(this.infoMessageElem=$('<label class="text-blue" />'),t.append(this.infoMessageElem)),this.options.showPagination&&(this.preparePaginationItems(),this.options.topPagination&&(this.paginationTop=new ListView({items:this.paginationItems,selectable:!0,selectOnClick:!0,firstSelect:this.firstPage,attributes:{"class":"pagination-view-page-changer"},anchorClickHandler:function(t){return e.changePage($(t.currentTarget).data("page-view-index")),!1}}),t.append(this.paginationTop.render().el)));var n=$("<div/>").addClass("pagination-view-page-container");return _(this.pages).each(function(t,r){var i=$("<div/>").addClass("pagination-view-page");_(t).each(function(e){i.append(e.render().el)}),n.append(i),e.pageElements.push(i)}),this.pageContainerElem=n,t.append(this.pageContainerElem),this.options.showPagination&&(this.paginationBottom=new ListView({items:this.paginationItems,selectable:!0,selectOnClick:!0,firstSelect:this.firstPage,attributes:{"class":"pagination-view-page-changer"},anchorClickHandler:function(t){return e.changePage($(t.currentTarget).data("page-view-index")),!1}}),t.append(this.paginationBottom.render().el)),this.changePage(this.options.firstPage),t.on("swipeleft",function(t){e.changePage("next")}).on("swiperight",function(t){e.changePage("prev")}),this},preparePaginationItems:function(){if(this.paginationItems)return;var e=this,t=this.$el;this.paginationItems=[{col1Content:"First",attributes:{"class":"pagination-view-first"},actionUrl:"#",actionAttributes:{"data-page-view-index":"first"}}],_(this.pages).each(function(t,n){var r={};n==0?r["class"]="pagination-view-firstpage":n==e.pages.length-1&&(r["class"]="pagination-view-lastpage"),e.paginationItems.push({col1Content:n+1,attributes:r,actionUrl:"#",actionAttributes:{"data-page-view-index":n}})}),this.paginationItems.push({col1Content:"Last",attributes:{"class":"pagination-view-last"},actionUrl:"#",actionAttributes:{"data-page-view-index":"last"}})},changePage:function(e){var t;e=="next"?t=this.currentIndex+1:e=="prev"?t=this.currentIndex-1:e=="first"?t=0:e=="last"?t=this.pages.length-1:t=parseInt(e),t>=this.pages.length&&(t=this.pages.length-1),t<0&&(t=0),this.pageContainerElem.children().hide(),this.pageContainerElem.children().eq(t).show(),this.currentIndex=t,this.options.showPagination&&(this.paginationBottom.setSelectedIndex(t+1),this.paginationTop&&this.paginationTop.setSelectedIndex(t+1)),this.options.showInfo&&this.infoMessageElem.text(String.format($.i18n.prop("message.pagination"),t+1,this.pages.length))},refresh:function(){}});var CachableView=Backbone.View.extend({initialize:function(){this.viewList={}},render:function(){}});define("commonView",["jqueryNicescroll","jqueryDataTable","jqplotDonutRenderer","jqueryMobile","commonUtils","commonExts"],function(){}),function(e){var t=function(){return!1===e.support.boxModel&&e.support.objectAll&&e.support.leadingWhitespace}();e.jGrowl=function(t,n){0==e("#jGrowl").size()&&e('<div id="jGrowl"></div>').addClass(n&&n.position?n.position:e.jGrowl.defaults.position).appendTo("body"),e("#jGrowl").jGrowl(t,n)},e.fn.jGrowl=function(t,n){if(e.isFunction(this.each)){var r=arguments;return this.each(function(){void 0==e(this).data("jGrowl.instance")&&(e(this).data("jGrowl.instance",e.extend(new e.fn.jGrowl,{notifications:[],element:null,interval:null})),e(this).data("jGrowl.instance").startup(this)),e.isFunction(e(this).data("jGrowl.instance")[t])?e(this).data("jGrowl.instance")[t].apply(e(this).data("jGrowl.instance"),e.makeArray(r).slice(1)):e(this).data("jGrowl.instance").create(t,n)})}},e.extend(e.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(t,n){var n=e.extend({},this.defaults,n);n.speed!==void 0&&(n.openDuration=n.speed,n.closeDuration=n.speed),this.notifications.push({message:t,options:n}),n.log.apply(this.element,[this.element,t,n])},render:function(t){var n=this,r=t.message,i=t.options;i.themeState=""==i.themeState?"":"ui-state-"+i.themeState;var t=e("<div/>").addClass("jGrowl-notification "+i.themeState+" ui-corner-all"+(void 0!=i.group&&""!=i.group?" "+i.group:"")).append(e("<div/>").addClass("jGrowl-close").html(i.closeTemplate)).append(e("<div/>").addClass("jGrowl-header").html(i.header)).append(e("<div/>").addClass("jGrowl-message").html(r)).data("jGrowl",i).addClass(i.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){e(this).parent().trigger("jGrowl.beforeClose")}).parent();e(t).bind("mouseover.jGrowl",function(){e("div.jGrowl-notification",n.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){e("div.jGrowl-notification",n.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){i.beforeOpen.apply(t,[t,r,i,n.element])!==!1&&e(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){i.open.apply(t,[t,r,i,n.element])!==!1&&("after"==i.glue?e("div.jGrowl-notification:last",n.element).after(t):e("div.jGrowl-notification:first",n.element).before(t),e(this).animate(i.animateOpen,i.openDuration,i.easing,function(){e.support.opacity===!1&&this.style.removeAttribute("filter"),null!==e(this).data("jGrowl")&&(e(this).data("jGrowl").created=new Date),e(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){i.afterOpen.apply(t,[t,r,i,n.element])}).bind("jGrowl.beforeClose",function(){i.beforeClose.apply(t,[t,r,i,n.element])!==!1&&e(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){e(this).data("jGrowl.pause",!0),e(this).animate(i.animateClose,i.closeDuration,i.easing,function(){e.isFunction(i.close)?i.close.apply(t,[t,r,i,n.element])!==!1&&e(this).remove():e(this).remove()})}).trigger("jGrowl.beforeOpen"),""!=i.corners&&void 0!=e.fn.corner&&e(t).corner(i.corners),e("div.jGrowl-notification:parent",n.element).size()>1&&0==e("div.jGrowl-closer",n.element).size()&&this.defaults.closer!==!1&&e(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(n.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){e(this).siblings().trigger("jGrowl.beforeClose"),e.isFunction(n.defaults.closer)&&n.defaults.closer.apply(e(this).parent()[0],[e(this).parent()[0]])})},update:function(){e(this.element).find("div.jGrowl-notification:parent").each(function(){void 0!=e(this).data("jGrowl")&&void 0!==e(this).data("jGrowl").created&&e(this).data("jGrowl").created.getTime()+parseInt(e(this).data("jGrowl").life)<(new Date).getTime()&&e(this).data("jGrowl").sticky!==!0&&(void 0==e(this).data("jGrowl.pause")||e(this).data("jGrowl.pause")!==!0)&&e(this).trigger("jGrowl.beforeClose")}),this.notifications.length>0&&(0==this.defaults.pool||e(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift()),2>e(this.element).find("div.jGrowl-notification:parent").size()&&e(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){e(this).remove()})},startup:function(n){this.element=e(n).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){e(n).data("jGrowl.instance").update()},parseInt(this.defaults.check)),t&&e(this.element).addClass("ie6")},shutdown:function(){e(this.element).removeClass("jGrowl").find("div.jGrowl-notification").trigger("jGrowl.close").parent().empty(),clearInterval(this.interval)},close:function(){e(this.element).find("div.jGrowl-notification").each(function(){e(this).trigger("jGrowl.beforeClose")})}}),e.jGrowl.defaults=e.fn.jGrowl.prototype.defaults}(jQuery),define("jqueryJgrowl",["jquery"],function(){}),window.FeaturesEnabler={shouldEnable:function(e){var t=app_config.functionMapping[e],n=window.loginDetails!==undefined?window.loginDetails.attributes.assignedFunctions:undefined;if(t&&t.length>0&&n)for(var r=0,i=t.length;r<i;r++)if($.inArray(t[r],n)>=0)return!0;return!1}},window.DefaultMenu=function(e){isNaN(e)?(selectIndex=e.selectIndex||1,pageId=e.pageId):selectIndex=e||1,pageId=pageId||"home";var t=[];return t.push({_html:String.format('<a data-rel="close" href="#{0}"><center>{1}</center></a>',pageId,$.i18n.prop("menu.close")),"data-icon":"delete","data-iconshadow":"false"}),t.push({_html:String.format("<a href='#messages'><span class='ui-icon-fo ui-icon-fo-templates'></span>{0}</a>",$.i18n.prop("menu.message")),"data-icon":"blue-dark-arrow-right","data-iconshadow":"false"}),t.push({_html:String.format("<a href='#administration'><span class='ui-icon-fo ui-icon-fo-templates'></span>{0}</a>",$.i18n.prop("menu.administration")),"data-icon":"blue-dark-arrow-right","data-iconshadow":"false"}),FeaturesEnabler.shouldEnable("fundRegisterService")&&t.push({_html:String.format("<a href='#loadFVS'><span class='ui-icon-fo ui-icon-fo-templates'></span>{0}</a>",$.i18n.prop("menu.loadfvs")),"data-icon":"blue-dark-arrow-right","data-iconshadow":"false"}),t.push({_html:String.format("<a href='#logout'><span class='ui-icon-fo ui-icon-fo-logout'></span>{0}</a>",$.i18n.prop("menu.logout")),"data-icon":"blue-dark-arrow-right","data-iconshadow":"false"}),new BindableListView(_.extend({dataSet:t,selectable:!0,selectOnClick:!1,firstSelect:selectIndex,attributes:{"data-role":"listview","data-theme":"d","class":"left-nav ui-icon-nodisc"}},e))},define("helpers",["commonView"],function(){}),function(e){e.extend(e.fn,{validate:function(n){if(!this.length)return n&&n.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var r=e.data(this[0],"validator");return r?r:(this.attr("novalidate","novalidate"),r=new e.validator(n,this[0]),e.data(this[0],"validator",r),r.settings.onsubmit&&(this.validateDelegate(":submit","click",function(n){r.settings.submitHandler&&(r.submitButton=n.target),e(n.target).hasClass("cancel")&&(r.cancelSubmit=!0),void 0!==e(n.target).attr("formnovalidate")&&(r.cancelSubmit=!0)}),this.submit(function(n){function s(){var s;return r.settings.submitHandler?(r.submitButton&&(s=e("<input type='hidden'/>").attr("name",r.submitButton.name).val(e(r.submitButton).val()).appendTo(r.currentForm)),r.settings.submitHandler.call(r,r.currentForm,n),r.submitButton&&s.remove(),!1):!0}return r.settings.debug&&n.preventDefault(),r.cancelSubmit?(r.cancelSubmit=!1,s()):r.form()?r.pendingRequest?(r.formSubmitted=!0,!1):s():(r.focusInvalid(),!1)})),r)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var n=!0,r=e(this[0].form).validate();return this.each(function(){n=n&&r.element(this)}),n},removeAttrs:function(n){var r={},i=this;return e.each(n.split(/\s/),function(e,t){r[t]=i.attr(t),i.removeAttr(t)}),r},rules:function(n,r){var i=this[0];if(n){var s=e.data(i.form,"validator").settings,o=s.rules,u=e.validator.staticRules(i);switch(n){case"add":e.extend(u,e.validator.normalizeRule(r)),delete u.messages,o[i.name]=u,r.messages&&(s.messages[i.name]=e.extend(s.messages[i.name],r.messages));break;case"remove":if(!r)return delete o[i.name],u;var a={};return e.each(r.split(/\s/),function(e,t){a[t]=u[t],delete u[t]}),a}}var f=e.validator.normalizeRules(e.extend({},e.validator.classRules(i),e.validator.attributeRules(i),e.validator.dataRules(i),e.validator.staticRules(i)),i);if(f.required){var l=f.required;delete f.required,f=e.extend({required:l},f)}return f}}),e.extend(e.expr[":"],{blank:function(n){return!e.trim(""+e(n).val())},filled:function(n){return!!e.trim(""+e(n).val())},unchecked:function(n){return!e(n).prop("checked")}}),e.validator=function(n,r){this.settings=e.extend(!0,{},e.validator.defaults,n),this.currentForm=r,this.init()},e.validator.format=function(n,r){return 1===arguments.length?function(){var r=e.makeArray(arguments);return r.unshift(n),e.validator.format.apply(this,r)}:(arguments.length>2&&r.constructor!==Array&&(r=e.makeArray(arguments).slice(1)),r.constructor!==Array&&(r=[r]),e.each(r,function(e,t){n=n.replace(RegExp("\\{"+e+"\\}","g"),function(){return t})}),n)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(n,r,i){"radio"===n.type?this.findByName(n.name).addClass(r).removeClass(i):e(n).addClass(r).removeClass(i)},unhighlight:function(n,r,i){"radio"===n.type?this.findByName(n.name).removeClass(r).addClass(i):e(n).removeClass(r).addClass(i)}},setDefaults:function(n){e.extend(e.validator.defaults,n)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function n(n){var r=e.data(this[0].form,"validator"),i="on"+n.type.replace(/^validate/,"");r.settings[i]&&r.settings[i].call(r,this[0],n)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var r=this.groups={};e.each(this.settings.groups,function(n,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,t){r[t]=n})});var i=this.settings.rules;e.each(i,function(n,r){i[n]=e.validator.normalizeRule(r)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",n).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",n),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(n){n=this.validationTargetFor(this.clean(n)),this.lastElement=n,this.prepareElement(n),this.currentElements=e(n);var r=this.check(n)!==!1;return r?delete this.invalid[n.name]:this.invalid[n.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(n){if(n){e.extend(this.errorMap,n),this.errorList=[];for(var r in n)this.errorList.push({message:n[r],element:this.findByName(r)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in n)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(n){}},findLastActive:function(){var n=this.lastActive;return n&&1===e.grep(this.errorList,function(e){return e.element.name===n.name}).length&&n},elements:function(){var n=this,r={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&n.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in r||!n.objectLength(e(this).rules())?!1:(r[this.name]=!0,!0)})},clean:function(n){return e(n)[0]},errors:function(){var n=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+n,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(n){var r=e(n).attr("type"),i=e(n).val();return"radio"===r||"checkbox"===r?e("input[name='"+e(n).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(n){n=this.validationTargetFor(this.clean(n));var r,i=e(n).rules(),s=!1,o=this.elementValue(n);for(var u in i){var a={method:u,parameters:i[u]};try{if(r=e.validator.methods[u].call(this,o,n,a.parameters),"dependency-mismatch"===r){s=!0;continue}if(s=!1,"pending"===r)return this.toHide=this.toHide.not(this.errorsFor(n)),void 0;if(!r)return this.formatAndAdd(n,a),!1}catch(f){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+n.id+", check the '"+a.method+"' method.",f),f}}return s?void 0:(this.objectLength(i)&&this.successList.push(n),!0)},customDataMessage:function(n,r){return e(n).data("msg-"+r.toLowerCase())||n.attributes&&e(n).attr("data-msg-"+r.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;arguments.length>e;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(n,r){return this.findDefined(this.customMessage(n.name,r),this.customDataMessage(n,r),!this.settings.ignoreTitle&&n.title||void 0,e.validator.messages[r],"<strong>Warning: No message defined for "+n.name+"</strong>")},formatAndAdd:function(n,r){var i=this.defaultMessage(n,r.method),s=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,r.parameters,n):s.test(i)&&(i=e.validator.format(i.replace(s,"{$1}"),r.parameters)),this.errorList.push({message:i,element:n}),this.errorMap[n.name]=i,this.submitted[n.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(n,r){var i=this.errorsFor(n);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(r)):(i=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(n)).addClass(this.settings.errorClass).html(r||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(n)):i.insertAfter(n))),!r&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,n)),this.toShow=this.toShow.add(i)},errorsFor:function(n){var r=this.idOrName(n);return this.errors().filter(function(){return e(this).attr("for")===r})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(n){return e(this.currentForm).find("[name='"+n+"']")},getLength:function(n,r){switch(r.nodeName.toLowerCase()){case"select":return e("option:selected",r).length;case"input":if(this.checkable(r))return this.findByName(r.name).filter(":checked").length}return n.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(n,r){return!!e(n,r.form).length},"function":function(e,t){return e(t)}},optional:function(n){var r=this.elementValue(n);return!e.validator.methods.required.call(this,r,n)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(n,r){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[n.name],r&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!r&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(n){return e.data(n,"previousValue")||e.data(n,"previousValue",{old:null,valid:!0,message:this.defaultMessage(n,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(n,r){n.constructor===String?this.classRuleSettings[n]=r:e.extend(this.classRuleSettings,n)},classRules:function(n){var r={},i=e(n).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(r,e.validator.classRuleSettings[this])}),r},attributeRules:function(n){var r={},i=e(n),s=i[0].getAttribute("type");for(var o in e.validator.methods){var u;"required"===o?(u=i.get(0).getAttribute(o),""===u&&(u=!0),u=!!u):u=i.attr(o),/min|max/.test(o)&&(null===s||/number|range|text/.test(s))&&(u=Number(u)),u?r[o]=u:s===o&&"range"!==s&&(r[o]=!0)}return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(n){var r,i,s={},o=e(n);for(r in e.validator.methods)i=o.data("rule-"+r.toLowerCase()),void 0!==i&&(s[r]=i);return s},staticRules:function(n){var r={},i=e.data(n.form,"validator");return i.settings.rules&&(r=e.validator.normalizeRule(i.settings.rules[n.name])||{}),r},normalizeRules:function(n,r){return e.each(n,function(s,o){if(o===!1)return delete n[s],void 0;if(o.param||o.depends){var u=!0;switch(typeof o.depends){case"string":u=!!e(o.depends,r.form).length;break;case"function":u=o.depends.call(r,r)}u?n[s]=void 0!==o.param?o.param:!0:delete n[s]}}),e.each(n,function(s,o){n[s]=e.isFunction(o)?o(r):o}),e.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),e.each(["rangelength","range"],function(){var r;n[this]&&(e.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(r=n[this].split(/[\s,]+/),n[this]=[Number(r[0]),Number(r[1])]))}),e.validator.autoCreateRanges&&(n.min&&n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),n.minlength&&n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(n){if("string"==typeof n){var r={};e.each(n.split(/\s/),function(){r[this]=!0}),n=r}return n},addMethod:function(n,r,i){e.validator.methods[n]=r,e.validator.messages[n]=void 0!==i?i:e.validator.messages[n],3>r.length&&e.validator.addClassRules(n,e.validator.normalizeRule(n))},methods:{required:function(n,r,i){if(!this.depend(i,r))return"dependency-mismatch";if("select"===r.nodeName.toLowerCase()){var s=e(r).val();return s&&s.length>0}return this.checkable(r)?this.getLength(n,r)>0:e.trim(n).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(""+new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,r=0,i=!1;e=e.replace(/\D/g,"");for(var s=e.length-1;s>=0;s--){var o=e.charAt(s);r=parseInt(o,10),i&&(r*=2)>9&&(r-=9),n+=r,i=!i}return 0===n%10},minlength:function(n,r,i){var s=e.isArray(n)?n.length:this.getLength(e.trim(n),r);return this.optional(r)||s>=i},maxlength:function(n,r,i){var s=e.isArray(n)?n.length:this.getLength(e.trim(n),r);return this.optional(r)||i>=s},rangelength:function(n,r,i){var s=e.isArray(n)?n.length:this.getLength(e.trim(n),r);return this.optional(r)||s>=i[0]&&i[1]>=s},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&n[1]>=e},equalTo:function(n,r,i){var s=e(i);return this.settings.onfocusout&&s.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(r).valid()}),n===s.val()},remote:function(n,r,i){if(this.optional(r))return"dependency-mismatch";var s=this.previousValue(r);if(this.settings.messages[r.name]||(this.settings.messages[r.name]={}),s.originalMessage=this.settings.messages[r.name].remote,this.settings.messages[r.name].remote=s.message,i="string"==typeof i&&{url:i}||i,s.old===n)return s.valid;s.old=n;var o=this;this.startRequest(r);var u={};return u[r.name]=n,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+r.name,dataType:"json",data:u,success:function(i){o.settings.messages[r.name].remote=s.originalMessage;var u=i===!0||"true"===i;if(u){var a=o.formSubmitted;o.prepareElement(r),o.formSubmitted=a,o.successList.push(r),delete o.invalid[r.name],o.showErrors()}else{var f={},l=i||o.defaultMessage(r,"remote");f[r.name]=s.message=e.isFunction(l)?l(n):l,o.invalid[r.name]=!0,o.showErrors(f)}s.valid=u,o.stopRequest(r,u)}},i)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,r){var i=e.port;"abort"===e.mode&&(t[i]&&t[i].abort(),t[i]=r)});else{var n=e.ajax;e.ajax=function(r){var s=("mode"in r?r:e.ajaxSettings).mode,o=("port"in r?r:e.ajaxSettings).port;return"abort"===s?(t[o]&&t[o].abort(),t[o]=n.apply(this,arguments),t[o]):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(n,r,i){return this.bind(r,function(r){var o=e(r.target);return o.is(n)?i.apply(o,arguments):void 0})}})}(jQuery),define("jqueryValidate",["jquery"],function(){}),function(){function e(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",function(n,r,i){return this.optional(r)||i>=e(n).match(/\b\w+\b/g).length},jQuery.validator.format("Please enter {0} words or less.")),jQuery.validator.addMethod("minWords",function(n,r,i){return this.optional(r)||e(n).match(/\b\w+\b/g).length>=i},jQuery.validator.format("Please enter at least {0} words.")),jQuery.validator.addMethod("rangeWords",function(n,r,i){var s=e(n),o=/\b\w+\b/g;return this.optional(r)||s.match(o).length>=i[0]&&s.match(o).length<=i[1]},jQuery.validator.format("Please enter between {0} and {1} words."))}(),jQuery.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),jQuery.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),jQuery.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),jQuery.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),jQuery.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx"),jQuery.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/\d{5}-\d{4}$|^\d{5}$/.test(e)},"The specified US ZIP Code is invalid"),jQuery.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),jQuery.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;var t,n,r,i,s,o,u=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],a=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],f=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],l=0;for(t=0;17>t;t++){if(i=f[t],r=e.slice(t,t+1),8===t&&(o=r),isNaN(r)){for(n=0;u.length>n;n++)if(r.toUpperCase()===u[n]){r=a[n],r*=i,isNaN(o)&&8===n&&(o=u[n]);break}}else r*=i;l+=r}return s=l%11,10===s&&(s="X"),s===o?!0:!1},"The specified vehicle identification number (VIN) is invalid."),jQuery.validator.addMethod("dateITA",function(e,t){var n=!1,r=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(r.test(e)){var i=e.split("/"),s=parseInt(i[0],10),o=parseInt(i[1],10),u=parseInt(i[2],10),a=new Date(u,o-1,s);n=a.getFullYear()===u&&a.getMonth()===o-1&&a.getDate()===s?!0:!1}else n=!1;return this.optional(t)||n},"Please enter a correct date"),jQuery.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(e))return!1;var n=e.replace(/ /g,"").toUpperCase(),r=n.substring(0,2),i={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},s=i[r];if(s!==void 0){var o=RegExp("^[A-Z]{2}\\d{2}"+s+"$","");if(!o.test(n))return!1}for(var u,a=n.substring(4,n.length)+n.substring(0,4),f="",l=!0,c=0;a.length>c;c++)u=a.charAt(c),"0"!==u&&(l=!1),l||(f+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(u));for(var h="",p="",d=0;f.length>d;d++){var v=f.charAt(d);p=""+h+v,h=p%97}return 1===h},"Please specify a valid IBAN"),jQuery.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},"Please enter a correct date"),jQuery.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),jQuery.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),jQuery.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),jQuery.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;for(var n=e.replace(/ /g,""),r=0,i=n.length,s=0;i>s;s++){var o=i-s,u=n.substring(s,s+1);r+=o*u}return 0===r%11},"Please specify a valid bank account number"),jQuery.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),jQuery.validator.addMethod("bankorgiroaccountNL",function(e,t){return this.optional(t)||$.validator.methods.bankaccountNL.call(this,e,t)||$.validator.methods.giroaccountNL.call(this,e,t)},"Please specify a valid bank or giro account number"),jQuery.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),jQuery.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),jQuery.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[45789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),jQuery.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[45789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),jQuery.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),jQuery.validator.addMethod("strippedminlength",function(e,t,n){return jQuery(e).text().length>=n},jQuery.validator.format("Please enter at least {0} characters")),jQuery.validator.addMethod("email2",function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},jQuery.validator.messages.email),jQuery.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},jQuery.validator.messages.url),jQuery.validator.addMethod("creditcardtypes",function(e,t,n){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var r=0;return n.mastercard&&(r|=1),n.visa&&(r|=2),n.amex&&(r|=4),n.dinersclub&&(r|=8),n.enroute&&(r|=16),n.discover&&(r|=32),n.jcb&&(r|=64),n.unknown&&(r|=128),n.all&&(r=255),1&r&&/^(5[12345])/.test(e)?16===e.length:2&r&&/^(4)/.test(e)?16===e.length:4&r&&/^(3[47])/.test(e)?15===e.length:8&r&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&r&&/^(2(014|149))/.test(e)?15===e.length:32&r&&/^(6011)/.test(e)?16===e.length:64&r&&/^(3)/.test(e)?16===e.length:64&r&&/^(2131|1800)/.test(e)?15===e.length:128&r?!0:!1},"Please enter a valid credit card number."),jQuery.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),jQuery.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),jQuery.validator.addMethod("pattern",function(e,t,n){return this.optional(t)?!0:("string"==typeof n&&(n=RegExp("^(?:"+n+")$")),n.test(e))},"Invalid format."),jQuery.validator.addMethod("require_from_group",function(e,t,n){var r=this,i=n[1],s=$(i,t.form).filter(function(){return r.elementValue(this)}).length>=n[0];if(!$(t).data("being_validated")){var o=$(i,t.form);o.data("being_validated",!0),o.valid(),o.data("being_validated",!1)}return s},jQuery.format("Please fill at least {0} of these fields.")),jQuery.validator.addMethod("skip_or_fill_minimum",function(e,t,n){var r=this,i=n[0],s=n[1],o=$(s,t.form).filter(function(){return r.elementValue(this)}).length,u=o>=i||0===o;if(!$(t).data("being_validated")){var a=$(s,t.form);a.data("being_validated",!0),a.valid(),a.data("being_validated",!1)}return u},jQuery.format("Please either skip these fields or fill at least {0} of them.")),jQuery.validator.addMethod("accept",function(e,t,n){var r,i,s="string"==typeof n?n.replace(/\s/g,"").replace(/,/g,"|"):"image/*",o=this.optional(t);if(o)return o;if("file"===$(t).attr("type")&&(s=s.replace(/\*/g,".*"),t.files&&t.files.length))for(r=0;t.files.length>r;r++)if(i=t.files[r],!i.type.match(RegExp(".?("+s+")$","i")))return!1;return!0},jQuery.format("Please enter a value with a valid mimetype.")),jQuery.validator.addMethod("extension",function(e,t,n){return n="string"==typeof n?n.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(RegExp(".("+n+")$","i"))},jQuery.format("Please enter a value with a valid extension.")),define("additionalMethods",["jqueryValidate"],function(){}),function(e){var t=function(e){return parseInt(e,10)||0};e.each(["min","max"],function(n,r){e.fn[r+"Size"]=function(e){var n,i;return e?(e.width!==undefined&&this.css(r+"-width",e.width),e.height!==undefined&&this.css(r+"-height",e.height),this):(n=this.css(r+"-width"),i=this.css(r+"-height"),{width:r==="max"&&(n===undefined||n==="none"||t(n)===-1)&&Number.MAX_VALUE||t(n),height:r==="max"&&(i===undefined||i==="none"||t(i)===-1)&&Number.MAX_VALUE||t(i)})}}),e.fn.isVisible=function(){return this.is(":visible")},e.each(["border","margin","padding"],function(n,r){e.fn[r]=function(e){return e?(e.top!==undefined&&this.css(r+"-top"+(r==="border"?"-width":""),e.top),e.bottom!==undefined&&this.css(r+"-bottom"+(r==="border"?"-width":""),e.bottom),e.left!==undefined&&this.css(r+"-left"+(r==="border"?"-width":""),e.left),e.right!==undefined&&this.css(r+"-right"+(r==="border"?"-width":""),e.right),this):{top:t(this.css(r+"-top"+(r==="border"?"-width":""))),bottom:t(this.css(r+"-bottom"+(r==="border"?"-width":""))),left:t(this.css(r+"-left"+(r==="border"?"-width":""))),right:t(this.css(r+"-right"+(r==="border"?"-width":"")))}}})}(jQuery),define("jquerySizes",["jquery"],function(){}),window.BasePage=GenericPage.extend({attributes:{"data-theme":"d"},events:{pagebeforeshow:"pageBeforeShow",pageshow:"pageShow",pageinit:"pageInit",pagehide:"pageHide",orientationchange:"orientationChange"},initialize:function(){GenericPage.prototype.initialize.apply(this,arguments),this.prepareMenuAndHeader()},getLoginDetails:function(){if(window.loginDetails){this.updateLoginDetails();return}window.loginDetails=new LoginDetails;var e=this;window.loginDetails.fetch({success:function(){e.updateLoginDetails()}})},updateLoginDetails:function(){this.actionHeader.$el.find(".username").html(window.loginDetails.attributes.userName),this.createPanelMenu()},createPanelMenu:function(){this.panelMenuListView=new DefaultMenu({selectIndex:this.menuIndex,pageId:this.pageId});var e=this.leftMenuPanel.$el.find(".ui-panel-inner");e.length==0&&(e=$('<div class="ui-panel-inner"/>'),this.leftMenuPanel.$el.append(e)),e.append(this.panelMenuListView.render().el),this.panelMenuListView.refresh();var t=this;this.panelMenuListView.$el.find("a[data-rel=close]").click(function(){return t.leftMenuPanel.close(),!1})},prepareMenuAndHeader:function(){var e=this;typeof this.menuIndex=="undefined"&&(this.menuIndex=1),this.actionHeader=new ActionHeader({templateName:"partial/header-action",attributes:{"data-position":"fixed","data-theme":"f","data-tap-toggle":"false"},userNameValue:sessionStorage.getItem("api-session-id")}),this.genericHeader=new GenericElementView({attributes:{"data-role":"header","data-position":"fixed","data-theme":"e","data-tap-toggle":"false","class":"header-generic"},templateName:"partial/header-generic-action"}),this.actionHeader.mainContents.push(this.genericHeader),this.leftMenuPanel=new GenericPanel({attributes:{"data-theme":"c","data-display":"overlay"}}),this.panels.push(this.leftMenuPanel),this.footer=_.template(tpl.get("partial/footer-generic")),this.headers.push(this.actionHeader)},updateContentHeight:function(){var e=this.$el.find("div.ui-content");if(!this.headerHeight){var t=this.$el.find("div.ui-header:first");this.headerHeight=t.height()+t.border().top+t.border().bottom+t.padding().top+t.padding().bottom}if(!this.footerHeight){var n=this.$el.find("div.ui-footer:first");this.footerHeight=n.height()+n.border().top+n.border().bottom+n.padding().top+n.padding().bottom}e.css("min-height",""),e.height(window.innerHeight-this.headerHeight-this.footerHeight-e.padding().top-e.padding().bottom),this.leftMenuPanel.$el.height(window.innerHeight-this.headerHeight-this.footerHeight);var r=app_config.calcNumberOfRows();app_config.numberOfDataRows!=r&&(app_config.numberOfDataRows=r,GlobalEvents.trigger("smart:tableresize",app_config.numberOfDataRows))},togglePanelState:function(e){typeof e=="undefined"&&(e=!this.leftMenuPanel.isOpened),e?this.leftMenuPanel.open():this.leftMenuPanel.close()},attachHeaderEvents:function(){var e=this;this.genericHeader.$el.find("a").click(function(t){return e.togglePanelState(!0),!1})},updatePanelAndHeaderState:function(e){var t;console.log("forceClose"),console.log(e),typeof e!="undefined"?t=e:t=this.leftMenuPanel.isOpened,t?this.togglePanelState(!1):this.togglePanelState(!0)},pageShow:function(){this.pageShowHandler()},pageBeforeShow:function(){document.documentElement.clientWidth>document.documentElement.clientHeight?this.orientation="lanscape":this.orientation="portrait",this.updateContentHeight(),this.attachHeaderEvents(),this.togglePanelState(!1),this.pageBeforeShowHandler()},pageInit:function(){var e=this;$(window).resize(function(t){e.updateContentHeight()}),this.getLoginDetails(),this.pageInitHandler()},pageHide:function(){this.pageHideHandler()},orientationChange:function(e){this.orientation=e.orientation,this.updatePanelAndHeaderState(),this.updateContentHeight()},pageInitHandler:function(){},pageShowHandler:function(){},pageBeforeShowHandler:function(){},pageHideHandler:function(){},tapHandler:function(){}}),define("basePage",["appConfig","helpers","additionalMethods","jquerySizes","commonView"],function(){}),jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;s[n]||(s[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function i(t,i,s,o){if(Object.defineProperty)try{return Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return r(o),s},set:function(e){r(o),s=e}}),n}catch(u){}e._definePropertyBroken=!0,t[i]=s}var s={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){s={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,u=e.attr,a=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},f=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,c=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;i(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,i,s,a){var f=i.toLowerCase(),d=t&&t.nodeType;return a&&(4>u.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!c.test(d)&&(o?i in o:e.isFunction(e.fn[i])))?e(t)[i](s):("type"===i&&s!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[f]&&h.test(f)&&(e.attrHooks[f]={get:function(t,r){var i,s=e.prop(t,r);return s===!0||"boolean"!=typeof s&&(i=t.getAttributeNode(r))&&i.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var i;return n===!1?e.removeAttr(t,r):(i=e.propFix[r]||r,i in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},p.test(f)&&r("jQuery.fn.attr('"+f+"') may use property instead of attribute")),u.call(e,t,i,s))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?a.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?f.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var d,v,m=e.fn.init,g=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,i){var s;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(s=y.exec(e.trim(t)))&&s[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),s[3]&&r("$(html) HTML text after last tag is ignored"),"#"===s[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?m.call(this,e.parseHTML(s[2],n,!0),n,i):m.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?g.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(d=e.uaMatch(navigator.userAgent),v={},d.browser&&(v[d.browser]=!0,v.version=d.version),v.chrome?v.webkit=!0:v.webkit&&(v.safari=!0),e.browser=v),i(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,i){return i&&i instanceof e&&!(i instanceof t)&&(i=t(i)),e.fn.init.call(this,r,i,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var i,s,o=this[0];return!o||"events"!==t||1!==arguments.length||(i=e.data(o,t),s=e._data(o,t),i!==n&&i!==s||s===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),s)};var w=/\/(java|ecma)script/i,E=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),E.apply(this,arguments)},e.clean||(e.clean=function(t,i,s,o){i=i||document,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,r("jQuery.clean() is deprecated");var u,a,f,l,c=[];if(e.merge(c,e.buildFragment(t,i).childNodes),s)for(f=function(e){return!e.type||w.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):s.appendChild(e):n},u=0;null!=(a=c[u]);u++)e.nodeName(a,"script")&&f(a)||(s.appendChild(a),a.getElementsByTagName!==n&&(l=e.grep(e.merge([],a.getElementsByTagName("script")),f),c.splice.apply(c,[u+1,0].concat(l)),u+=l.length));return c});var S=e.event.add,x=e.event.remove,T=e.event.trigger,N=e.fn.toggle,C=e.fn.live,k=e.fn.die,L="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",A=RegExp("\\b(?:"+L+")\\b"),O=/(?:^|\s)hover(\.\S+|)\b/,M=function(t){return"string"!=typeof t||e.event.special.hover?t:(O.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(O,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&i(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,i,s){e!==document&&A.test(t)&&r("AJAX events should be attached to document: "+t),S.call(this,e,M(t||""),n,i,s)},e.event.remove=function(e,t,n,r,i){x.call(this,e,M(t)||"",n,r,i)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var i=arguments,s=t.guid||e.guid++,o=0,u=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),i[r].apply(this,arguments)||!1};for(u.guid=s;i.length>o;)i[o++].guid=s;return this.click(u)},e.fn.live=function(t,n,i){return r("jQuery.fn.live() is deprecated"),C?C.apply(this,arguments):(e(this.context).on(t,this.selector,n,i),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),k?k.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,i){return n||A.test(e)||r("Global events are undocumented and deprecated"),T.call(this,e,t,n||document,i)},e.each(L.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),define("jqueryMigrate",["jquery"],function(){}),function(e){window.log=function(){log.history=log.history||[],log.history.push(arguments),this.console&&console.log(Array.prototype.slice.call(arguments))},e.fn.snippet=function(t,n){typeof t=="object"&&(n=t),typeof t=="string"&&(t=t.toLowerCase());var r={style:"random",showNum:!0,transparent:!1,collapse:!1,menu:!0,showMsg:"Expand Code",hideMsg:"Collapse Code",clipboard:"",startCollapsed:!0,startText:!1,box:"",boxColor:"",boxFill:""},i=["acid","berries-dark","berries-light","bipolar","blacknblue","bright","contrast","darkblue","darkness","desert","dull","easter","emacs","golden","greenlcd","ide-anjuta","ide-codewarrior","ide-devcpp","ide-eclipse","ide-kdev","ide-msvcpp","kwrite","matlab","navy","nedit","neon","night","pablo","peachpuff","print","rand01","the","typical","vampire","vim","vim-dark","whatis","whitengrey","zellner"];return n&&e.extend(r,n),this.each(function(){var n=r.style.toLowerCase();if(r.style=="random"){var s=Math.floor(Math.random()*i.length);n=i[s]}var o=e(this),u=this.nodeName.toLowerCase();if(u!="pre"){var c="Snippet Error: Sorry, Snippet only formats '<pre>' elements. '<"+u+">' elements are currently unsupported.";return console.log(c),!1}if(o.data("orgHtml")==undefined||o.data("orgHtml")==null){var a=o.html();o.data("orgHtml",a)}if(!o.parent().hasClass("snippet-wrap")){if(typeof t!="string"){if(o.attr("class").length>0)var f=' class="'+o.attr("class")+'"';else var f="";if(o.attr("id").length>0)var l=' id="'+o.attr("id")+'"';else var l="";var c="Snippet Error: You must specify a language on inital usage of Snippet. Reference <pre"+f+l+">";return console.log(c),!1}o.addClass("sh_"+t).addClass("snippet-formatted").wrap("<div class='snippet-container' style='"+o.attr("style")+";'><div class='sh_"+n+" snippet-wrap'></div></div>"),o.removeAttr("style"),sh_highlightDocument();if(r.showNum){var h=o.html();h=h.replace(/\n/g,"</li><li>"),h="<ol class='snippet-num'><li>"+h+"</li></ol>";while(h.indexOf("<li></li></ol>")!=-1)h=h.replace("<li></li></ol>","</ol>")}else{var h=o.html();h=h.replace(/\n/g,"</li><li>"),h="<ul class='snippet-no-num'><li>"+h+"</li></ul>";while(h.indexOf("<li></li></ul>")!=-1)h=h.replace("<li></li></ul>","</ul>")}h=h.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),o.html(h);while(o.find("li").eq(0).html()=="")o.find("li").eq(0).remove();o.find("li").each(function(){if(e(this).html().length<2){var t=e(this).html().replace(/\s/g,"");t==""&&(e.browser.opera?e(this).html("&nbsp;"):e(this).html("<span style='display:none;'>&nbsp;</span>"))}});var p="<pre class='snippet-textonly sh_sourceCode' style='display:none;'>"+o.data("orgHtml")+"</pre>",d="<div class='snippet-menu sh_sourceCode' style='display:none;'><pre><a class='snippet-copy' href='#'>copy</a><a class='snippet-text' href='#'>text</a><a class='snippet-window' href='#'>pop-up</a></pre></div>";o.parent().append(p),o.parent().prepend(d),o.parent().hover(function(){e(this).find(".snippet-menu").fadeIn("fast")},function(){e(this).find(".snippet-menu").fadeOut("fast")});if(r.clipboard!=""&&r.clipboard!=0){var v=o.parent().find("a.snippet-copy");v.show(),v.parents(".snippet-menu").show();var m=o.parents(".snippet-wrap").find(".snippet-textonly").text();ZeroClipboard.setMoviePath(r.clipboard);var g=new ZeroClipboard.Client;g.setText(m),g.glue(v[0],v.parents(".snippet-menu")[0]),g.addEventListener("complete",function(e,t){t.length>500&&(t=t.substr(0,500)+"...\n\n("+(t.length-500)+" characters not shown)"),alert("Copied text to clipboard:\n\n "+t)}),v.parents(".snippet-menu").hide()}else o.parent().find("a.snippet-copy").hide();o.parent().find("a.snippet-text").click(function(){var t=e(this).parents(".snippet-wrap").find(".snippet-formatted"),n=e(this).parents(".snippet-wrap").find(".snippet-textonly");return t.toggle(),n.toggle(),n.is(":visible")?e(this).html("html"):e(this).html("text"),e(this).blur(),!1}),o.parent().find("a.snippet-window").click(function(){var t=e(this).parents(".snippet-wrap").find(".snippet-textonly").html();return snippetPopup(t),e(this).blur(),!1}),r.menu||o.prev(".snippet-menu").find("pre,.snippet-clipboard").hide();if(r.collapse){var y=o.parent().attr("class"),b="<div class='snippet-reveal "+y+"'><pre class='sh_sourceCode'><a href='#' class='snippet-toggle'>"+r.showMsg+"</a></pre></div>",w="<div class='sh_sourceCode snippet-hide'><pre><a href='#' class='snippet-revealed snippet-toggle'>"+r.hideMsg+"</a></pre></div>";o.parents(".snippet-container").append(b),o.parent().append(w);var E=o.parents(".snippet-container");r.startCollapsed?(E.find(".snippet-reveal").show(),E.find(".snippet-wrap").eq(0).hide()):(E.find(".snippet-reveal").hide(),E.find(".snippet-wrap").eq(0).show()),E.find("a.snippet-toggle").click(function(){return E.find(".snippet-wrap").toggle(),!1})}if(r.transparent){var S={"background-color":"transparent","box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"};o.css(S),o.next(".snippet-textonly").css(S),o.parents(".snippet-container").find(".snippet-reveal pre").css(S)}r.startText&&(o.hide(),o.next(".snippet-textonly").show(),o.parent().find(".snippet-text").html("html"));if(r.box!=""){var x="<span class='box-sp'>&nbsp;</span>",T=r.box.split(",");for(var N=0;N<T.length;N++){var C=T[N];if(C.indexOf("-")==-1)C=parseFloat(C)-1,o.find("li").eq(C).addClass("box").prepend(x);else{var k=parseFloat(C.split("-")[0])-1,L=parseFloat(C.split("-")[1])-1;if(k<L){o.find("li").eq(k).addClass("box box-top").prepend(x),o.find("li").eq(L).addClass("box box-bot").prepend(x);for(var A=k+1;A<L;A++)o.find("li").eq(A).addClass("box box-mid").prepend(x)}else k==L&&o.find("li").eq(k).addClass("box").prepend(x)}}r.boxColor!=""&&o.find("li.box").css("border-color",r.boxColor),r.boxFill!=""&&o.find("li.box, li.box-top, li.box-mid, li.box-bot").addClass("box-bg").css("background-color",r.boxFill),e.browser.webkit&&(o.find(".snippet-num li.box").css("margin-left","-3.3em"),o.find(".snippet-num li .box-sp").css("width","21px"))}o.parents(".snippet-container").find("a").addClass("sh_url")}else{o.parent().attr("class","sh_"+n+" snippet-wrap"),o.parents(".snippet-container").find(".snippet-reveal").attr("class","sh_"+n+" snippet-wrap snippet-reveal"),o.find("li.box, li.box-top, li.box-mid, li.box-bot").removeAttr("style").removeAttr("class"),o.find("li .box-sp").remove();if(r.transparent){var S={"background-color":"transparent","box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"};o.css(S),o.next(".snippet-textonly").css(S),o.parents(".snippet-container").find(".snippet-hide pre").css(S)}else{var S={"background-color":"","box-shadow":"","-moz-box-shadow":"","-webkit-box-shadow":""};o.css(S),o.next(".snippet-textonly").css(S),o.parents(".snippet-container").find(".snippet-reveal pre").css(S)}if(r.showNum){var O=o.find("li").eq(0).parent();if(O.hasClass("snippet-no-num")){O.wrap("<ol class='snippet-num'></ol>");var M=o.find("li").eq(0);M.unwrap()}}else{var O=o.find("li").eq(0).parent();if(O.hasClass("snippet-num")){O.wrap("<ul class='snippet-no-num'></ul>");var M=o.find("li").eq(0);M.unwrap()}}if(r.box!=""){var x="<span class='box-sp'>&nbsp;</span>",T=r.box.split(",");for(var N=0;N<T.length;N++){var C=T[N];if(C.indexOf("-")==-1)C=parseFloat(C)-1,o.find("li").eq(C).addClass("box").prepend(x);else{var k=parseFloat(C.split("-")[0])-1,L=parseFloat(C.split("-")[1])-1;if(k<L){o.find("li").eq(k).addClass("box box-top").prepend(x),o.find("li").eq(L).addClass("box box-bot").prepend(x);for(var A=k+1;A<L;A++)o.find("li").eq(A).addClass("box box-mid").prepend(x)}else k==L&&o.find("li").eq(k).addClass("box").prepend(x)}}r.boxColor!=""&&o.find("li.box").css("border-color",r.boxColor),r.boxFill!=""&&o.find("li.box").addClass("box-bg").css("background-color",r.boxFill),e.browser.webkit&&(o.find(".snippet-num li.box").css("margin-left","-3.3em"),o.find(".snippet-num li .box-sp").css("width","21px"))}sh_highlightDocument(),r.menu?o.prev(".snippet-menu").find("pre,.snippet-clipboard").show():o.prev(".snippet-menu").find("pre,.snippet-clipboard").hide()}})}}(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(e){return typeof e=="string"&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){var t=this.className.split(/\s+/),n=-1;for(var r=0;r<t.length;r++)t[r]==e&&(n=r,r=t.length);return n>-1&&(t.splice(n,1),this.className=t.join(" ")),this},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,n){var r=this.clients[e];r&&r.receiveEvent(t,n)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e,t){var n={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};while(e&&e!=t)n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent;return n},Client:function(e){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),e&&this.glue(e)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(e,t,n){this.domElement=ZeroClipboard.$(e);var r=99;this.domElement.style.zIndex&&(r=parseInt(this.domElement.style.zIndex,10)+1),typeof t=="string"?t=ZeroClipboard.$(t):typeof t=="undefined"&&(t=document.getElementsByTagName("body")[0]);var i=ZeroClipboard.getDOMObjectPosition(this.domElement,t);this.div=document.createElement("div"),this.div.className="snippet-clipboard";var s=this.div.style;s.position="absolute",s.left=""+i.left+"px",s.top=""+i.top+"px",s.width=""+i.width+"px",s.height=""+i.height+"px",s.zIndex=r;if(typeof n=="object")for(addedStyle in n)s[addedStyle]=n[addedStyle];t.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height)},getHTML:function(e,t){var n="",r="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var i=location.href.match(/^https/i)?"https://":"http://";n+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+i+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+r+'"/><param name="wmode" value="transparent"/></object>'}else n+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+r+'" wmode="transparent" />';return n},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(t){}this.domElement=null,this.div=null}},reposition:function(e){e&&(this.domElement=ZeroClipboard.$(e),this.domElement||this.hide());if(this.domElement&&this.div){var t=ZeroClipboard.getDOMObjectPosition(this.domElement),n=this.div.style;n.left=""+t.left+"px",n.top=""+t.top+"px"}},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){e=e.toString().toLowerCase().replace(/^on/,"");switch(e){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var n=this;setTimeout(function(){n.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var n=this;setTimeout(function(){n.receiveEvent("load",null)},100),this.ready=!0;return}this.ready=!0;try{this.movie.setText(this.clipText)}catch(r){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(r){}break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var i=0,s=this.handlers[e].length;i<s;i++){var o=this.handlers[e][i];typeof o=="function"?o(this,t):typeof o=="object"&&o.length==2?o[0][o[1]](this,t):typeof o=="string"&&window[o](this,t)}}},this.sh_languages||(this.sh_languages={});var sh_requests={};this.sh_languages||(this.sh_languages={}),sh_languages.c=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.cpp=[[[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.csharp=[[[/\b(?:using)\b/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))(?:[FfDdMmUulL]+)?\b/g,"sh_number",-1],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:abstract|event|new|struct|as|explicit|null|switch|base|extern|this|false|operator|throw|break|finally|out|true|fixed|override|try|case|params|typeof|catch|for|private|foreach|protected|checked|goto|public|unchecked|class|if|readonly|unsafe|const|implicit|ref|continue|in|return|virtual|default|interface|sealed|volatile|delegate|internal|do|is|sizeof|while|lock|stackalloc|else|static|enum|namespace|get|partial|set|value|where|yield)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:bool|byte|sbyte|char|decimal|double|float|int|uint|long|ulong|object|short|ushort|string|void)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.css=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(?:\.|#)[A-Za-z0-9_]+/g,"sh_selector",-1],[/\{/g,"sh_cbracket",10,1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\}/g,"sh_cbracket",-2],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/[A-Za-z0-9_-]+[ \t]*:/g,"sh_property",-1],[/[.%A-Za-z0-9_-]+/g,"sh_value",-1],[/#(?:[A-Za-z0-9_]+)/g,"sh_string",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.flex=[[[/^%\{/g,"sh_preproc",1,1],[/^%[sx]/g,"sh_preproc",16,1],[/^%option/g,"sh_preproc",17,1],[/^%(?:array|pointer|[aceknopr])/g,"sh_preproc",-1],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_preproc",19,1],[/^%%/g,"sh_preproc",20,1]],[[/^%\}/g,"sh_preproc",-2],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",3,1],[/<!DOCTYPE/g,"sh_preproc",5,1],[/<!--/g,"sh_comment",6],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",7,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",7,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",6]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",3,1],[/<!DOCTYPE/g,"sh_preproc",5,1],[/<!--/g,"sh_comment",6],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",7,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",7,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",12],[/"/g,"sh_string",13],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/$/g,null,-2],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_function",-1]],[[/$/g,null,-2],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_keyword",-1],[/"/g,"sh_string",18],[/=/g,"sh_symbol",-1]],[[/$/g,null,-2],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\{[A-Za-z_][A-Za-z0-9_-]*\}/g,"sh_type",-1],[/"/g,"sh_string",13],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/^%%/g,"sh_preproc",21,1],[/<[A-Za-z_][A-Za-z0-9_-]*>/g,"sh_function",-1],[/"/g,"sh_string",13],[/\\./g,"sh_preproc",-1],[/\{[A-Za-z_][A-Za-z0-9_-]*\}/g,"sh_type",-1],[/\/\*/g,"sh_comment",22],[/\{/g,"sh_cbracket",23,1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/\*\//g,"sh_comment",-2],[/\/\*/g,"sh_comment",22]],[[/\}/g,"sh_cbracket",-2],[/\{/g,"sh_cbracket",23,1],[/\$./g,"sh_variable",-1],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.html=[[[/<\?xml/g,"sh_preproc",1,1],[/<!DOCTYPE/g,"sh_preproc",3,1],[/<!--/g,"sh_comment",4],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",5,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",5,1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",4]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]]],this.sh_languages||(this.sh_languages={}),sh_languages.java=[[[/\b(?:import|package)\b/g,"sh_preproc",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/(\b(?:class|interface))([ \t]+)([$A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:abstract|assert|break|case|catch|class|const|continue|default|do|else|extends|false|final|finally|for|goto|if|implements|instanceof|interface|native|new|null|private|protected|public|return|static|strictfp|super|switch|synchronized|throw|throws|true|this|transient|try|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:int|byte|boolean|char|long|float|double|short|void)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.javascript=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b(?:abstract|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|final|finally|for|function|goto|if|implements|in|instanceof|interface|native|new|null|private|protected|prototype|public|return|static|super|switch|synchronized|throw|throws|this|transient|true|try|typeof|var|volatile|while|with)\b/g,"sh_keyword",-1],[/(\+\+|--|\)|\])(\s*)(\/=?(?![*\/]))/g,["sh_symbol","sh_normal","sh_symbol"],-1],[/(0x[A-Fa-f0-9]+|(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?)(\s*)(\/(?![*\/]))/g,["sh_number","sh_normal","sh_symbol"],-1],[/([A-Za-z$_][A-Za-z0-9$_]*\s*)(\/=?(?![*\/]))/g,["sh_normal","sh_symbol"],-1],[/\/(?:\\.|[^*\\\/])(?:\\.|[^\\\/])*\/[gim]*/g,"sh_regexp",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/\b(?:Math|Infinity|NaN|undefined|arguments)\b/g,"sh_predef_var",-1],[/\b(?:Array|Boolean|Date|Error|EvalError|Function|Number|Object|RangeError|ReferenceError|RegExp|String|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt)\b/g,"sh_predef_func",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.javascript_dom=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b(?:abstract|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|final|finally|for|function|goto|if|implements|in|instanceof|interface|native|new|null|private|protected|prototype|public|return|static|super|switch|synchronized|throw|throws|this|transient|true|try|typeof|var|volatile|while|with)\b/g,"sh_keyword",-1],[/(\+\+|--|\)|\])(\s*)(\/=?(?![*\/]))/g,["sh_symbol","sh_normal","sh_symbol"],-1],[/(0x[A-Fa-f0-9]+|(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?)(\s*)(\/(?![*\/]))/g,["sh_number","sh_normal","sh_symbol"],-1],[/([A-Za-z$_][A-Za-z0-9$_]*\s*)(\/=?(?![*\/]))/g,["sh_normal","sh_symbol"],-1],[/\/(?:\\.|[^*\\\/])(?:\\.|[^\\\/])*\/[gim]*/g,"sh_regexp",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/\b(?:Math|Infinity|NaN|undefined|arguments)\b/g,"sh_predef_var",-1],[/\b(?:Array|Boolean|Date|Error|EvalError|Function|Number|Object|RangeError|ReferenceError|RegExp|String|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt)\b/g,"sh_predef_func",-1],[/\b(?:applicationCache|closed|Components|content|controllers|crypto|defaultStatus|dialogArguments|directories|document|frameElement|frames|fullScreen|globalStorage|history|innerHeight|innerWidth|length|location|locationbar|menubar|name|navigator|opener|outerHeight|outerWidth|pageXOffset|pageYOffset|parent|personalbar|pkcs11|returnValue|screen|availTop|availLeft|availHeight|availWidth|colorDepth|height|left|pixelDepth|top|width|screenX|screenY|scrollbars|scrollMaxX|scrollMaxY|scrollX|scrollY|self|sessionStorage|sidebar|status|statusbar|toolbar|top|window)\b/g,"sh_predef_var",-1],[/\b(?:alert|addEventListener|atob|back|blur|btoa|captureEvents|clearInterval|clearTimeout|close|confirm|dump|escape|find|focus|forward|getAttention|getComputedStyle|getSelection|home|moveBy|moveTo|open|openDialog|postMessage|print|prompt|releaseEvents|removeEventListener|resizeBy|resizeTo|scroll|scrollBy|scrollByLines|scrollByPages|scrollTo|setInterval|setTimeout|showModalDialog|sizeToContent|stop|unescape|updateCommands|onabort|onbeforeunload|onblur|onchange|onclick|onclose|oncontextmenu|ondragdrop|onerror|onfocus|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onpaint|onreset|onresize|onscroll|onselect|onsubmit|onunload)\b/g,"sh_predef_func",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.perl=[[[/\b(?:import)\b/g,"sh_preproc",-1],[/(s)(\{(?:\\\}|[^}])*\}\{(?:\\\}|[^}])*\})([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(\((?:\\\)|[^)])*\)\((?:\\\)|[^)])*\))([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(\[(?:\\\]|[^\]])*\]\[(?:\\\]|[^\]])*\])([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(<.*><.*>)([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(q(?:q?))(\{(?:\\\}|[^}])*\})/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(\((?:\\\)|[^)])*\))/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(\[(?:\\\]|[^\]])*\])/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(<.*>)/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))([^A-Za-z0-9 \t])(.*\2)/g,["sh_keyword","sh_string","sh_string"],-1],[/(s)([^A-Za-z0-9 \t])(.*\2.*\2)([ixsmogce]*(?=[ \t]*(?:\)|;)))/g,["sh_keyword","sh_regexp","sh_regexp","sh_keyword"],-1],[/(s)([^A-Za-z0-9 \t])(.*\2[ \t]*)([^A-Za-z0-9 \t])(.*\4)([ixsmogce]*(?=[ \t]*(?:\)|;)))/g,["sh_keyword","sh_regexp","sh_regexp","sh_regexp","sh_regexp","sh_keyword"],-1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/(?:m|qr)(?=\{)/g,"sh_keyword",2],[/(?:m|qr)(?=#)/g,"sh_keyword",4],[/(?:m|qr)(?=\|)/g,"sh_keyword",6],[/(?:m|qr)(?=@)/g,"sh_keyword",8],[/(?:m|qr)(?=<)/g,"sh_keyword",10],[/(?:m|qr)(?=\[)/g,"sh_keyword",12],[/(?:m|qr)(?=\\)/g,"sh_keyword",14],[/(?:m|qr)(?=\/)/g,"sh_keyword",16],[/"/g,"sh_string",18],[/'/g,"sh_string",19],[/</g,"sh_string",20],[/\/[^\n]*\//g,"sh_string",-1],[/\b(?:chomp|chop|chr|crypt|hex|i|index|lc|lcfirst|length|oct|ord|pack|q|qq|reverse|rindex|sprintf|substr|tr|uc|ucfirst|m|s|g|qw|abs|atan2|cos|exp|hex|int|log|oct|rand|sin|sqrt|srand|my|local|our|delete|each|exists|keys|values|pack|read|syscall|sysread|syswrite|unpack|vec|undef|unless|return|length|grep|sort|caller|continue|dump|eval|exit|goto|last|next|redo|sub|wantarray|pop|push|shift|splice|unshift|split|switch|join|defined|foreach|last|chop|chomp|bless|dbmclose|dbmopen|ref|tie|tied|untie|while|next|map|eq|die|cmp|lc|uc|and|do|if|else|elsif|for|use|require|package|import|chdir|chmod|chown|chroot|fcntl|glob|ioctl|link|lstat|mkdir|open|opendir|readlink|rename|rmdir|stat|symlink|umask|unlink|utime|binmode|close|closedir|dbmclose|dbmopen|die|eof|fileno|flock|format|getc|print|printf|read|readdir|rewinddir|seek|seekdir|select|syscall|sysread|sysseek|syswrite|tell|telldir|truncate|warn|write|alarm|exec|fork|getpgrp|getppid|getpriority|kill|pipe|qx|setpgrp|setpriority|sleep|system|times|x|wait|waitpid)\b/g,"sh_keyword",-1],[/^\=(?:head1|head2|item)/g,"sh_comment",21],[/(?:\$[#]?|@|%)[\/A-Za-z0-9_]+/g,"sh_variable",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/\{/g,"sh_regexp",3]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\{|\\\}|\}/g,"sh_regexp",-3]],[[/#/g,"sh_regexp",5]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\#|#/g,"sh_regexp",-3]],[[/\|/g,"sh_regexp",7]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\||\|/g,"sh_regexp",-3]],[[/@/g,"sh_regexp",9]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\@|@/g,"sh_regexp",-3]],[[/</g,"sh_regexp",11]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\<|\\>|>/g,"sh_regexp",-3]],[[/\[/g,"sh_regexp",13]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\]|\]/g,"sh_regexp",-3]],[[/\\/g,"sh_regexp",15]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\\|\\/g,"sh_regexp",-3]],[[/\//g,"sh_regexp",17]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\/|\//g,"sh_regexp",-3]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/\=cut/g,"sh_comment",-2]]],this.sh_languages||(this.sh_languages={}),sh_languages.php=[[[/\b(?:include|include_once|require|require_once)\b/g,"sh_preproc",-1],[/\/\//g,"sh_comment",1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",2],[/'/g,"sh_string",3],[/\b(?:and|or|xor|__FILE__|exception|php_user_filter|__LINE__|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|each|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|for|foreach|function|global|if|isset|list|new|old_function|print|return|static|switch|unset|use|var|while|__FUNCTION__|__CLASS__|__METHOD__)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",4],[/\/\//g,"sh_comment",1],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(?:\$[#]?|@|%)[A-Za-z0-9_]+/g,"sh_variable",-1],[/<\?php|~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",5,1],[/<!DOCTYPE/g,"sh_preproc",6,1],[/<!--/g,"sh_comment",7],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",8,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",8,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",7]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",5,1],[/<!DOCTYPE/g,"sh_preproc",6,1],[/<!--/g,"sh_comment",7],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",8,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",8,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.python=[[[/\b(?:import|from)\b/g,"sh_preproc",-1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/\b(?:and|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|global|if|in|is|lambda|not|or|pass|print|raise|return|try|while)\b/g,"sh_keyword",-1],[/^(?:[\s]*'{3})/g,"sh_comment",2],[/^(?:[\s]*\"{3})/g,"sh_comment",3],[/^(?:[\s]*'(?:[^\\']|\\.)*'[\s]*|[\s]*\"(?:[^\\\"]|\\.)*\"[\s]*)$/g,"sh_comment",-1],[/(?:[\s]*'{3})/g,"sh_string",4],[/(?:[\s]*\"{3})/g,"sh_string",5],[/"/g,"sh_string",6],[/'/g,"sh_string",7],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\||\{|\}/g,"sh_symbol",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/(?:'{3})/g,"sh_comment",-2]],[[/(?:\"{3})/g,"sh_comment",-2]],[[/(?:'{3})/g,"sh_string",-2]],[[/(?:\"{3})/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]]],this.sh_languages||(this.sh_languages={}),sh_languages.ruby=[[[/\b(?:require)\b/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",1],[/'/g,"sh_string",2],[/</g,"sh_string",3],[/\/[^\n]*\//g,"sh_regexp",-1],[/(%r)(\{(?:\\\}|#\{[A-Za-z0-9]+\}|[^}])*\})/g,["sh_symbol","sh_regexp"],-1],[/\b(?:alias|begin|BEGIN|break|case|defined|do|else|elsif|end|END|ensure|for|if|in|include|loop|next|raise|redo|rescue|retry|return|super|then|undef|unless|until|when|while|yield|false|nil|self|true|__FILE__|__LINE__|and|not|or|def|class|module|catch|fail|load|throw)\b/g,"sh_keyword",-1],[/(?:^\=begin)/g,"sh_comment",4],[/(?:\$[#]?|@@|@)(?:[A-Za-z0-9_]+|'|\"|\/)/g,"sh_type",-1],[/[A-Za-z0-9]+(?:\?|!)/g,"sh_normal",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/(#)(\{)/g,["sh_symbol","sh_cbracket"],-1],[/#/g,"sh_comment",5],[/\{|\}/g,"sh_cbracket",-1]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/^(?:\=end)/g,"sh_comment",-2]],[[/$/g,null,-2]]],this.sh_languages||(this.sh_languages={}),sh_languages.sql=[[[/\b(?:VARCHAR|TINYINT|TEXT|DATE|SMALLINT|MEDIUMINT|INT|BIGINT|FLOAT|DOUBLE|DECIMAL|DATETIME|TIMESTAMP|TIME|YEAR|UNSIGNED|CHAR|TINYBLOB|TINYTEXT|BLOB|MEDIUMBLOB|MEDIUMTEXT|LONGBLOB|LONGTEXT|ENUM|BOOL|BINARY|VARBINARY)\b/gi,"sh_type",-1],[/\b(?:ALL|ASC|AS|ALTER|AND|ADD|AUTO_INCREMENT|BETWEEN|BINARY|BOTH|BY|BOOLEAN|CHANGE|CHECK|COLUMNS|COLUMN|CROSS|CREATE|DATABASES|DATABASE|DATA|DELAYED|DESCRIBE|DESC|DISTINCT|DELETE|DROP|DEFAULT|ENCLOSED|ESCAPED|EXISTS|EXPLAIN|FIELDS|FIELD|FLUSH|FOR|FOREIGN|FUNCTION|FROM|GROUP|GRANT|HAVING|IGNORE|INDEX|INFILE|INSERT|INNER|INTO|IDENTIFIED|IN|IS|IF|JOIN|KEYS|KILL|KEY|LEADING|LIKE|LIMIT|LINES|LOAD|LOCAL|LOCK|LOW_PRIORITY|LEFT|LANGUAGE|MODIFY|NATURAL|NOT|NULL|NEXTVAL|OPTIMIZE|OPTION|OPTIONALLY|ORDER|OUTFILE|OR|OUTER|ON|PROCEDURE|PROCEDURAL|PRIMARY|READ|REFERENCES|REGEXP|RENAME|REPLACE|RETURN|REVOKE|RLIKE|RIGHT|SHOW|SONAME|STATUS|STRAIGHT_JOIN|SELECT|SETVAL|SET|TABLES|TERMINATED|TO|TRAILING|TRUNCATE|TABLE|TEMPORARY|TRIGGER|TRUSTED|UNIQUE|UNLOCK|USE|USING|UPDATE|VALUES|VARIABLES|VIEW|WITH|WRITE|WHERE|ZEROFILL|TYPE|XOR)\b/gi,"sh_keyword",-1],[/"/g,"sh_string",1],[/'/g,"sh_string",2],[/`/g,"sh_string",3],[/#/g,"sh_comment",4],[/\/\/\//g,"sh_comment",5],[/\/\//g,"sh_comment",4],[/\/\*\*/g,"sh_comment",11],[/\/\*/g,"sh_comment",12],[/--/g,"sh_comment",4],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/`/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/$/g,null,-2]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",6,1],[/<!DOCTYPE/g,"sh_preproc",8,1],[/<!--/g,"sh_comment",9],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",10,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",10,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",9]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",6,1],[/<!DOCTYPE/g,"sh_preproc",8,1],[/<!--/g,"sh_comment",9],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",10,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",10,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.url=[[{regex:/(?:<?)[A-Za-z0-9_\.\/\-_]+@[A-Za-z0-9_\.\/\-_]+(?:>?)/g,style:"sh_url"},{regex:/(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_]+(?:>?)/g,style:"sh_url"}]],this.sh_languages||(this.sh_languages={}),sh_languages.xml=[[[/<\?xml/g,"sh_preproc",1,1],[/<!DOCTYPE/g,"sh_preproc",3,1],[/<!--/g,"sh_comment",4],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",5,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",4]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]]],define("jquerySnippet",["jqueryMigrate"],function(){}),function(e,t){e.widget("mobile.simpledialog2",e.mobile.widget,{options:{version:"1.0.1-2012061300",mode:"blank",themeDialog:"b",themeInput:!1,themeButtonDefault:!1,themeHeader:"a",fullScreen:!1,fullScreenForce:!1,dialogAllow:!1,dialogForce:!1,headerText:!1,headerClose:!1,buttonPrompt:!1,buttonInput:!1,buttonInputDefault:!1,buttonPassword:!1,blankContent:!1,blankContentAdopt:!1,resizeListener:!0,safeNuke:!0,forceInput:!0,showModal:!0,animate:!0,transition:"pop",clickEvent:"click",zindex:"500",width:"280px",left:!1,top:!1,callbackOpen:!1,callbackOpenArgs:[],callbackClose:!1,callbackCloseArgs:[]},_eventHandler:function(e,t){var n=e.data.widget,r=e.data.widget.options;if(!e.isPropagationStopped())switch(t.method){case"close":n.close();break;case"html":n.updateBlank(t.source)}},_create:function(){var t=this,n=e.extend(this.options,this.element.jqmData("options")),r=new Date,i=e("<div class='ui-simpledialog-container ui-overlay-shadow ui-corner-all ui-simpledialog-hidden "+(n.animate===!0?n.transition:"")+" ui-body-"+n.themeDialog+"'></div>");n.themeButtonDefault===!1&&(n.themeButtonDefault=n.themeDialog),n.themeInput===!1&&(n.themeInput=n.themeDialog),e.mobile.sdCurrentDialog=t,typeof e.mobile.sdLastInput!="undefined"&&delete e.mobile.sdLastInput,t.internalID=r.getTime(),t.displayAnchor=e.mobile.activePage.children(".ui-content").first(),t.displayAnchor.length===0&&(t.displayAnchor=e.mobile.activePage),t.dialogPage=e("<div data-role='dialog' data-theme='"+n.themeDialog+"'><div data-role='header'></div><div data-role='content'></div></div>"),t.sdAllContent=t.dialogPage.find("[data-role=content]"),i.appendTo(t.sdAllContent),t.sdIntContent=t.sdAllContent.find(".ui-simpledialog-container"),t.sdIntContent.css("width",n.width);if(n.headerText!==!1||n.headerClose!==!1)t.sdHeader=e('<div style="margin-bottom: 4px;" class="ui-header ui-bar-'+n.themeHeader+'"></div>'),n.headerClose===!0&&e("<a class='ui-btn-left' rel='close' href='#'>Close</a>").appendTo(t.sdHeader).buttonMarkup({theme:n.themeHeader,icon:"delete",iconpos:"notext",corners:!0,shadow:!0}),e('<h1 class="ui-title">'+(n.headerText!==!1?n.headerText:"")+"</h1>").appendTo(t.sdHeader),t.sdHeader.appendTo(t.sdIntContent);n.mode==="blank"?(n.blankContent===!0&&(n.blankContentAdopt===!0?n.blankContent=t.element.children():n.blankContent=t.element.html()),e(n.blankContent).appendTo(t.sdIntContent)):n.mode==="button"&&t._makeButtons().appendTo(t.sdIntContent),t.sdIntContent.appendTo(t.displayAnchor.parent()),t.dialogPage.appendTo(e.mobile.pageContainer).page().css("minHeight","0px").css("zIndex",n.zindex),n.animate===!0&&t.dialogPage.addClass(n.transition),t.screen=e("<div>",{"class":"ui-simpledialog-screen ui-simpledialog-hidden"}).css("z-index",n.zindex-1).appendTo(t.displayAnchor.parent()).bind(n.clickEvent,function(e){n.forceInput||t.close(),e.preventDefault()}),n.showModal&&t.screen.addClass("ui-simpledialog-screen-modal"),e(document).bind("simpledialog."+t.internalID,{widget:t},function(e,n){t._eventHandler(e,n)})},_makeButtons:function(){var t=this,n=t.options,r=e("<div></div>"),i=e("<div class='ui-simpledialog-controls'><input class='ui-simpledialog-input ui-input-text ui-shadow-inset ui-corner-all ui-body-"+n.themeInput+"' type='"+(n.buttonPassword===!0?"password":"text")+"' value='"+(n.buttonInputDefault!==!1?n.buttonInputDefault.replace('"',"&#34;").replace("'","&#39;"):"")+"' name='pickin' /></div>"),s=e("<div>",{"class":"ui-simpledialog-controls"});return n.buttonPrompt!==!1&&(t.buttonPromptText=e("<p class='ui-simpledialog-subtitle'>"+n.buttonPrompt+"</p>").appendTo(r)),n.buttonInput!==!1&&(e.mobile.sdLastInput="",i.appendTo(r),i.find("input").bind("change",function(){e.mobile.sdLastInput=i.find("input").first().val(),t.thisInput=i.find("input").first().val()})),s.appendTo(r),t.butObj=[],e.each(n.buttons,function(r,i){i=e.isFunction(i)?{click:i}:i,i=e.extend({text:r,id:r+t.internalID,theme:n.themeButtonDefault,icon:"check",iconpos:"left",corners:"true",shadow:"true",args:[],close:!0},i),t.butObj.push(e("<a href='#'>"+r+"</a>").appendTo(s).attr("id",i.id).buttonMarkup({theme:i.theme,icon:i.icon,iconpos:i.iconpos,corners:i.corners,shadow:i.shadow}).unbind("vclick click").bind(n.clickEvent,function(){n.buttonInput&&t.sdIntContent.find("input [name=pickin]").trigger("change");var r=i.click.apply(t,e.merge(arguments,i.args));r!==!1&&i.close===!0&&t.close()}))}),r},_getCoords:function(t){var n=t,r=e.mobile.activePage.width(),i=e(window).scrollTop(),s=e(window).height(),o=t.sdIntContent.innerWidth(),u=t.sdIntContent.outerHeight(),a={high:e(window).height(),width:e.mobile.activePage.width(),fullTop:e(window).scrollTop(),fullLeft:e(window).scrollLeft(),winTop:i+(t.options.top!==!1?t.options.top:s/2-u/2),winLeft:t.options.left!==!1?t.options.left:r/2-o/2};return a.winTop<45&&(a.winTop=45),a},_orientChange:function(e){var t=e.data.widget,n=e.data.widget.options,r=e.data.widget._getCoords(e.data.widget);e.stopPropagation();if(t.isDialog===!0)return!0;n.fullScreen===!0&&(r.width<400||n.fullScreenForce===!0)?t.sdIntContent.css({border:"none",position:"absolute",top:r.fullTop,left:r.fullLeft,height:r.high,width:r.width,maxWidth:r.width}).removeClass("ui-simpledialog-hidden"):t.sdIntContent.css({position:"absolute",top:r.winTop,left:r.winLeft}).removeClass("ui-simpledialog-hidden")},repos:function(){var e={data:{widget:this},stopPropagation:function(){return!0}};this._orientChange(e)},open:function(){var t=this,n=this.options,r=this._getCoords(this);t.sdAllContent.find(".ui-btn-active").removeClass("ui-btn-active"),t.sdIntContent.delegate("[rel=close]",n.clickEvent,function(e){e.preventDefault(),t.close()}),n.dialogAllow===!0&&r.width<400||n.dialogForce?(t.isDialog=!0,n.mode==="blank"&&t.sdIntContent.find("select").each(function(){e(this).jqmData("nativeMenu",!0)}),t.displayAnchor.parent().unbind("pagehide.remove"),t.sdAllContent.append(t.sdIntContent),t.sdAllContent.trigger("create"),n.headerText!==!1&&(t.sdHeader.find("h1").appendTo(t.dialogPage.find("[data-role=header]")),t.sdIntContent.find(".ui-header").empty().removeClass()),n.headerClose===!0?t.dialogPage.find(".ui-header a").bind("click",function(){setTimeout("$.mobile.sdCurrentDialog.destroy();",1e3)}):t.dialogPage.find(".ui-header a").remove(),t.sdIntContent.removeClass().css({top:"auto",width:"auto",left:"auto",marginLeft:"auto",marginRight:"auto",zIndex:n.zindex}),e.mobile.changePage(t.dialogPage,{transition:n.animate===!0?n.transition:"none"})):(t.isDialog=!1,t.selects=[],n.fullScreen===!1&&(n.showModal===!0&&n.animate===!0?t.screen.fadeIn("slow"):t.screen.removeClass("ui-simpledialog-hidden")),t.sdIntContent.addClass("ui-overlay-shadow in").css("zIndex",n.zindex).trigger("create"),n.fullScreen===!0&&(r.width<400||n.fullScreenForce===!0)?t.sdIntContent.removeClass("ui-simpledialog-container").css({border:"none",position:"absolute",top:r.fullTop,left:r.fullLeft,height:r.high,width:r.width,maxWidth:r.width}).removeClass("ui-simpledialog-hidden"):t.sdIntContent.css({position:"absolute",top:r.winTop,left:r.winLeft}).removeClass("ui-simpledialog-hidden"),e(document).bind("orientationchange.simpledialog",{widget:t},function(e){t._orientChange(e)}),n.resizeListener===!0&&e(window).bind("resize.simpledialog",{widget:t},function(e){t._orientChange(e)})),e.isFunction(n.callbackOpen)&&n.callbackOpen.apply(t,n.callbackOpenArgs)},close:function(){var t=this,n=this.options,r;if(e.isFunction(t.options.callbackClose)){r=t.options.callbackClose.apply(t,t.options.callbackCloseArgs);if(r===!1)return!1}t.isDialog?(e(t.dialogPage).dialog("close"),t.sdIntContent.addClass("ui-simpledialog-hidden"),t.sdIntContent.appendTo(t.displayAnchor.parent()),e.mobile.activePage.jqmData("page").options.domCache!=1&&e.mobile.activePage.is(":jqmData(external-page='true')")&&e.mobile.activePage.bind("pagehide.remove",function(){e(this).remove()})):(t.options.showModal===!0&&t.options.animate===!0?t.screen.fadeOut("slow"):t.screen.addClass("ui-simpledialog-hidden"),t.sdIntContent.addClass("ui-simpledialog-hidden").removeClass("in"),e(document).unbind("orientationchange.simpledialog"),t.options.resizeListener===!0&&e(window).unbind("resize.simpledialog")),n.mode==="blank"&&n.blankContent!==!1&&n.blankContentAdopt===!0&&(t.element.append(n.blankContent),n.blankContent=!0),t.isDialog===!0||t.options.animate===!0?setTimeout(function(e){return function(){e.destroy()}}(t),1e3):t.destroy()},destroy:function(){var t=this,n=t.element;t.options.mode==="blank"&&e.mobile.sdCurrentDialog.sdIntContent.find("select").each(function(){e(this).data("nativeMenu")==0&&(e(this).data("selectmenu").menuPage.remove(),e(this).data("selectmenu").screen.remove(),e(this).data("selectmenu").listbox.remove())}),e(t.sdIntContent).remove(),e(t.dialogPage).remove(),e(t.screen).remove(),e(document).unbind("simpledialog."+t.internalID),delete e.mobile.sdCurrentDialog,e.Widget.prototype.destroy.call(t),t.options.safeNuke===!0&&e(n).parents().length===0&&e(n).contents().length===0&&n.remove()},updateBlank:function(t){var n=this,r=this.options;n.sdIntContent.empty();if(r.headerText!==!1||r.headerClose!==!1)n.sdHeader=e('<div class="ui-header ui-bar-'+r.themeHeader+'"></div>'),r.headerClose===!0&&e("<a class='ui-btn-left' rel='close' href='#'>Close</a>").appendTo(n.sdHeader).buttonMarkup({theme:r.themeHeader,icon:"delete",iconpos:"notext",corners:!0,shadow:!0}),e('<h1 class="ui-title">'+(r.headerText!==!1?r.headerText:"")+"</h1>").appendTo(n.sdHeader),n.sdHeader.appendTo(n.sdIntContent);e(t).appendTo(n.sdIntContent),n.sdIntContent.trigger("create"),e(document).trigger("orientationchange.simpledialog")},_init:function(){this.open()}})}(jQuery),define("jqueryMobileSimpledialog2",["jqueryMobile"],function(){}),window.gapi={fetch:function(e){window.jsessionCookie=window.jsessionCookie||getCookie("JSESSIONID");if(typeof window.jsessionCookie=="undefined"||window.jsessionCookie==null)throw"Empty JSESSION ID";return e=e||{},e.data=e.data||{},_.extend(e.data,{JSESSIONID:window.jsessionCookie,ht:1,tb:1}),e.method="GET",e.dataType="json",Backbone.ajax(e)},changePassword:function(e,t){return $.ajax({url:gapi_config.baseApiUrl+gapi_config.changePassword,type:"POST",data:e,success:function(e){t&&t(e,"success")},error:function(e){t&&t(e,"error")}})},loginHandler:function(e,t){return $.ajax({url:gapi_config.baseApiUrl+gapi_config.loginUrl,type:"POST",xhrFields:{withCredentials:!0},data:e,success:function(e){var n;e.indexOf("SUCCESS")>=0?n=0:e.indexOf("FAILED")>=0?n=1:e.indexOf("CHANGE PASSWORD")>=0?n=2:e.indexOf("SINGLE_USER_CONCURRENT_ACCESS")>=0?n=4:n=3,typeof t=="function"&&t(n,e)},error:function(e){typeof t=="function"&&t(-1,e)}})},logoutHandler:function(e){return $.get(gapi_config.baseApiUrl+gapi_config.logoutUrl,e)}},define("gapi",["gapiConfig"],function(){}),window.GenericHeader=GenericElementView.extend({attributes:{"data-role":"header","data-position":"fixed","data-theme":"e","data-tap-toggle":"false","class":"header-generic"},templateName:"partial/header-generic"}),window.LoginPage=GenericPage.extend({pageId:"login",attributes:{"data-theme":"d"},events:{pageinit:"pageInitHandler"},initialize:function(){GenericPage.prototype.initialize.apply(this,arguments),this.loginHeader=new ActionHeader({enableActionMenu:!1}),this.loginHeader.mainContents.push(new GenericHeader),this.headers.push(this.loginHeader),this.footer=_.template(tpl.get("partial/footer-login")),this.loginForm=new GenericElementView({tagName:"form",attributes:{id:"form-login",method:"post",action:gapi_config.baseApiUrl+gapi_config.loginUrl},templateName:"partial/form-login",loginHeaderText:$.i18n.prop("login.header"),usernameLabel:$.i18n.prop("label.login.usename"),passwordLabel:$.i18n.prop("label.login.password"),btnLogin:$.i18n.prop("button.login")}),this.mainContents.push(this.loginForm)},pageInitHandler:function(){this.loginForm.$el.find("input").each(function(){$(this).parent().removeClass("ui-corner-all")});var e=this;this.loginForm.$el.submit(function(){return e.doLogin()})},doLogin:function(){console.log("do login");var e=this,t=this.loginForm.$el;if(t.loggingIn||!t.valid())return!1;$.mobile.showPageLoadingMsg("",$.i18n.prop("message.login.processing")),sessionStorage.clear(),t.loggingIn=!0;var n={j_username:t.find('input[name="j_username"]').val(),j_password:t.find('input[name="j_password"]').val()};return this.loginXhr=gapi.loginHandler(n,function(e,r){$.mobile.hidePageLoadingMsg(),t.loggingIn=!1;switch(e){case-1:$("#form-login-error").text($.i18n.prop("message.login.error.server.does.not.accept")).show();break;case 0:$("#form-login-error").hide(),app.navigate("messages");break;case 1:$("#form-login-error").text($.i18n.prop("message.login.error.account.incorrect")).show();break;case 2:$("#form-login-error").hide(),app.navigate(String.format("change-password/{0}",n.j_username));break;case 4:$("#form-login-error").text($.i18n.prop("message.login.single.concurrent.login.attempt")).show()}}),!1}}),window.NotFoundPage=GenericPage.extend({initialize:function(){GenericPage.prototype.initialize.apply(this,arguments),this.prepareContent()},prepareContent:function(){this.messageContent=new GenericElementView({templateName:"partial/not-found",pageNotFoundMessage:$.i18n.prop("message.404"),btnHome:$.i18n.prop("message.404.goToHome"),btnBack:$.i18n.prop("message.404.back")}),this.mainContents.push(this.messageContent),this.messageContent.$el.on("click :button",function(e){var t=$(e.target).data("type");return t=="home"?app.navigate("home"):t=="back"&&window.history.back(),!1})}}),window.LogoutPage=BasePage.extend({attributes:{"class":"ui-responsive-panel","data-theme":"d"},initialize:function(){this.menuIndex=3,BasePage.prototype.initialize.apply(this,arguments),this.pageId="logout",this.prepareData()},prepareData:function(){this.logoutTempate=new GenericElementView({templateName:"partial/logout",tagName:"form",attributes:{id:"form-login",method:"post",action:gapi_config.baseApiUrl+gapi_config.logoutUrl},logoutText:$.i18n.prop("logout.textlabel"),btnLogout:$.i18n.prop("logout.btnlogout"),btnCancel:$.i18n.prop("logout.btncancel")}),this.mainContents.push(this.logoutTempate),this.logoutTempate.$el.on("click :button",function(e){var t=this,n=$(e.target).data("type");return n=="logout"?(gapi.logoutHandler(),app.reset()):n=="cancel"&&window.history.back(),!1})},updateLoginDetails:function(){window.loginDetails.attributes.authorised&&(this.menuIndex=4),BasePage.prototype.updateLoginDetails.apply(this,arguments)}}),window.ApiConfig=GenericPage.extend({pageId:"login",attributes:{"data-theme":"d"},events:{pageinit:"pageInitHandler"},initialize:function(){GenericPage.prototype.initialize.apply(this,arguments),this.loginHeader=new GenericElementView({templateName:"partial/header-login",attributes:{"data-role":"header","data-position":"fixed","data-theme":"f","data-tap-toggle":"false"}}),this.headers=[this.loginHeader],this.footer=_.template(tpl.get("partial/footer-login")),this.configForm=new GenericElementView(_.extend({tagName:"form",templateName:"partial/configuration"},foapi_config)),this.mainContents.push(this.configForm)},pageInitHandler:function(){var e=this;this.configForm.$el.find("button").click(function(t){var n=$(t.currentTarget).data("type");return n=="save"&&e.saveConfiguration(),app.navigate("login/config",{trigger:!0}),!1})},saveConfiguration:function(){this.configForm.$el.find("input").each(function(){foapi_config[this.name]=this.value})}}),window.Dialog={showMessage:function(e,t){typeof t!="undefined"&&(e=String.format("<pre>{0}</pre>",e));var n=_.template(tpl.get("partial/message-notification"));$(document).simpledialog2({mode:"blank",zindex:1500,blankContent:n({messageContent:e,ftnClose:$.i18n.prop("button.close")}),callbackOpen:function(){typeof t!="undefined"&&this.element.find("pre").snippet(t)}})}},define("commonPage",["basePage","commonView","jquerySnippet","jqueryMobileSimpledialog2","gapi"],function(){}),function(k){function n(e,t){k.ajax({url:e,async:!1,cache:t.cache,contentType:"text/plain;charset="+t.encoding,dataType:"text",success:function(e){r(e,t.mode)}})}function r(c,a){for(var b="",e=c.split(/\n/),d=/(\{\d+\})/g,q=/\{(\d+)\}/g,m=/(\\u.{4})/ig,f=0;f<e.length;f++)if(e[f]=e[f].replace(/^\s\s*/,"").replace(/\s\s*$/,""),e[f].length>0&&e[f].match("^#")!="#"){var g=e[f].split("=");if(g.length>0){for(var o=unescape(g[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),h=g.length==1?"":g[1];h.match(/\\$/)=="\\";)h=h.substring(0,h.length-1),h+=e[++f].replace(/\s\s*$/,"");for(var l=2;l<g.length;l++)h+="="+g[l];h=h.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(a=="map"||a=="both"){if(g=h.match(m))for(l=0;l<g.length;l++)h=h.replace(g[l],s(g[l]));k.i18n.map[o]=h}if(a=="vars"||a=="both")if(h=h.replace(/"/g,'\\"'),t(o),d.test(h)){for(var g=h.split(d),l=!0,j="",n=[],p=0;p<g.length;p++)d.test(g[p])&&(n.length==0||n.indexOf(g[p])==-1)&&(l||(j+=","),j+=g[p].replace(q,"v$1"),n.push(g[p]),l=!1);b+=o+"=function("+j+"){",o='"'+h.replace(q,'"+v$1+"')+'"',b+="return "+o+";};"}else b+=o+'="'+h+'";'}}eval(b)}function t(c){if(/\./.test(c))for(var a="",c=c.split(/\./),b=0;b<c.length;b++)b>0&&(a+="."),a+=c[b],eval("typeof "+a+' == "undefined"')&&eval(a+"={};")}function s(e){var t=[],e=parseInt(e.substr(2),16);e>=0&&e<Math.pow(2,16)&&t.push(e);for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}k.i18n={},k.i18n.map={},k.i18n.properties=function(e){e=k.extend({name:"Messages",language:"",path:"",mode:"vars",cache:!1,encoding:"UTF-8",callback:null},e);if(e.language===null||e.language=="")e.language=k.i18n.browserLang();e.language===null&&(e.language="");var t=e.name&&e.name.constructor==Array?e.name:[e.name];for(i=0;i<t.length;i++)n(e.path+t[i]+".properties",e),e.language.length>=2&&n(e.path+t[i]+"_"+e.language.substring(0,2)+".properties",e),e.language.length>=5&&n(e.path+t[i]+"_"+e.language.substring(0,5)+".properties",e);e.callback&&e.callback()},k.i18n.prop=function(e){var t=k.i18n.map[e];if(t==null)return"["+e+"]";var n;if(typeof t=="string"){for(n=0;(n=t.indexOf("\\",n))!=-1;)t=t[n+1]=="t"?t.substring(0,n)+"	"+t.substring(n++ +2):t[n+1]=="r"?t.substring(0,n)+"\r"+t.substring(n++ +2):t[n+1]=="n"?t.substring(0,n)+"\n"+t.substring(n++ +2):t[n+1]=="f"?t.substring(0,n)+"\f"+t.substring(n++ +2):t[n+1]=="\\"?t.substring(0,n)+"\\"+t.substring(n++ +2):t.substring(0,n)+t.substring(n+1);var r=[],i,s;for(n=0;n<t.length;)if(t[n]=="'")if(n==t.length-1)t=t.substring(0,n);else if(t[n+1]=="'")t=t.substring(0,n)+t.substring(++n);else{for(i=n+2;(i=t.indexOf("'",i))!=-1;){if(i==t.length-1||t[i+1]!="'"){t=t.substring(0,n)+t.substring(n+1,i)+t.substring(i+1),n=i-1;break}t=t.substring(0,i)+t.substring(++i)}i==-1&&(t=t.substring(0,n)+t.substring(n+1))}else if(t[n]=="{")if(i=t.indexOf("}",n+1),i==-1)n++;else if(s=parseInt(t.substring(n+1,i)),!isNaN(s)&&s>=0){var o=t.substring(0,n);o!=""&&r.push(o),r.push(s),n=0,t=t.substring(i+1)}else n=i+1;else n++;t!=""&&r.push(t),t=r,k.i18n.map[e]=r}if(t.length==0)return"";if(t.lengh==1&&typeof t[0]=="string")return t[0];o="";for(n=0;n<t.length;n++)o+=typeof t[n]=="string"?t[n]:t[n]+1<arguments.length?arguments[t[n]+1]:"{"+t[n]+"}";return o},k.i18n.browserLang=function(){var e=navigator.language||navigator.userLanguage,e=e.toLowerCase();return e.length>3&&(e=e.substring(0,3)+e.substring(3).toUpperCase()),e};var j;j||(j=function(e,t,n){if(Object.prototype.toString.call(t)!=="[object RegExp]")return typeof j._nativeSplit=="undefined"?e.split(t,n):j._nativeSplit.call(e,t,n);var r=[],i=0,s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":""),t=RegExp(t.source,s+"g"),o,u,a;e+="",j._compliantExecNpcg||(o=RegExp("^"+t.source+"$(?!\\s)",s));if(n===void 0||+n<0)n=Infinity;else if(n=Math.floor(+n),!n)return[];for(;u=t.exec(e);){s=u.index+u[0].length;if(s>i&&(r.push(e.slice(i,u.index)),!j._compliantExecNpcg&&u.length>1&&u[0].replace(o,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===void 0&&(u[e]=void 0)}),u.length>1&&u.index<e.length&&Array.prototype.push.apply(r,u.slice(1)),a=u[0].length,i=s,r.length>=n))break;t.lastIndex===u.index&&t.lastIndex++}return i===e.length?(a||!t.test(""))&&r.push(""):r.push(e.slice(i)),r.length>n?r.slice(0,n):r},j._compliantExecNpcg=/()??/.exec("")[1]===void 0,j._nativeSplit=String.prototype.split),String.prototype.split=function(e,t){return j(this,e,t)}}(jQuery),define("jqueryi18n",["jquery"],function(){}),function(){function e(e){function a(i,a){var l,h,m=i==window,g=a&&a.message!==undefined?a.message:undefined;a=e.extend({},e.blockUI.defaults,a||{});if(a.ignoreIfBlocked&&e(i).data("blockUI.isBlocked"))return;a.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,a.overlayCSS||{}),l=e.extend({},e.blockUI.defaults.css,a.css||{}),a.onOverlayClick&&(a.overlayCSS.cursor="pointer"),h=e.extend({},e.blockUI.defaults.themedCSS,a.themedCSS||{}),g=g===undefined?a.message:g,m&&o&&f(window,{fadeOut:0});if(g&&typeof g!="string"&&(g.parentNode||g.jquery)){var y=g.jquery?g[0]:g,b={};e(i).data("blockUI.history",b),b.el=y,b.parent=y.parentNode,b.display=y.style.display,b.position=y.style.position,b.parent&&b.parent.removeChild(y)}e(i).data("blockUI.onUnblock",a.onUnblock);var w=a.baseZ,E,S,x,T;n||a.forceIframe?E=e('<iframe class="blockUI" style="z-index:'+w++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+a.iframeSrc+'"></iframe>'):E=e('<div class="blockUI" style="display:none"></div>'),a.theme?S=e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+w++ +';display:none"></div>'):S=e('<div class="blockUI blockOverlay" style="z-index:'+w++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),a.theme&&m?(T='<div class="blockUI '+a.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(w+10)+';display:none;position:fixed">',a.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(a.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):a.theme?(T='<div class="blockUI '+a.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(w+10)+';display:none;position:absolute">',a.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(a.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):m?T='<div class="blockUI '+a.blockMsgClass+' blockPage" style="z-index:'+(w+10)+';display:none;position:fixed"></div>':T='<div class="blockUI '+a.blockMsgClass+' blockElement" style="z-index:'+(w+10)+';display:none;position:absolute"></div>',x=e(T),g&&(a.theme?(x.css(h),x.addClass("ui-widget-content")):x.css(l)),a.theme||S.css(a.overlayCSS),S.css("position",m?"fixed":"absolute"),(n||a.forceIframe)&&E.css("opacity",0);var N=[E,S,x],C=m?e("body"):e(i);e.each(N,function(){this.appendTo(C)}),a.theme&&a.draggable&&e.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var k=s&&(!e.support.boxModel||e("object,embed",m?null:i).length>0);if(r||k){m&&a.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%");if((r||!e.support.boxModel)&&!m)var L=v(i,"borderTopWidth"),A=v(i,"borderLeftWidth"),O=L?"(0 - "+L+")":0,M=A?"(0 - "+A+")":0;e.each(N,function(e,t){var n=t[0].style;n.position="absolute";if(e<2)m?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+a.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),m?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),M&&n.setExpression("left",M),O&&n.setExpression("top",O);else if(a.centerY)m&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!a.centerY&&m){var r=a.css&&a.css.top?parseInt(a.css.top,10):0,i="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"';n.setExpression("top",i)}})}g&&(a.theme?x.find(".ui-widget-content").append(g):x.append(g),(g.jquery||g.nodeType)&&e(g).show()),(n||a.forceIframe)&&a.showOverlay&&E.show();if(a.fadeIn){var _=a.onBlock?a.onBlock:t,D=a.showOverlay&&!g?_:t,P=g?_:t;a.showOverlay&&S._fadeIn(a.fadeIn,D),g&&x._fadeIn(a.fadeIn,P)}else a.showOverlay&&S.show(),g&&x.show(),a.onBlock&&a.onBlock();c(1,i,a),m?(o=x[0],u=e(":input:enabled:visible",o),a.focusInput&&setTimeout(p,20)):d(x[0],a.centerX,a.centerY);if(a.timeout){var H=setTimeout(function(){m?e.unblockUI(a):e(i).unblock(a)},a.timeout);e(i).data("blockUI.timeout",H)}}function f(t,n){var r,i=t==window,s=e(t),a=s.data("blockUI.history"),f=s.data("blockUI.timeout");f&&(clearTimeout(f),s.removeData("blockUI.timeout")),n=e.extend({},e.blockUI.defaults,n||{}),c(0,t,n),n.onUnblock===null&&(n.onUnblock=s.data("blockUI.onUnblock"),s.removeData("blockUI.onUnblock"));var h;i?h=e("body").children().filter(".blockUI").add("body > .blockUI"):h=s.find(">.blockUI"),n.cursorReset&&(h.length>1&&(h[1].style.cursor=n.cursorReset),h.length>2&&(h[2].style.cursor=n.cursorReset)),i&&(o=u=null),n.fadeOut?(r=h.length,h.fadeOut(n.fadeOut,function(){--r===0&&l(h,a,n,t)})):l(h,a,n,t)}function l(t,n,r,i){var s=e(i);t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),n&&n.el&&(n.el.style.display=n.display,n.el.style.position=n.position,n.parent&&n.parent.appendChild(n.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),typeof r.onUnblock=="function"&&r.onUnblock(i,r);var o=e(document.body),u=o.width(),a=o[0].style.width;o.width(u-1).width(u),o[0].style.width=a}function c(t,n,r){var i=n==window,s=e(n);if(!t&&(i&&!o||!i&&!s.data("blockUI.isBlocked")))return;s.data("blockUI.isBlocked",t);if(!i||!r.bindEvents||t&&!r.showOverlay)return;var u="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(u,r,h):e(document).unbind(u,h)}function h(t){if(t.keyCode&&t.keyCode==9&&o&&t.data.constrainTabKey){var n=u,r=!t.shiftKey&&t.target===n[n.length-1],i=t.shiftKey&&t.target===n[0];if(r||i)return setTimeout(function(){p(i)},10),!1}var s=t.data,a=e(t.target);return a.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(),a.parents("div."+s.blockMsgClass).length>0?!0:a.parents().children().filter("div.blockUI").length===0}function p(e){if(!u)return;var t=u[e===!0?u.length-1:0];t&&t.focus()}function d(e,t,n){var r=e.parentNode,i=e.style,s=(r.offsetWidth-e.offsetWidth)/2-v(r,"borderLeftWidth"),o=(r.offsetHeight-e.offsetHeight)/2-v(r,"borderTopWidth");t&&(i.left=s>0?s+"px":"0"),n&&(i.top=o>0?o+"px":"0")}function v(t,n){return parseInt(e.css(t,n),10)||0}e.fn._fadeIn=e.fn.fadeIn;var t=e.noop||function(){},n=/MSIE/.test(navigator.userAgent),r=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),i=document.documentMode||0,s=e.isFunction(document.createElement("div").style.setExpression);e.blockUI=function(e){a(window,e)},e.unblockUI=function(e){f(window,e)},e.growlUI=function(t,n,r,i){var s=e('<div class="growlUI"></div>');t&&s.append("<h1>"+t+"</h1>"),n&&s.append("<h2>"+n+"</h2>"),r===undefined&&(r=3e3),e.blockUI({message:s,fadeIn:700,fadeOut:1e3,centerY:!1,timeout:r,showOverlay:!1,onUnblock:i,css:e.blockUI.defaults.growlCSS})},e.fn.block=function(t){if(this[0]===window)return e.blockUI(t),this;var n=e.extend({},e.blockUI.defaults,t||{});return this.each(function(){var t=e(this);if(n.ignoreIfBlocked&&t.data("blockUI.isBlocked"))return;t.unblock({fadeOut:0})}),this.each(function(){e.css(this,"position")=="static"&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,a(this,t)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){f(this,t)})},e.blockUI.version=2.59,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var o=null,u=[]}typeof define=="function"&&define.amd&&define.amd.jQuery?define("jqueryBlockUI",["jquery"],e):e(jQuery)}(),window.GApiModel=Backbone.Model.extend({url:function(){var e="";this.id&&(e+="/"+this.id);if(this.parent){var t=_.result(this.parent,"url");return this.parent.id?t+"/"+this.parent.id+this.apiUrl+e:t+this.apiUrl+e}return gapi_config.baseApiUrl+this.apiUrl+e},constructor:function(e){e&&(this.parent=e.parent),Backbone.Model.prototype.constructor.apply(this,arguments)}}),window.GApiCollection=Backbone.Collection.extend({url:function(){var e="";this.id&&(e+="/"+this.id);if(this.parent){var t=_.result(this.parent,"url");return this.parent.id?t+"/"+this.parent.id+this.apiUrl+e:t+this.apiUrl+e}return gapi_config.baseApiUrl+this.apiUrl+e},constructor:function(e,t){t&&(this.parent=t.parent),Backbone.Collection.prototype.constructor.apply(this,arguments)}}),window.GApiStandaloneModel=window.GApiModel.extend({url:function(){return gapi_config.baseApiUrl+this.apiUrl},fetch:function(e){return e.data=e.data||{},this.parent&&(e.data[this.parent.idAttribute]=this.parent.id),this.id&&(e.data[this.idAttribute]=this.id),GApiModel.prototype.fetch.apply(this,arguments)}}),window.GApiStandaloneCollection=window.GApiCollection.extend({url:function(){return gapi_config.baseApiUrl+this.apiUrl},fetch:function(e){return e.data=e.data||{},this.parent&&(e.data[this.parent.idAttribute]=this.parent.id),this.id&&(e.data[this.idAttribute]=this.id),GApiCollection.prototype.fetch.apply(this,arguments)}}),define("commonModels",["gapi","commonExts"],function(){}),window.EbmsMessage=window.GApiModel.extend({idAttribute:"ebmsMessageId",constructor:function(){window.GApiModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.ebmsMessagesUrl},initialize:function(){this.dailySummary=new DailySummary([],{parent:this})}}),window.EbmsMessages=window.GApiCollection.extend({model:EbmsMessage,constructor:function(){window.GApiCollection.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.ebmsMessagesUrl}}),window.EbmsMessageRaw=window.GApiModel.extend({idAttribute:"ebmsMessageId",constructor:function(){window.GApiModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.ebmsMessageRawUrl}}),window.EbmsMessageDetail=window.GApiStandaloneModel.extend({idAttribute:"ebmsMessageId",constructor:function(){window.GApiStandaloneModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.ebmsMessageSearchUrl},fetch:function(e){return this.attributes.conversationId&&_.extend(e.data,{conversationId:this.attributes.conversationId}),GApiStandaloneModel.prototype.fetch.apply(this,arguments)}}),window.MessageDetailModel=window.GApiStandaloneModel.extend({initialize:function(){this.documents=new MessageDocuments([],{parent:this}),this.logs=new MessageLogs([],{parent:this}),this.dailySummary=new DailySummary([],{parent:this})}}),window.MessageDetailCollection=window.GApiStandaloneCollection.extend({initialize:function(){var e=this;this.on("reset",function(){e.length>0&&e.each(function(t){t.parent=e.parent,t.logs=new MessageLogs([],{parent:t}),t.documents=new MessageDocuments([],{parent:t})})})}}),window.MessagePart=window.MessageDetailModel.extend({idAttribute:"ebmsMessagePartId",constructor:function(){window.MessageDetailModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.ebmsMessagePartsUrl},initialize:function(){MessageDetailModel.prototype.initialize.apply(this,arguments),this.transactions=new MessageTransactions([],{parent:this})}}),window.MessageParts=window.MessageDetailCollection.extend({constructor:function(){window.MessageDetailCollection.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.ebmsMessagePartsUrl},initialize:function(){var e=this;this.on("reset",function(){e.length>0&&e.each(function(e){e.transactions=new MessageTransactions([],{parent:e})})})}}),window.MessageTransaction=window.MessageDetailModel.extend({idAttribute:"messageTransactionId",constructor:function(){window.MessageDetailModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.messageTransactionsUrl}}),window.MessageTransactions=window.MessageDetailCollection.extend({model:MessageTransaction,constructor:function(){window.MessageDetailCollection.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.messageTransactionsUrl}}),window.Summary=window.GApiModel.extend({constructor:function(){window.GApiModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.dailySummarrUrl}}),window.DailySummary=window.GApiCollection.extend({model:Summary,constructor:function(){window.GApiCollection.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.dailySummarrUrl}}),window.MessageDocument=window.GApiStandaloneModel.extend({constructor:function(){window.GApiStandaloneModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.messageDocumentUrl}}),window.MessageDocuments=window.GApiStandaloneCollection.extend({model:MessageDocument,constructor:function(){window.GApiStandaloneCollection.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.messageDocumentUrl}}),window.MessageLog=window.GApiStandaloneModel.extend({constructor:function(){window.GApiStandaloneModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.messageLogsUrl}}),window.MessageLogs=window.GApiStandaloneCollection.extend({model:MessageLog,constructor:function(){window.GApiStandaloneCollection.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.messageLogsUrl}}),window.BaseDetail=window.GApiModel.extend({constructor:function(e){window.GApiModel.prototype.constructor.apply(this,arguments),this.apiUrl=e.url}}),window.BaseDetails=window.GApiCollection.extend({model:BaseDetail,constructor:function(e,t){window.GApiCollection.prototype.constructor.apply(this,arguments),this.apiUrl=t.url},setSelectedIndex:function(e){this.selectedIndex!=e&&(isNaN(e)&&(e=parseInt(e)),e>=0&&e<this.length?this.selectedIndex=e:delete this.selectedIndex,this.trigger("selected"))},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){if(this.selectedIndex)return this.at(this.selectedIndex)},clearSelect:function(){this.setSelectedIndex(-1)}}),window.Participant=window.GApiModel.extend({constructor:function(e){window.GApiModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.participantUrl},initialize:function(){this.fund=new BaseDetail({parent:this,url:gapi_config.fundUrl}),this.fund.source=new BaseDetails([],{parent:this.fund,url:gapi_config.sourceUrl}),this.fund.target=new BaseDetails([],{parent:this.fund,url:gapi_config.targetUrl}),this.product=new BaseDetail({parent:this,url:gapi_config.productUrl}),this.product.source=new BaseDetails([],{parent:this.product,url:gapi_config.sourceUrl}),this.product.target=new BaseDetails([],{parent:this.product,url:gapi_config.targetUrl})}}),window.FundRegister=window.GApiModel.extend({constructor:function(e){window.GApiModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.fundRegisterUrl}}),window.FundRegisters=window.GApiCollection.extend({model:FundRegister,constructor:function(){window.GApiCollection.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.fundRegisterUrl}}),window.LoginDetails=window.GApiModel.extend({constructor:function(){window.GApiModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.loginDetailsUrl}}),window.ErrorDetails=window.GApiModel.extend({constructor:function(){window.GApiModel.prototype.constructor.apply(this,arguments),this.apiUrl=gapi_config.errorDetailsesUrl}}),define("messageModels",["commonModels"],function(){}),window.TabDetails=TabContentView.extend({initialize:function(){TabContentView.prototype.initialize.apply(this,arguments),this.tabName=$.i18n.prop("tab.details"),this.showFilter=this.options.showFilter,typeof this.showFilter=="undefined"&&(this.showFilter=!0),this.prepareContent()},prepareContent:function(){if(this.showFilter){this.prepareFilters(),this.subViews.push(new LineBreakView),this.prepareMessageContainer(),this.setDataReady();var e=this;this.detailsFilter.$el.on("keydown","input",function(e){if(e.target.name=="ebmsMessageId")return window.allowNumberOnly(e)}).on("keyup","input",function(t){e.ebmsMessageTimeout&&clearTimeout(e.ebmsMessageTimeout);var n=t.target;e.ebmsMessageTimeout=setTimeout(function(){n.name=="ebmsMessageId"?e.showMessageDetails(undefined,""):e.showMessageDetails("",undefined)},app_config.searchInitializeDelay)})}},prepareFilters:function(){var e=this;this.detailsFilter=new GenericElementView({tagName:"form",attributes:{action:"#"},templateName:"partial/tab-details-filter",ebMSMessageIdLabel:$.i18n.prop("label.form.ebms.messageid"),conversationIdLabel:$.i18n.prop("label.form.conversationid")}),this.subViews.push(this.detailsFilter)},prepareMessageContainer:function(){this.messageContainer=new GenericElementView,this.subViews.push(this.messageContainer)},loadMessageDetail:function(e,t){if(!(!this.model||e!=this.model.id&&t!=this.model.attributes.conversationId))return;var n={};e&&(n.ebmsMessageId=e),t!=""&&(n.conversationId=t),this.model=new EbmsMessageDetail(n),this.loadData()},loadData:function(){this.messageFetch&&this.messageFetch.readyState>0&&this.messageFetch.readyState<4&&this.messageFetch.abort(),this.showFilter?(this.clearDetails(),this.blockContent(!0,$.i18n.prop("message.details.loading"))):this.setDataLoading(!0);var e={includeParts:"true"},t=this;this.messageFetch=this.model.fetch({data:e,success:function(){t.renderMessageAndParts()},error:function(e,n){n.statusText!="abort"&&(n.status==404?t.displayMessage($.i18n.prop("message.search.not.found"),!1,t.messageContainer.$el):t.displayMessage($.i18n.prop("message.search.request.failed"),!0,t.messageContainer.$el))},complete:function(){t.showFilter&&t.blockContent(!1)}})},blockContent:function(e,t){typeof e=="undefined"&&(e=!0),this.detailsFilter&&(e?this.detailsFilter.$el.block({message:"<div class='data-loading'><span>"+t+"</span></div>"}):this.detailsFilter.$el.unblock())},renderMessageAndParts:function(){this.drawMessageDetails(),this.drawPartAccordion(),this.showFilter||this.setDataReady()},drawMessageDetails:function(){this.messageDetails=new GenericElementView(_.extend({templateName:"partial/message-details",ebmsMessagesDetailLabel:$.i18n.prop("title.label.message.detail"),ebmsMessageIdLabel:$.i18n.prop("message.info.label.id"),conversationIdLabel:$.i18n.prop("message.info.label.conversation.id"),gatewayMessageIdLabel:$.i18n.prop("message.info.label.gateway.message.id"),directionLabel:$.i18n.prop("message.info.label.direction"),typeLabel:$.i18n.prop("message.info.label.type"),receivedLabel:$.i18n.prop("message.info.label.received"),deliverLabel:$.i18n.prop("message.info.label.deliver"),statusLabel:$.i18n.prop("message.info.label.status"),sourceLabel:$.i18n.prop("message.info.label.source"),targetLabel:$.i18n.prop("message.info.label.target"),btnRawMessage:$.i18n.prop("button.showRawMessage")},this.model.toJSON())),this.showFilter?(this.messageContainer.$el.append(this.messageDetails.render().el),this.messageDetails.$el.trigger("create")):this.subViews.push(this.messageDetails);if(FeaturesEnabler.shouldEnable("mshMessageService")){var e=this;this.messageDetails.$el.on("click","a",function(t){return e.showRawMessage(),!1})}else if(this.dataReady)this.messageDetails.$el.find("a").hide();else{var e=this;this.on("dataready",function(){e.messageDetails.$el.find("a").hide()})}},drawPartAccordion:function(){var e=this;this.partAccordionView=new AccordionView({attributes:{"data-theme":"b","data-content-theme":"b","data-inset":"true","data-iconpos":"right","data-iconshadow":"false","class":"ui-icon-nodisc"}});var e=this;_.each(this.model.attributes.ebmsMessageParts,function(t){e.partAccordionView.sections.push(new PartSection({model:new MessagePart(_.extend(t,{parent:e.model}))}))}),this.showFilter?(this.messageContainer.$el.append(this.partAccordionView.render().el),this.partAccordionView.refresh()):this.subViews.push(this.partAccordionView)},showMessageDetails:function(e,t){this.showFilter&&(typeof e=="undefined"?e=this.detailsFilter.$el.find('input[name="ebmsMessageId"]').val().trim():this.detailsFilter.$el.find('input[name="ebmsMessageId"]').val(e),typeof t=="undefined"?t=this.detailsFilter.$el.find('input[name="conversationId"]').val().trim():this.detailsFilter.$el.find('input[name="conversationId"]').val(t));if(isNaN(e)||(e=parseInt(e))<1){Dialog.showMessage($.i18n.prop("message.search.error"));return}(e>0||t!="")&&this.loadMessageDetail(e,t)},clearDetails:function(){this.messageDetails&&(this.messageDetails.remove(),this.messageDetails.unbind()),this.partAccordionView&&(this.partAccordionView.remove(),this.partAccordionView.unbind()),this.messageContainer&&this.messageContainer.$el.empty()},removalHandler:function(){this.messageFetch&&this.messageFetch.readyState>0&&this.messageFetch.readyState<4&&this.messageFetch.abort(),this.partAccordionView&&_(this.partAccordionView.sections).each(function(e){e.cancelFetch()})},showRawMessage:function(){if(!this.rawModel){this.rawModel=new EbmsMessageRaw({ebmsMessageId:this.model.id});var e=this.messageDetails.$el.find(".raw-message-container");e.addClass("data-loading").show();var t=this;this.rawModel.fetch({success:function(){e.removeClass("data-loading").html("<pre>"+t.rawModel.attributes.message.escape()+"</pre>"),t.toggleRawMessage()},error:function(){e.removeClass("data-loading").addClass("text-red").html($.i18n.prop("message.info.label.raw.error"))}})}else this.toggleRawMessage()},toggleRawMessage:function(){var e=this.messageDetails.$el.find(".raw-message-container"),t=e.children("pre");t.length>0?t.snippet("xml",{style:"peachpuff"}):e.toggle();var n=this.messageDetails.$el.find("a.show-raw-message"),r=$.i18n.prop("button.showRawMessage"),i=$.i18n.prop("button.hideRawMessage");n.text()==r?n.find(".ui-btn-text").text(i):n.find(".ui-btn-text").text(r)}}),window.DetailSection=AccordionSection.extend({initialize:function(){AccordionSection.prototype.initialize.apply(this,arguments),this.parent=this.options.parent,this.titleTemplate=_.template(tpl.get("partial/accordion-section-title")),this.defaultLabel={btnShowXBRL:$.i18n.prop("button.showXBRL"),logMessageLable:$.i18n.prop("title.label.logmessages")},this.logsContentEmpty=$.i18n.prop("document.content.logspart.empty"),this.fetchProcess=[],this.errorDetails={}},cancelFetch:function(){var e;while((e=this.fetchProcess.pop())!=null)e&&e.readyState>0&&e.readyState<4&&e.abort()},loadData:function(){this.logReady=!1,this.logError=!1,this.documentReady=!1,this.documentError=!1,this.setDataLoading(),this.drawDetailTitle();var e=this;this.fetchProcess.push(this.model.documents.fetch({success:function(){e.drawDocumentContent()},error:function(t){e.handleError("document")}})),this.fetchProcess.push(this.model.logs.fetch({success:function(){e.drawLogTable()},error:function(){e.handleError("log")}}))},handleError:function(e){this[e+"Error"]=!0,this.subViews.push(new GenericElementView({templateName:"partial/error",errorFlag:e})),this.drawContent()},wait:function(e,t){var n=this;this[e+"Ready"]||this[e+"Error"]?t():setTimeout(function(){n.wait(e,t)},200)},waitForDocument:function(e){this.wait("document",e)},waitForLog:function(e){this.wait("log",e)},drawDetailTitle:function(){this.detailTitle=new GenericElementView(_.extend({templateName:"partial/message-details-title"},this.defaultLabel)),this.subViews.push(this.detailTitle)},drawDocumentContent:function(){var e="Empty";this.model.documents.length>0&&(e=this.model.documents.at(0).attributes.document),this.documentContent=new GenericElementView({templateName:"partial/document-details",documentDetail:e.escape()});var t=this;this.waitForLog(function(){t.subViews.push(t.documentContent),t.documentReady=!0,t.drawContent()})},linkToError:function(e,t){return FeaturesEnabler.shouldEnable("stackTraceService")?String.format('{0}<br/><a href="#" data-messagelogid="{1}">{2}</a>',e,t[1],$.i18n.prop("message.info.label.error.details")):e},getErrorDetailsContent:function(e){var t="";return this.errorDetails[e].fetching||_(this.errorDetails[e].attributes).each(function(e){t+=String.format("<pre class='error-details'>{0}</pre><br/>",e.sourceErrorDetails)}),t==""?t="<div class='data-loading'></div>":t=String.format("<div class='error-details-container'>{0}</div>",t),t},updateErrorDetailsDialogContent:function(e,t){if($.mobile.sdCurrentDialog){var n="";t?n=String.format("<div class='text-red'>{0}</div>",$.i18n.prop("message.error.details.loading")):n=this.getErrorDetailsContent(e),$newContent=$(n),$.mobile.sdCurrentDialog.sdIntContent.find("div.data-loading").replaceWith($newContent);var r=$.mobile.sdCurrentDialog.sdHeader.height()+$.mobile.sdCurrentDialog.sdHeader.border().top+$.mobile.sdCurrentDialog.sdHeader.border().bottom+$.mobile.sdCurrentDialog.sdHeader.padding().top+$.mobile.sdCurrentDialog.sdHeader.padding().bottom+$.mobile.sdCurrentDialog.sdHeader.margin().top+$.mobile.sdCurrentDialog.sdHeader.margin().bottom+$newContent.padding().top+$newContent.padding().bottom+$newContent.margin().top+$newContent.margin().bottom;$newContent.height($.mobile.sdCurrentDialog.sdIntContent.height()-r),$newContent.find("pre").snippet("java",{style:"dull"})}},showErrorDetailsDialog:function(e){var t=this.getErrorDetailsContent(e);$(document).simpledialog2({mode:"blank",zindex:1500,headerText:$.i18n.prop("lable.simpledialog.error.details"),headerClose:!0,fullScreen:!0,fullScreenForce:!0,width:"auto",blankContent:t})},showErrorDetails:function(e){if(this.errorDetails[e])this.showErrorDetailsDialog(e);else{this.errorDetails[e]=new ErrorDetails;var t=this;this.errorDetails[e].fetching=!0,this.showErrorDetailsDialog(e),this.errorDetails[e].fetch({data:{messageLogId:e},success:function(){t.errorDetails[e].fetching=!1,t.updateErrorDetailsDialogContent(e,!1)},error:function(){t.updateErrorDetailsDialogContent(e,!0)},complete:function(){t.errorDetails[e].fetching=!1}})}},drawLogTable:function(){var e=this;if(this.model.logs.length>0)this.logTable=new TableView({useDataTable:!0,attributes:{"class":"table-style-1 border-style-1",cellspacing:"0",cellpadding:"0"},bindings:{headers:[{dataAttribute:"errorDetailsCount",aoColumn:{bVisible:!1}},{dataAttribute:"messageLogId",aoColumn:{bVisible:!1}},{title:$.i18n.prop("message.info.label.type"),dataAttribute:"logType",width:"10%",dataFormat:function(t,n,r){return n=="sort"||n=="filter"?t:r[0]!=""||r[0]>0?e.linkToError(t,r):t}},{title:$.i18n.prop("message.info.label.code"),dataAttribute:"code",width:"10%"},{title:$.i18n.prop("message.info.label.description"),dataAttribute:"description",width:"30%"},{title:$.i18n.prop("message.info.label.details"),dataAttribute:"details",width:"50%"}],data:this.model.logs.toJSON()}}),this.subViews.push(this.logTable),this.subViews.push(new LineBreakView({count:2}));else{var e=this;this.subViews.push(new GenericElementView({templateName:"partial/table-empty",emptyLabel:e.logsContentEmpty}))}this.logReady=!0,this.drawContent()},drawContent:function(){if((this.logReady||this.logError)&&(this.documentReady||this.documentError)){this.setDataReady(),this.logReady&&this.model.logs.length>0&&(this.logTable.enableDataTable({sDom:"lrtip",sPaginationType:"full_numbers",iDisplayLength:app_config.numberOfDataRows,bAutoWidth:!1}),this.logTable.$el.on("click","a",function(t){var n=$(t.target).data("messagelogid");return n!=undefined&&e.showErrorDetails(n),!1}));if(this.documentReady){this.logReady&&this.model.logs.length>0&&this.logTable.$el.siblings(".dataTables_length").appendTo(this.detailTitle.$el.find(".table-length-dropdown-placeholder"));var e=this;this.detailTitle.$el.find("a").click(function(){var t=e.documentContent.$el.find(".document-container"),n=e.detailTitle.$el.find("a").text(),r=$.i18n.prop("button.showXBRL"),i=$.i18n.prop("button.hideXBRL"),s=$.i18n.prop("button.showXML"),o=$.i18n.prop("button.hideXML"),u=e.detailTitle.$el.find("a");return t.prop("tagName")=="PRE"&&(t.snippet("xml",{style:"peachpuff"}),u.text()==r?u.find(".ui-btn-text").text(i):u.text()==i?u.find(".ui-btn-text").text(r):u.text()==s?u.find(".ui-btn-text").text(o):u.find(".ui-btn-text").text(s)),t.toggle(),!1})}}}}),window.PartSection=DetailSection.extend({initialize:function(){DetailSection.prototype.initialize.apply(this,arguments),this.id="part-"+this.model.id;var e;this.model.attributes.statusDatetime==null?e="":e=String.format(" ({0})",dateFormat(this.model.attributes.statusDatetime,app_config.dateTimePattern));var t;this.model.attributes.receivedDatetime==null?t="":t=dateFormat(this.model.attributes.receivedDatetime,app_config.datePattern),this.title=this.titleTemplate({customClass:"message-part-title",col1:String.format("{0}: {1}",$.i18n.prop("message.info.label.part.id"),this.model.attributes.partId),col2:String.format("{0}: {1}",$.i18n.prop("message.info.label.part.received"),t),col3:String.format("{0}: {1}{2}",$.i18n.prop("message.info.label.part.status"),this.model.attributes.status,e),col4:String.format("{0}: {1}",$.i18n.prop("message.info.label.part.transaction.count"),this.model.attributes.messageTransactionCount)}),this.loadData()},loadData:function(){DetailSection.prototype.loadData.apply(this,arguments),this.transactionReady=!1,this.transactionError=!1;var e=this;this.fetchProcess.push(this.model.transactions.fetch({success:function(){e.drawTransactionAccordion()},error:function(){e.handleError("transaction")}}))},drawTransactionAccordion:function(){this.transactionAccordionView=new AccordionView({attributes:{"data-theme":"b","data-content-theme":"b","data-inset":"true","data-iconpos":"right","data-iconshadow":"false","class":"ui-icon-nodisc"}});var e=this;this.model.transactions.each(function(t){e.transactionAccordionView.sections.push(new TransactionSection({model:t}))}),this.waitForDocument(function(){e.subViews.push(e.transactionAccordionView),e.transactionReady=!0,e.drawContent()})},drawContent:function(){(this.transactionReady||this.transactionError)&&DetailSection.prototype.drawContent.apply(this,arguments)}}),window.TransactionSection=DetailSection.extend({initialize:function(){DetailSection.prototype.initialize.apply(this,arguments),this.id="transaction-"+this.model.id;var e=this.model.attributes.statusDatetime;e!=null?e=String.format(" ({0})",dateFormat(e,app_config.dateTimePattern)):e="",this.title=this.titleTemplate({customClass:"transaction-title",col1:String.format("{0}: {1}",$.i18n.prop("message.info.label.transaction.id"),this.model.id),col2:"",col3:String.format("{0}: {1}{2}",$.i18n.prop("message.info.label.transaction.status"),this.model.attributes.status,e),col4:""}),this.defaultLabel={btnShowXBRL:$.i18n.prop("button.showXML"),logMessageLable:$.i18n.prop("title.label.logmessages")},this.logsContentEmpty=$.i18n.prop("document.content.logstransaction.empty"),this.loadData()}}),define("tabDetails",["commonView","helpers","jqueryBlockUI","messageModels","commonPage"],function(){}),function(e){e.widget("mobile.datebox",e.mobile.widget,{options:{version:"2-1.2.0-2012021401",theme:!1,themeDefault:"c",themeHeader:"a",mode:!1,centerHoriz:!1,centerVert:!1,transition:"pop",useAnimation:!0,hideInput:!1,hideFixedToolbars:!1,lockInput:!0,enhanceInput:!0,zindex:"500",clickEvent:"vclick",clickEventAlt:"click",resizeListener:!0,defaultValue:!1,dialogEnable:!1,dialogForce:!1,enablePopup:!1,popupPosition:!1,popupForceX:!1,popupForceY:!1,useModal:!1,useInline:!1,useInlineBlind:!1,useHeader:!0,useImmediate:!1,useNewStyle:!1,useAltIcon:!1,overrideStyleClass:!1,useButton:!0,useFocus:!1,useClearButton:!1,useCollapsedBut:!1,usePlaceholder:!1,openCallback:!1,openCallbackArgs:[],closeCallback:!1,closeCallbackArgs:[],startOffsetYears:!1,startOffsetMonths:!1,startOffsetDays:!1,afterToday:!1,beforeToday:!1,notToday:!1,maxDays:!1,minDays:!1,maxYear:!1,minYear:!1,blackDates:!1,blackDatesRec:!1,blackDays:!1,minHour:!1,maxHour:!1,minuteStep:1,minuteStepRound:0,rolloverMode:{m:!0,d:!0,h:!0,i:!0,s:!0},useLang:"default",lang:{"default":{setDateButtonLabel:"Set Date",setTimeButtonLabel:"Set Time",setDurationButtonLabel:"Set Duration",calTodayButtonLabel:"Jump to Today",titleDateDialogLabel:"Set Date",titleTimeDialogLabel:"Set Time",daysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysOfWeekShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthsOfYear:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsOfYearShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],durationLabel:["Days","Hours","Minutes","Seconds"],durationDays:["Day","Days"],timeFormat:24,headerFormat:"%A, %B %-d, %Y",tooltip:"Open Date Picker",nextMonth:"Next Month",prevMonth:"Previous Month",dateFieldOrder:["m","d","y"],timeFieldOrder:["h","i","a"],slideFieldOrder:["y","m","d"],dateFormat:"%Y-%m-%d",useArabicIndic:!1,isRTL:!1,calStartDay:0,clearButton:"Clear",durationOrder:["d","h","i","s"],meridiem:["AM","PM"],timeOutput:"%k:%M",durationFormat:"%Dd %DA, %Dl:%DM:%DS",calDateListLabel:"Other Dates"}}},_enhanceDate:function(){e.extend(this._date.prototype,{copy:function(e,t){typeof e=="undefined"&&(e=[0,0,0,0,0,0,0]),typeof t=="undefined"&&(t=[0,0,0,0,0,0,0]);while(e.length<7)e.push(0);while(t.length<7)t.push(0);return new Date(t[0]>0?t[0]:this.getFullYear()+e[0],t[1]>0?t[1]:this.getMonth()+e[1],t[2]>0?t[2]:this.getDate()+e[2],t[3]>0?t[3]:this.getHours()+e[3],t[4]>0?t[4]:this.getMinutes()+e[4],t[5]>0?t[5]:this.getSeconds()+e[5],t[6]>0?t[5]:this.getMilliseconds()+e[6])},adj:function(e,t){if(typeof t!="number")throw new Error("Adjustment value not specified");if(typeof e!="number")throw new Error("Adjustment type not specified");switch(e){case 0:this.setFullYear(this.getFullYear()+t);break;case 1:this.setMonth(this.getMonth()+t);break;case 2:this.setDate(this.getDate()+t);break;case 3:this.setHours(this.getHours()+t);break;case 4:this.setMinutes(this.getMinutes()+t);break;case 5:this.setSeconds(this.getSeconds()+t);break;case 6:this.setMilliseconds(this.getMilliseconds()+t)}return this},set:function(e,t){switch(e){case 0:this.setFullYear(t);break;case 1:this.setMonth(t);break;case 2:this.setDate(t);break;case 3:this.setHours(t);break;case 4:this.setMinutes(t);break;case 5:this.setSeconds(t);break;case 6:this.setMilliseconds(t)}return this},get:function(e){switch(e){case 0:return this.getFullYear();case 1:return this.getMonth();case 2:return this.getDate();case 3:return this.getHours();case 4:return this.getMinutes();case 5:return this.getSeconds()}return!1},iso:function(){return String(this.getFullYear())+"-"+(this.getMonth()<9?"0":"")+String(this.getMonth()+1)+"-"+(this.getDate()<10?"0":"")+String(this.getDate())},comp:function(){return parseInt(this.iso().replace(/-/g,""),10)},getEpoch:function(){return(this.getTime()-this.getMilliseconds())/1e3},getArray:function(){return[this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds()]},setFirstDay:function(e){return this.set(2,1).adj(2,e-this.getDay()),this.get(2)>10&&this.adj(2,7),this},setWeek:function(e,t){return e===4?this.set(1,0).set(2,1).setFirstDay(4).adj(2,-3).adj(2,(t-1)*7):this.set(1,0).set(2,1).setFirstDay(e).adj(2,(t-1)*7)},getWeek:function(e){var t,n;switch(e){case 0:return t=this.copy([0,-1*this.getMonth()]).setFirstDay(0),Math.floor((this.getTime()-(t.getTime()+(this.getTimezoneOffset()-t.getTimezoneOffset())*6e4))/6048e5)+1;case 1:return t=this.copy([0,-1*this.getMonth()]).setFirstDay(1),Math.floor((this.getTime()-(t.getTime()+(this.getTimezoneOffset()-t.getTimezoneOffset())*6e4))/6048e5)+1;case 4:if(this.getMonth()===11&&this.getDate()>28)return 1;t=this.copy([0,-1*this.getMonth()],!0).setFirstDay(4).adj(2,-3),n=Math.floor((this.getTime()-(t.getTime()+(this.getTimezoneOffset()-t.getTimezoneOffset())*6e4))/6048e5)+1;if(n<1)return t=this.copy([-1,-1*this.getMonth()]).setFirstDay(4).adj(2,-3),Math.floor((this.getTime()-t.getTime())/6048e5)+1;return n;default:return 0}}})},_event:function(t,n){var r=parseInt(e.mobile.version.replace(/\./g,""),10)>110?e(this).data("mobileDatebox"):e(this).data("datebox");if(!t.isPropagationStopped())switch(n.method){case"close":r.close();break;case"open":r.open();break;case"set":e(this).val(n.value),e(this).trigger("change");break;case"doset":e.isFunction(r["_"+r.options.mode+"DoSet"])?r["_"+r.options.mode+"DoSet"].apply(r,[]):e(this).trigger("datebox",{method:"set",value:r._formatter(r.__fmt(),r.theDate),date:r.theDate});break;case"dooffset":n.type&&r._offset(n.type,n.amount,!0);break;case"dorefresh":r.refresh();break;case"doreset":r.hardreset();break;case"doclear":e(this).val("").trigger("change");break;case"clear":e(this).trigger("change")}},_hoover:function(t){e(t).toggleClass("ui-btn-up-"+e(t).jqmData("theme")+" ui-btn-down-"+e(t).jqmData("theme"))},_ord:{"default":function(e){var t=e%10;return e>9&&e<21?"th":t>3?"th":["th","st","nd","rd"][t]}},__:function(e){var t=this.options,n="override"+e.charAt(0).toUpperCase()+e.slice(1);return typeof t[n]!="undefined"?t[n]:typeof t.lang[t.useLang][e]!="undefined"?t.lang[t.useLang][e]:typeof t[t.mode+"lang"]!="undefined"&&typeof t[t.mode+"lang"][e]!="undefined"?t[t.mode+"lang"][e]:t.lang["default"][e]},__fmt:function(){var e=this,t=this.options;switch(t.mode){case"timebox":case"timeflipbox":return e.__("timeOutput");case"durationbox":case"durationflipbox":return e.__("durationFormat");default:return e.__("dateFormat")}},_zPad:function(e){return e<10?"0"+String(e):String(e)},_dRep:function(e,t){var n=48,r=57,i=1584,s=null,o=null,u="";t===-1&&(n+=i,r+=i,i=-1584);for(s=0;s<e.length;s++)o=e.charCodeAt(s),o>=n&&o<=r?u+=String.fromCharCode(o+i):u+=String.fromCharCode(o);return u},_doIndic:function(){var t=this;t.d.intHTML.find("*").each(function(){e(this).children().length<1?e(this).text(t._dRep(e(this).text())):e(this).hasClass("ui-datebox-slideday")&&e(this).html(t._dRep(e(this).html()))}),t.d.intHTML.find("input").each(function(){e(this).val(t._dRep(e(this).val()))})},_parser:{"default":function(e){return!1}},_n:function(e,t){return e<0?t:e},_pa:function(e,t){return typeof t=="boolean"?new this._date(e[0],e[1],e[2],0,0,0,0):new this._date(t.getFullYear(),t.getMonth(),t.getDate(),e[0],e[1],e[2],0)},_makeDate:function(t){t=e.trim(this.__("useArabicIndic")===!0?this._dRep(t,-1):t);var n=this,r=this.options,i=n.__fmt(),s=null,o=[],u=null,f=null,l=new n._date,c={year:-1,mont:-1,date:-1,hour:-1,mins:-1,secs:-1,week:!1,wtyp:4,wday:!1,yday:!1,meri:0},h;if(typeof r.mode=="undefined")return l;if(typeof n._parser[r.mode]!="undefined")return n._parser[r.mode].apply(n,[t]);if(r.mode==="durationbox"||r.mode==="durationflipbox"){i=i.replace(/%D([a-z])/gi,function(e,t){switch(t){case"d":case"l":case"M":case"S":return"("+e+"|[0-9]+)";default:return".+?"}}),i=new RegExp("^"+i+"$"),s=i.exec(t),u=i.exec(n.__fmt());if(s===null||s.length!==u.length)return typeof r.defaultValue=="number"&&r.defaultValue>0?new n._date((n.initDate.getEpoch()+parseInt(r.defaultValue,10))*1e3):new n._date(n.initDate.getTime());f=n.initDate.getEpoch();for(h=0;h<s.length;h++)u[h].match(/^%Dd$/i)&&(f+=parseInt(s[h],10)*60*60*24),u[h].match(/^%Dl$/i)&&(f+=parseInt(s[h],10)*60*60),u[h].match(/^%DM$/i)&&(f+=parseInt(s[h],10)*60),u[h].match(/^%DS$/i)&&(f+=parseInt(s[h],10));return new n._date(f*1e3)}i=i.replace(/%(0|-)*([a-z])/gi,function(e,t,n){o.push(n);switch(n){case"p":case"P":case"b":case"B":return"("+e+"|.+?)";case"H":case"k":case"I":case"l":case"m":case"M":case"S":case"V":case"U":case"u":case"W":case"d":return"("+e+"|"+(t==="-"?"[0-9]{1,2}":"[0-9]{2}")+")";case"j":return"("+e+"|[0-9]{3})";case"s":return"("+e+"|[0-9]+)";case"g":case"y":return"("+e+"|[0-9]{2})";case"E":case"G":case"Y":return"("+e+"|[0-9]{1,4})";default:return o.pop(),".+?"}}),i=new RegExp("^"+i+"$"),s=i.exec(t),u=i.exec(n.__fmt());if(s===null||s.length!==u.length){if(r.defaultValue!==!1)switch(typeof r.defaultValue){case"object":r.defaultValue.length===3&&(l=n._pa(r.defaultValue,r.mode==="timebox"||r.mode==="timeflipbox"?l:!1));break;case"number":l=new n._date(r.defaultValue*1e3);break;case"string":r.mode==="timebox"||r.mode==="timeflipbox"?(f=r.defaultValue.split(":"),f.length===3?l=n._pa([f[0],f[1],f[2]],l):f.length===2&&(l=n._pa([f[0],f[1],0],l))):(f=r.defaultValue.split("-"),f.length===3&&(l=n._pa([f[0],f[1]-1,f[2]],!1)))}isNaN(l.getDate())&&(l=new n._date)}else{for(h=1;h<s.length;h++)switch(o[h-1]){case"s":return new n._date(parseInt(s[h],10)*1e3);case"Y":case"G":c.year=parseInt(s[h],10);break;case"E":c.year=parseInt(s[h],10)-543;break;case"y":case"g":r.afterToday===!0||parseInt(s[h],10)<38?c.year=parseInt("20"+s[h],10):c.year=parseInt("19"+s[h],10);break;case"m":c.mont=parseInt(s[h],10)-1;break;case"d":c.date=parseInt(s[h],10);break;case"H":case"k":case"I":case"l":c.hour=parseInt(s[h],10);break;case"M":c.mins=parseInt(s[h],10);break;case"S":c.secs=parseInt(s[h],10);break;case"u":c.wday=parseInt(s[h],10)-1;break;case"w":c.wday=parseInt(s[h],10);break;case"j":c.yday=parseInt(s[h],10);break;case"V":c.week=parseInt(s[h],10),c.wtyp=4;break;case"U":c.week=parseInt(s[h],10),c.wtyp=0;break;case"W":c.week=parseInt(s[h],10),c.wtyp=1;break;case"p":case"P":c.meri=s[h].toLowerCase()===n.__("meridiem")[0].toLowerCase()?-1:1;break;case"b":f=e.inArray(s[h],n.__("monthsOfYearShort")),f>-1&&(c.mont=f);break;case"B":f=e.inArray(s[h],n.__("monthsOfYear")),f>-1&&(c.mont=f)}c.meri!==0&&(c.meri===-1&&c.hour===12&&(c.hour=0),c.meri===1&&c.hour!==12&&(c.hour=c.hour+12)),l=new n._date(n._n(c.year,0),n._n(c.mont,0),n._n(c.date,1),n._n(c.hour,0),n._n(c.mins,0),n._n(c.secs,0),0),c.year<100&&c.year!==-1&&l.setFullYear(c.year);if(c.mont>-1&&c.date>-1||c.hour>-1&&c.mins>-1&&c.secs>-1)return l;c.week!==!1&&(l.setWeek(c.wtyp,c.week),c.date>-1&&l.setDate(c.date)),c.yday!==!1&&l.set(1,0).set(2,1).adj(2,c.yday-1),c.wday!==!1&&l.adj(2,c.wday-l.getDay())}return l},_customformat:{"default":function(e,t){return!1}},_formatter:function(e,t){var n=this,r=this.options,i,s={part:[0,0,0,0],tp:0};if(r.mode==="durationbox"||r.mode==="durationflipbox")s.tp=this.theDate.getEpoch()-this.initDate.getEpoch(),s.part[0]=parseInt(s.tp/86400,10),s.tp-=s.part[0]*60*60*24,s.part[1]=parseInt(s.tp/3600,10),s.tp-=s.part[1]*60*60,s.part[2]=parseInt(s.tp/60,10),s.tp-=s.part[2]*60,s.part[3]=s.tp,e.match(/%Dd/)||(s.part[1]+=s.part[0]*24),e.match(/%Dl/)||(s.part[2]+=s.part[1]*60),e.match(/%DM/)||(s.part[3]+=s.part[2]*60);return e=e.replace(/%(D|X|0|-)*([1-9a-zA-Z])/g,function(e,o,u){if(o==="X")return typeof n._customformat[r.mode]!="undefined"?n._customformat[r.mode](u,t):e;if(o==="D")switch(u){case"d":return s.part[0];case"l":return n._zPad(s.part[1]);case"M":return n._zPad(s.part[2]);case"S":return n._zPad(s.part[3]);case"A":return s.part[0]>1?n.__("durationDays")[1]:n.__("durationDays")[0];default:return e}switch(u){case"%":return"%";case"a":return n.__("daysOfWeekShort")[t.getDay()];case"A":return n.__("daysOfWeek")[t.getDay()];case"b":return n.__("monthsOfYearShort")[t.getMonth()];case"B":return n.__("monthsOfYear")[t.getMonth()];case"C":return t.getFullYear().toString().substr(0,2);case"d":return o==="-"?t.getDate():n._zPad(t.getDate());case"H":case"k":return o==="-"?t.getHours():n._zPad(t.getHours());case"I":case"l":return o==="-"?t.getHours()===0||t.getHours()===12?12:t.getHours()<12?t.getHours():t.getHours()-12:n._zPad(t.getHours()===0||t.getHours()===12?12:t.getHours()<12?t.getHours():t.getHours()-12);case"m":return o==="-"?t.getMonth()+1:n._zPad(t.getMonth()+1);case"M":return o==="-"?t.getMinutes():n._zPad(t.getMinutes());case"p":return t.getHours()<12?n.__("meridiem")[0].toUpperCase():n.__("meridiem")[1].toUpperCase();case"P":return t.getHours()<12?n.__("meridiem")[0].toLowerCase():n.__("meridiem")[1].toLowerCase();case"s":return t.getEpoch();case"S":return o==="-"?t.getSeconds():n._zPad(t.getSeconds());case"u":return o==="-"?t.getDay()+1:n._zPad(t.getDay()+1);case"w":return t.getDay();case"y":return t.getFullYear().toString().substr(2,2);case"Y":return t.getFullYear();case"E":return t.getFullYear()+543;case"V":return o==="-"?t.getWeek(4):n._zPad(t.getWeek(4));case"U":return o==="-"?t.getWeek(0):n._zPad(t.getWeek(0));case"W":return o==="-"?t.getWeek(1):n._zPad(t.getWeek(1));case"o":if(typeof n._ord[r.useLang]!="undefined")return n._ord[r.useLang](t.getDate());return n._ord["default"](t.getDate());case"j":return i=new Date(t.getFullYear(),0,1),i=Math.ceil((t-i)/864e5)+1,(i<100?i<10?"00":"0":"")+String(i);case"G":if(t.getWeek(4)===1&&t.getMonth()>0)return t.getFullYear()+1;if(t.getWeek(4)>51&&t.getMonth()<11)return t.getFullYear()-1;return t.getFullYear();case"g":if(t.getWeek(4)===1&&t.getMonth()>0)return parseInt(t.getFullYear().toString().substr(2,2),10)+1;if(t.getWeek(4)>51&&t.getMonth()<11)return parseInt(t.getFullYear().toString().substr(2,2),10)-1;return t.getFullYear().toString().substr(2,2);default:return e}}),n.__("useArabicIndic")===!0&&(e=n._dRep(e)),e},_btwn:function(e,t,n){return e>t&&e<n},_minStepFix:function(){var e=this.theDate.get(4),t,n=this,r=this.options;r.minuteStep>1&&e%r.minuteStep>0&&(r.minuteStepRound<0?e-=e%r.minuteStep:r.minStepRound>0?e+=r.minuteStep-e%r.minuteStep:e%r.minuteStep<r.minuteStep/2?e-=e%r.minuteStep:e+=r.minuteStep-e%r.minuteStep,n.theDate.setMinutes(e))},_offset:function(t,n,r){var i=this,s=this.options,o=!1;t=(t||"").toLowerCase(),typeof r=="undefined"&&(r=!0),i.d.input.trigger("datebox",{method:"offset",type:t,amount:n});if(t==="a"||typeof s.rolloverMode[t]!="undefined"&&s.rolloverMode[t]!==!0)switch(t){case"y":o=0;break;case"m":i._btwn(i.theDate.getMonth()+n,-1,12)&&(o=1);break;case"d":i._btwn(i.theDate.getDate()+n,0,32-i.theDate.copy([0],[0,0,32,13]).getDate()+1)&&(o=2);break;case"h":i._btwn(i.theDate.getHours()+n,-1,24)&&(o=3);break;case"i":i._btwn(i.theDate.getMinutes()+n,-1,60)&&(o=4);break;case"s":i._btwn(i.theDate.getSeconds()+n,-1,60)&&(o=5);break;case"a":i._offset("h",(n>0?1:-1)*12,!1)}else o=e.inArray(t,["y","m","d","h","i","s"]);o!==!1&&i.theDate.adj(o,n),r===!0&&i.refresh(),s.useImmediate&&i.d.input.trigger("datebox",{method:"doset"})},_startOffset:function(e){var t=this.options;return t.startOffsetYears!==!1&&e.adj(0,t.startOffsetYears),t.startOffsetMonths!==!1&&e.adj(1,t.startOffsetMonths),t.startOffsetDays!==!1&&e.adj(2,t.startOffsetDays),e},_create:function(){e(document).trigger("dateboxcreate");var t=this,n=e.extend(this.options,typeof this.element.jqmData("options")!="undefined"?this.element.jqmData("options"):this._getLongOptions(this.element)),r=n.theme===!1&&typeof e(this).jqmData("theme")=="undefined"?typeof this.element.parentsUntil(":jqmData(theme)").parent().jqmData("theme")=="undefined"?n.themeDefault:this.element.parentsUntil(":jqmData(theme)").parent().jqmData("theme"):n.theme,i=n.useAnimation?n.transition:"none",s=n.useNewStyle===!1?{input:this.element,wrap:this.element.wrap('<div class="ui-input-datebox ui-shadow-inset ui-corner-all '+(this.element.jqmData("mini")===!0?"ui-mini ":"")+"ui-body-"+r+'"></div>').parent(),mainWrap:e("<div>",{"class":"ui-datebox-container ui-overlay-shadow ui-corner-all ui-datebox-hidden "+i+" ui-body-"+r}).css("zIndex",n.zindex),intHTML:!1}:{input:this.element,wrap:this.element,mainWrap:e("<div>",{"class":"ui-datebox-container ui-overlay-shadow ui-corner-all ui-datebox-hidden "+i+" ui-body-"+r}).css("zIndex",n.zindex),intHTML:!1},o=typeof window.ontouchstart!="undefined",u={eStart:(o?"touchstart":"mousedown")+".datebox",eMove:(o?"touchmove":"mousemove")+".datebox",eEnd:(o?"touchend":"mouseup")+".datebox",eEndA:o?"mouseup.datebox touchend.datebox touchcancel.datebox touchmove.datebox":"mouseup.datebox",move:!1,start:!1,end:!1,pos:!1,target:!1,delta:!1,tmp:!1},f={},l=typeof e.mobile.ns!="undefined"?e.mobile.ns:"";e.extend(t,{d:s,ns:l,drag:u,touch:o}),n.usePlaceholder!==!1&&(n.usePlaceholder===!0&&t._grabLabel()!==!1&&t.d.input.attr("placeholder",t._grabLabel()),typeof n.usePlaceholder=="string"&&t.d.input.attr("placeholder",n.usePlaceholder)),n.theme=r,t.clearFunc=!1,t.disabled=!1,t.runButton=!1,t._date=window.Date,t._enhanceDate(),t.baseID=t.d.input.attr("id"),t.initDate=new t._date,t.theDate=n.defaultValue?t._makeDate(n.defaultValue):new t._date,t.initDone=!1,n.useButton===!0&&n.useInline===!1&&n.useNewStyle===!1&&(t.d.open=e('<a href="#" class="ui-input-clear" title="'+this.__("tooltip")+'">'+this.__("tooltip")+"</a>").on(n.clickEvent,function(n){n.preventDefault(),t.disabled||(t.d.input.trigger("datebox",{method:"open"}),t.d.wrap.addClass("ui-focus"),t.d.input.parent().removeClass("ui-focus")),setTimeout(function(){e(n.target).closest("a").removeClass(e.mobile.activeBtnClass)},300)}).appendTo(t.d.wrap).buttonMarkup({icon:"grid",iconpos:"notext",corners:!0,shadow:!0}).css({"vertical-align":"middle",display:"inline-block"})),t.d.screen=e("<div>",{"class":"ui-datebox-screen ui-datebox-hidden"+(n.useModal?" ui-datebox-screen-modal":"")}).css({"z-index":n.zindex-1}).on(n.clickEventAlt,function(e){e.preventDefault(),t.d.input.trigger("datebox",{method:"close"})}),n.enhanceInput===!0&&navigator.userAgent.match(/Android/i)?t.inputType="number":t.inputType="text",n.hideInput&&t.d.wrap.hide(),e("label[for='"+t.d.input.attr("id")+"']").addClass("ui-input-text").css("verticalAlign","middle"),t.d.wrap.on(n.clickEvent,function(){!t.disabled&&(n.noButtonFocusMode||n.focusMode)&&(t.d.input.trigger("datebox",{method:"open"}),t.d.wrap.addClass("ui-focus"),t.d.input.removeClass("ui-focus"))}),t.d.input.removeClass("ui-corner-all ui-shadow-inset").bind(t.touch?"touchend":"click",function(e){t.disabled===!1&&n.useNewStyle===!0&&n.useFocus===!1&&(t.touch?e.originalEvent.changedTouches[0].pageX:e.pageX)-e.target.offsetLeft>e.target.offsetWidth-20&&(t.d.input.trigger("datebox",{method:"open"}),t.d.wrap.addClass("ui-focus"),t.d.input.removeClass("ui-focus"))}).focus(function(){t.disabled===!1&&n.useFocus===!0&&(t.d.input.trigger("datebox",{method:"open"}),t.d.wrap.addClass("ui-focus")),n.useNewStyle===!1&&t.d.input.removeClass("ui-focus")}).blur(function(){t.d.wrap.removeClass("ui-focus"),t.d.input.removeClass("ui-focus")}).change(function(){t.theDate=t._makeDate(t.d.input.val()),t.refresh()}).attr("readonly",n.lockInput).on("datebox",t._event),n.useNewStyle===!0?(t.d.input.addClass("ui-corner-all "+(n.useAltIcon===!0?"ui-icon-datebox-alt":"ui-icon-datebox")),n.overrideStyleClass!==!1&&t.d.input.addClass(n.overrideStyleClass)):t.d.input.parent().css("border","none").removeClass("ui-shadow-inset"),typeof e.event.special.mousewheel!="undefined"&&(t.wheelExists=!0),t.d.input.is(":disabled")&&t.disable(),(n.useInline===!0||n.useInlineBlind)&&t.open(),t.applyMinMax(!1,!1),e(document).trigger("dateboxaftercreate")},applyMinMax:function(e,t){var n=this,r=this.options,i={};typeof e=="undefined"&&(e=!1),typeof t=="undefined"&&(t=!0),(t===!0||r.minDays===!1)&&typeof n.d.input.attr("min")!="undefined"&&(i.today=new n._date,i.lod=864e5,i.todayc=new n._date(i.today.getFullYear(),i.today.getMonth(),i.today.getDate(),0,0,0,0),i.fromel=n.d.input.attr("min").split("-"),i.compdt=new n._date(i.fromel[0],i.fromel[1]-1,i.fromel[2],0,0,0,0),r.minDays=parseInt((i.compdt.getTime()-i.todayc.getTime())/i.lod*-1,10)),(t===!0||r.maxDays===!1)&&typeof n.d.input.attr("max")!="undefined"&&(i.today=new n._date,i.lod=864e5,i.todayc=new n._date(i.today.getFullYear(),i.today.getMonth(),i.today.getDate(),0,0,0,0),i.fromel=n.d.input.attr("max").split("-"),i.compdt=new n._date(i.fromel[0],i.fromel[1]-1,i.fromel[2],0,0,0,0),r.maxDays=parseInt((i.compdt.getTime()-i.todayc.getTime())/i.lod,10)),e===!0&&n.refresh()},_build:{"default":function(){this.d.headerText="Error",this.d.intHTML=e("<div class='ui-body-e'><h2 style='text-align:center'>There is no mode by that name loaded / mode not given</h2></div>")}},_applyCoords:function(t){var n=t.widget,r=t.widget.options,i={h:e.mobile.activePage.find(".ui-header").jqmData("position"),f:e.mobile.activePage.find(".ui-footer").jqmData("position"),fh:e.mobile.activePage.find(".ui-footer").outerHeight(),hh:e.mobile.activePage.find(".ui-header").outerHeight()},s={x:n.d.wrap.offset().left+n.d.wrap.outerWidth()/2,y:n.d.wrap.offset().top+n.d.wrap.outerHeight()/2},o={w:n.d.mainWrap.outerWidth(),h:n.d.mainWrap.outerHeight()},u={t:e(window).scrollTop(),h:e(window).height(),w:e.mobile.activePage.width(),ah:e(document).height()},f={y:r.centerVert?u.t+(u.h/2-o.h/2):s.y-o.h/2,x:u.w<400||r.centerHoriz?u.w/2-o.w/2:s.x-o.w/2};r.centerVert===!1&&(r.hideFixedToolbars===!0&&(typeof i.f!="undefined"||typeof i.h!="undefined")&&(e.mobile.activePage.find(":jqmData(position='fixed')").fixedtoolbar("hide"),i.f=undefined,i.h=undefined),typeof i.f!="undefined"?f.y+o.h>u.h-i.fh-2&&(f.y=u.h-i.fh-2-o.h):(f.y+o.h>u.ah-i.fh-2&&(f.y=u.ah-i.fh-2-o.h),u.h+u.t<o.h+f.y+2&&(f.y=u.h+u.t-o.h-2)),typeof i.h!="undefined"?u.t+i.hh+2>f.y&&(f.y=u.t+i.hh+2):(i.hh+2>f.y&&(f.y=i.hh+2),f.y<u.t+2&&(f.y=u.t+2))),n.d.mainWrap.css({position:"absolute",top:f.y,left:f.x})},_drag:{"default":function(){return!1}},open:function(){var t=this,n=this.options,r={},i={history:!1},s="data-"+this.ns,o=n.useAnimation?n.transition:"none";if(n.useFocus===!0&&t.fastReopen===!0)return t.d.input.blur(),!1;t.clearFunc!==!1&&(clearTimeout(t.clearFunc),t.clearFunc=!1);if(n.openCallback!==!1){e.isFunction(n.openCallback)||(typeof window[n.openCallback]!="undefined"?n.openCallback=window[n.openCallback]:n.openCallback=new Function(n.openCallback));if(n.openCallback.apply(t,e.merge([t.theDate],n.openCallbackArgs))===!1)return!1}t.theDate=t._makeDate(t.d.input.val()),t.d.input.val()===""&&t._startOffset(t.theDate),t.d.input.blur(),typeof t._build[n.mode]=="undefined"?t._build["default"].apply(t,[]):t._build[n.mode].apply(t,[]),typeof t._drag[n.mode]!="undefined"&&t._drag[n.mode].apply(t,[]),t.d.input.trigger("datebox",{method:"refresh"}),t.__("useArabicIndic")===!0&&t._doIndic(),(n.useInline===!0||n.useInlineBlind===!0)&&t.initDone===!1&&(t.d.mainWrap.append(t.d.intHTML),t.d.input.parent().parent().append(t.d.mainWrap),t.d.mainWrap.removeClass("ui-datebox-hidden"),n.useInline===!0?t.d.mainWrap.addClass("ui-datebox-inline"):(t.d.mainWrap.addClass("ui-datebox-inlineblind"),t.d.mainWrap.hide()),t.initDone=!1,t.d.input.trigger("datebox",{method:"postrefresh"})),n.useImmediate&&t.d.input.trigger("datebox",{method:"doset"});if(n.useInline)return!0;if(n.useInlineBlind)return t.initDone?t.d.mainWrap.slideDown():t.initDone=!0,!0;if(t.d.intHTML.is(":visible"))return!1;if(n.enablePopup===!0){t.d.dialogPage=!1,t.d.mainWrap.empty(),n.useHeader===!0&&(t.d.headHTML=e('<div class="ui-header ui-bar-'+n.themeHeader+'"></div>'),e("<a class='ui-btn-left' href='#'>Close</a>").appendTo(t.d.headHTML).buttonMarkup({theme:n.themeHeader,icon:"delete",iconpos:"notext",corners:!0,shadow:!0}).on(n.clickEventAlt,function(e){e.preventDefault(),t.d.input.trigger("datebox",{method:"close"})}),e('<h1 class="ui-title">'+t.d.headerText+"</h1>").appendTo(t.d.headHTML),t.d.mainWrap.append(t.d.headHTML)),t.d.mainWrap.append(t.d.intHTML).css("zIndex",n.zindex),t.d.input.trigger("datebox",{method:"postrefresh"}),n.useAnimation===!0?r.transition=n.transition:r.transition="none",n.popupForceX!==!1&&n.popupForceY!==!1&&(r.x=n.popupForceX,r.y=n.popupForceY),n.popupPosition!==!1?r.positionTo=n.popupPosition:typeof t.baseID!==undefined?r.positionTo="#"+t.baseID:r.positionTo="window";if(n.useModal=!0)i.overlayTheme="a";t.d.mainWrap.removeClass("ui-datebox-hidden").popup(i).popup("open",r),t.refresh()}else n.dialogForce||n.dialogEnable&&window.width()<400?(t.d.dialogPage=e("<div "+s+"role='dialog' "+s+"theme='"+n.theme+"' ><div "+s+"role='header' "+s+"theme='"+n.themeHeader+"'><h1>"+t.d.headerText+"</h1></div><div "+s+"role='content'></div>").appendTo(e.mobile.pageContainer).page().css("minHeight","0px").addClass(o),t.d.dialogPage.find(".ui-header").find("a").off("click vclick").on(n.clickEventAlt,function(e){e.preventDefault(),t.d.input.trigger("datebox",{method:"close"})}),t.d.mainWrap.append(t.d.intHTML).css({marginLeft:"auto",marginRight:"auto"}).removeClass("ui-datebox-hidden"),t.d.dialogPage.find(".ui-content").append(t.d.mainWrap),t.d.input.trigger("datebox",{method:"postrefresh"}),e.mobile.activePage.off("pagehide.remove"),e.mobile.changePage(t.d.dialogPage,{transition:o})):(t.d.dialogPage=!1,t.d.mainWrap.empty(),n.useHeader===!0&&(t.d.headHTML=e('<div class="ui-header ui-bar-'+n.themeHeader+'"></div>'),e("<a class='ui-btn-left' href='#'>Close</a>").appendTo(t.d.headHTML).buttonMarkup({theme:n.themeHeader,icon:"delete",iconpos:"notext",corners:!0,shadow:!0}).on(n.clickEventAlt,function(e){e.preventDefault(),t.d.input.trigger("datebox",{method:"close"})}),e('<h1 class="ui-title">'+t.d.headerText+"</h1>").appendTo(t.d.headHTML),t.d.mainWrap.append(t.d.headHTML)),t.d.mainWrap.append(t.d.intHTML).css("zIndex",n.zindex),t.d.mainWrap.appendTo(e.mobile.activePage),t.d.screen.appendTo(e.mobile.activePage),t.d.input.trigger("datebox",{method:"postrefresh"}),t._applyCoords({widget:t}),n.useModal===!0?n.useAnimation?t.d.screen.fadeIn("slow"):t.d.screen.show():setTimeout(function(){t.d.screen.removeClass("ui-datebox-hidden")},500),t.d.mainWrap.addClass("ui-overlay-shadow in").removeClass("ui-datebox-hidden"),e(document).on("orientationchange.datebox",{widget:t},function(e){t._applyCoords(e.data)}),n.resizeListener===!0&&e(window).on("resize.datebox",{widget:t},function(e){t._applyCoords(e.data)}))},close:function(){var t=this,n=this.options;if(n.useInlineBlind===!0)return t.d.mainWrap.slideUp(),!0;if(n.useInline===!0||t.d.intHTML===!1)return!0;t.d.dialogPage!==!1?(e(t.d.dialogPage).dialog("close"),e.mobile.activePage.jqmData("page").options.domCache||e.mobile.activePage.on("pagehide.remove",function(){e(this).remove()}),t.d.intHTML.detach().empty(),t.d.mainWrap.detach().empty(),t.d.wrap.removeClass("ui-focus"),t.clearFunc=setTimeout(function(){t.d.dialogPage.empty().remove(),t.clearFunc=!1},1500)):n.enablePopup===!0?(t.d.mainWrap.popup("close"),t.d.wrap.removeClass("ui-focus")):(n.useModal?n.useAnimation?t.d.screen.fadeOut("slow"):t.d.screen.hide():t.d.screen.addClass("ui-datebox-hidden"),t.d.screen.detach(),t.d.mainWrap.addClass("ui-datebox-hidden").removeAttr("style").removeClass("in ui-overlay-shadow").empty().detach(),t.d.intHTML.detach(),t.d.wrap.removeClass("ui-focus"),e(document).off("orientationchange.datebox"),n.resizeListener===!0&&e(window).off("resize.datebox")),e(document).off(t.drag.eMove),e(document).off(t.drag.eEnd),e(document).off(t.drag.eEndA),n.useFocus&&(t.fastReopen=!0,setTimeout(function(e){return function(){e.fastReopen=!1}}(t),300)),n.closeCallback!==!1&&(e.isFunction(n.closeCallback)||(typeof window[n.closeCallback]!="undefined"?n.closeCallback=window[n.closeCallback]:n.closeCallback=new Function(n.closeCallback)),n.closeCallback.apply(t,e.merge([t.theDate],n.closeCallbackArgs)))},refresh:function(){typeof this._build[this.options.mode]=="undefined"?this._build["default"].apply(this,[]):this._build[this.options.mode].apply(this,[]),this.__("useArabicIndic")===!0&&this._doIndic(),this.d.mainWrap.append(this.d.intHTML),this.d.input.trigger("datebox",{method:"postrefresh"})},_check:function(){var t=this,n=null,r=this.options;t.dateOK=!0,r.afterToday!==!1&&(n=new t._date,t.theDate<n&&(t.theDate=n)),r.beforeToday!==!1&&(n=new t._date,t.theDate>n&&(t.theDate=n)),r.maxDays!==!1&&(n=new t._date,n.adj(2,r.maxDays),t.theDate>n&&(t.theDate=n)),r.minDays!==!1&&(n=new t._date,n.adj(2,-1*r.minDays),t.theDate<n&&(t.theDate=n)),r.minHour!==!1&&t.theDate.getHours()<r.minHour&&t.theDate.setHours(r.minHour),r.maxHour!==!1&&t.theDate.getHours()>r.maxHour&&t.theDate.setHours(r.maxHour),r.maxYear!==!1&&(n=new t._date(r.maxYear,0,1),n.adj(2,-1),t.theDate>n&&(t.theDate=n)),r.minYear!==!1&&(n=new t._date(r.minYear,0,1),t.theDate<n&&(t.theDate=n));if(e.inArray(r.mode,["timebox","durationbox","durationflipbox","timeflipbox"])>-1)r.mode==="timeflipbox"&&r.validHours!==!1&&e.inArray(t.theDate.getHours(),r.validHours)<0&&(t.dateOK=!1);else{if(r.blackDatesRec!==!1)for(i=0;i<r.blackDatesRec.length;i++)(r.blackDatesRec[i][0]===-1||r.blackDatesRec[i][0]===year)&&(r.blackDatesRec[i][1]===-1||r.blackDatesRec[i][1]===month)&&(r.blackDatesRec[i][2]===-1||r.blackDatesRec[i][2]===date)&&(t.dateOK=!1);r.blackDates!==!1&&e.inArray(t.theDate.iso(),r.blackDates)>-1&&(t.dateOK=!1),r.blackDays!==!1&&e.inArray(t.theDate.getDay(),r.blackDays)>-1&&(t.dateOK=!1)}},_grabLabel:function(){var e=this,t=this.options;return typeof t.overrideDialogLabel=="undefined"?typeof e.d.input.attr("placeholder")!="undefined"?e.d.input.attr("placeholder"):typeof e.d.input.attr("title")!="undefined"?e.d.input.attr("title"):e.d.wrap.parent().find("label[for='"+e.d.input.attr("id")+"']").text()!==""?e.d.wrap.parent().find("label[for='"+e.d.input.attr("id")+"']").text():!1:t.overrideDialogLabel},_makeEl:function(e,t){var n=!1,r=!1;r=e.clone();if(typeof t.attr!="undefined")for(n in t.attr)t.attr.hasOwnProperty(n)&&r.jqmData(n,t.attr[n]);return r},_getLongOptions:function(t){var n,r={},i,s;e.mobile.ns===""?i="datebox":i=e.mobile.ns.substr(0,e.mobile.ns.length-1)+"Datebox";for(n in t.data())n.substr(0,i.length)===i&&n.length>i.length&&(s=n.substr(i.length),s=s.charAt(0).toLowerCase()+s.slice(1),r[s]=t.data(n));return r},disable:function(){this.d.input.attr("disabled",!0),this.d.wrap.addClass("ui-disabled").blur(),this.disabled=!0,this.d.input.trigger("datebox",{method:"disable"})},enable:function(){this.d.input.attr("disabled",!1),this.d.wrap.removeClass("ui-disabled"),this.disabled=!1,this.d.input.trigger("datebox",{method:"enable"})},_setOption:function(){e.Widget.prototype._setOption.apply(this,arguments),this.refresh()},getTheDate:function(){return this.theDate},getLastDur:function(){return this.lastDuration},setTheDate:function(e){this.theDate=e,this.refresh()},callFormat:function(e,t){return this._formatter(e,t)}}),e(document).on("pagebeforecreate",function(t){e(":jqmData(role='datebox')",t.target).each(function(){e(this).prop("type","text")})}),e(document).on("pagecreate create",function(t){e(document).trigger("dateboxbeforecreate"),e(":jqmData(role='datebox')",t.target).each(function(){var t=parseInt(e.mobile.version.replace(/\./g,""),10)>111?typeof e(this).data("mobileDatebox"):typeof e(this).data("datebox");t==="undefined"&&e(this).datebox()})})}(jQuery),define("jqmDateboxCore",["jqueryMobile"],function(){}),function(e){e.extend(e.mobile.datebox.prototype.options,{themeDateToday:"a",themeDayHigh:"e",themeDatePick:"a",themeDateHigh:"e",themeDateHighAlt:"e",themeDate:"d",calHighToday:!0,calHighPick:!0,calShowDays:!0,calOnlyMonth:!1,calWeekMode:!1,calWeekModeDay:1,calWeekHigh:!1,calControlGroup:!1,calShowWeek:!1,calUsePickers:!1,calNoHeader:!1,useTodayButton:!1,useCollapsedBut:!1,highDays:!1,highDates:!1,highDatesAlt:!1,enableDates:!1}),e.extend(e.mobile.datebox.prototype,{_cal_gen:function(e,t,n,r,i){var s=0,o=0,u=1,a=1,f=[],l=[],c=!1;for(s=0;s<=5;s++)if(c===!1){l=[];for(o=0;o<=6;o++)s===0&&o<e?r===!0?l.push([t+(o-e)+1,i-1]):l.push(!1):s>3&&u>n?(r===!0?(l.push([a,i+1]),a++):l.push(!1),c=!0):(l.push([u,i]),u++,u>n&&(c=!0));f.push(l)}return f},_cal_check:function(t,n,r,i){var s=this,o=this.options,u={},a=(new this._date(n,r,i,0,0,0,0)).getDay();return u.ok=!0,u.iso=n+"-"+s._zPad(r+1)+"-"+s._zPad(i),u.comp=parseInt(u.iso.replace(/-/g,""),10),u.theme=o.themeDate,e.isArray(o.enableDates)&&e.inArray(u.iso,o.enableDates)<0?u.ok=!1:t.checkDates&&(o.afterToday===!0&&t.thisDate.comp()>u.comp||o.beforeToday===!0&&t.thisDate.comp()<u.comp||o.notToday===!0&&t.thisDate.comp()===u.comp||o.maxDays!==!1&&t.maxDate.comp()<u.comp||o.minDays!==!1&&t.minDate.comp()>u.comp||e.isArray(o.blackDays)&&e.inArray(a,o.blackDays)>-1||e.isArray(o.blackDates)&&e.inArray(u.iso,o.blackDates)>-1)&&(u.ok=!1),u.ok&&(o.calHighPick&&i===t.presetDay?u.theme=o.themeDatePick:o.calHighToday&&u.comp===t.thisDate.comp()?u.theme=o.themeDateToday:e.isArray(o.highDatesAlt)&&e.inArray(u.iso,o.highDatesAlt)>-1?u.theme=o.themeDateHighAlt:e.isArray(o.highDates)&&e.inArray(u.iso,o.highDates)>-1?u.theme=o.themeDateHigh:e.isArray(o.highDays)&&e.inArray(a,o.highDays)>-1&&(u.theme=o.themeDayHigh)),u}}),e.extend(e.mobile.datebox.prototype._build,{calbox:function(){var t=this,n=this.options,r,i=!1,s="ui-datebox-",o=!1,u=!1,a=!1,f=!1,l=!1;typeof t.d.intHTML!="boolean"&&t.d.intHTML.remove(),t.d.headerText=t._grabLabel()!==!1?t._grabLabel():t.__("titleDateDialogLabel"),t.d.intHTML=e("<span>"),e('<div class="'+s+'gridheader"><div class="'+s+'gridlabel"><h4>'+t.__("monthsOfYear")[t.theDate.getMonth()]+" "+t.theDate.getFullYear()+"</h4></div></div>").appendTo(t.d.intHTML),e("<div class='"+s+"gridplus"+(t.__("isRTL")?"-rtl":"")+"'><a href='#'>"+t.__("nextMonth")+"</a></div>").prependTo(t.d.intHTML.find("."+s+"gridheader")).buttonMarkup({theme:n.themeDate,icon:"arrow-r",inline:!0,iconpos:"notext",corners:!0,shadow:!0}).on(n.clickEventAlt,function(e){e.preventDefault(),t.calNext&&(t.theDate.getDate()>28&&t.theDate.setDate(1),t._offset("m",1))}),e("<div class='"+s+"gridminus"+(t.__("isRTL")?"-rtl":"")+"'><a href='#'>"+t.__("prevMonth")+"</a></div>").prependTo(t.d.intHTML.find("."+s+"gridheader")).buttonMarkup({theme:n.themeDate,icon:"arrow-l",inline:!0,iconpos:"notext",corners:!0,shadow:!0}).on(n.clickEventAlt,function(e){e.preventDefault(),t.calPrev&&(t.theDate.getDate()>28&&t.theDate.setDate(1),t._offset("m",-1))}),n.calNoHeader===!0&&t.d.intHTML.find("."+s+"gridheader").remove(),i={today:-1,highlightDay:-1,presetDay:-1,startDay:t.__("calStartDay"),thisDate:new t._date,maxDate:t.initDate.copy(),minDate:t.initDate.copy(),currentMonth:!1,weekMode:0,weekDays:null},i.start=(t.theDate.copy([0],[0,0,1]).getDay()-t.__("calStartDay")+7)%7,i.thisMonth=t.theDate.getMonth(),i.thisYear=t.theDate.getFullYear(),i.wk=t.theDate.copy([0],[0,0,1]).adj(2,-1*i.start+(t.__("calStartDay")===0?1:0)).getWeek(4),i.end=32-t.theDate.copy([0],[0,0,32,13]).getDate(),i.lastend=32-t.theDate.copy([0,-1],[0,0,32,13]).getDate(),i.presetDate=t._makeDate(t.d.input.val()),i.thisDateArr=i.thisDate.getArray(),i.theDateArr=t.theDate.getArray(),i.checkDates=e.inArray(!1,[n.afterToday,n.beforeToday,n.notToday,n.maxDays,n.minDays,n.blackDates,n.blackDays])>-1,t.calNext=!0,t.calPrev=!0,i.thisDateArr[0]===i.theDateArr[0]&&i.thisDateArr[1]===i.theDateArr[1]&&(i.currentMonth=!0),i.presetDate.comp()===t.theDate.comp()&&(i.presetDay=i.presetDate.getDate()),n.afterToday===!0&&(i.currentMonth===!0||i.thisDateArr[1]>=i.theDateArr[1]&&i.theDateArr[0]===i.thisDateArr[0])&&(t.calPrev=!1),n.beforeToday===!0&&(i.currentMonth===!0||i.thisDateArr[1]<=i.theDateArr[1]&&i.theDateArr[0]===i.thisDateArr[0])&&(t.calNext=!1),n.minDays!==!1&&(i.minDate.adj(2,-1*n.minDays),i.theDateArr[0]===i.minDate.getFullYear()&&i.theDateArr[1]<=i.minDate.getMonth()&&(t.calPrev=!1)),n.maxDays!==!1&&(i.maxDate.adj(2,n.maxDays),i.theDateArr[0]===i.maxDate.getFullYear()&&i.theDateArr[1]>=i.maxDate.getMonth()&&(t.calNext=!1));if(n.calUsePickers===!0){i.picker=e("<div>",{"class":"ui-grid-a ui-datebox-grid",style:"padding-top: 5px; padding-bottom: 5px;"}),i.picker1=e('<div class="ui-block-a"><select name="pickmon"></select></div>').appendTo(i.picker).find("select"),i.picker2=e('<div class="ui-block-b"><select name="pickyar"></select></div>').appendTo(i.picker).find("select");for(r=0;r<=11;r++)i.picker1.append(e('<option value="'+r+'"'+(i.thisMonth===r?' selected="selected"':"")+">"+t.__("monthsOfYear")[r]+"</option>"));for(r=i.thisYear-6;r<=i.thisYear+6;r++)i.picker2.append(e('<option value="'+r+'"'+(i.thisYear===r?' selected="selected"':"")+">"+r+"</option>"));i.picker1.on("change",function(){t.theDate.setMonth(e(this).val()),t.refresh()}),i.picker2.on("change",function(){t.theDate.setFullYear(e(this).val()),t.refresh()}),i.picker.find("select").selectmenu({mini:!0,nativeMenu:!0}),i.picker.appendTo(t.d.intHTML)}o=e('<div class="'+s+'grid">').appendTo(t.d.intHTML);if(n.calShowDays){t._cal_days=t.__("daysOfWeekShort").concat(t.__("daysOfWeekShort")),i.weekDays=e("<div>",{"class":s+"gridrow"}).appendTo(o),t.__("isRTL")===!0&&i.weekDays.css("direction","rtl"),n.calShowWeek&&e("<div>").addClass(s+"griddate "+s+"griddate-empty "+s+"griddate-label").appendTo(i.weekDays);for(r=0;r<=6;r++)e("<div>"+t._cal_days[(r+i.startDay)%7]+"</div>").addClass(s+"griddate "+s+"griddate-empty "+s+"griddate-label").appendTo(i.weekDays)}i.gen=t._cal_gen(i.start,i.lastend,i.end,!n.calOnlyMonth,t.theDate.getMonth());for(var u=0,c=i.gen.length;u<c;u++){f=e("<div>",{"class":s+"gridrow"}),t.__("isRTL")&&f.css("direction","rtl"),n.calShowWeek&&(e("<div>",{"class":s+"griddate "+s+"griddate-empty"}).text("W"+i.wk).appendTo(f),i.wk++,i.wk>52&&typeof i.gen[parseInt(u,10)+1]!="undefined"&&(i.wk=(new Date(i.theDateArr[0],i.theDateArr[1],t.__("calStartDay")===0?i.gen[parseInt(u,10)+1][1][0]:i.gen[parseInt(u,10)+1][0][0])).getWeek(4)));for(var a=0,h=i.gen[u].length;a<h;a++)n.calWeekMode&&(i.weekMode=i.gen[u][n.calWeekModeDay][0]),typeof i.gen[u][a]=="boolean"?e("<div>",{"class":s+"griddate "+s+"griddate-empty"}).appendTo(f):(l=t._cal_check(i,i.theDateArr[0],i.gen[u][a][1],i.gen[u][a][0]),i.gen[u][a][0]&&e("<div>"+String(i.gen[u][a][0])+"</div>").addClass(i.thisMonth===i.gen[u][a][1]?s+"griddate ui-corner-all ui-btn-up-"+l.theme+(l.ok?"":" "+s+"griddate-disable"):s+"griddate "+s+"griddate-empty").jqmData("date",n.calWeekMode?i.weekMode:i.gen[u][a][0]).jqmData("theme",i.thisMonth===i.gen[u][a][1]?l.theme:"-").jqmData("enabled",l.ok).jqmData("month",i.gen[u][a][1]).appendTo(f));n.calControlGroup===!0&&f.find(".ui-corner-all").removeClass("ui-corner-all").eq(0).addClass("ui-corner-left").end().last().addClass("ui-corner-right").addClass("ui-controlgroup-last"),f.appendTo(o)}n.calShowWeek&&o.find("."+s+"griddate").addClass(s+"griddate-week");if(n.useTodayButton||n.useClearButton)f=e("<div>",{"class":s+"controls"}),n.useTodayButton&&e('<a href="#">'+t.__("calTodayButtonLabel")+"</a>").appendTo(f).buttonMarkup({theme:n.theme,icon:"check",iconpos:"left",corners:!0,shadow:!0}).on(n.clickEvent,function(e){e.preventDefault(),t.theDate=new t._date,t.theDate=new t._date(t.theDate.getFullYear(),t.theDate.getMonth(),t.theDate.getDate(),0,0,0,0),t.d.input.trigger("datebox",{method:"doset"})}),n.useClearButton&&e('<a href="#">'+t.__("clearButton")+"</a>").appendTo(f).buttonMarkup({theme:n.theme,icon:"delete",iconpos:"left",corners:!0,shadow:!0}).on(n.clickEventAlt,function(e){e.preventDefault(),t.d.input.val(""),t.d.input.trigger("datebox",{method:"clear"}),t.d.input.trigger("datebox",{method:"close"})}),n.useCollapsedBut&&f.addClass("ui-datebox-collapse"),f.appendTo(o);t.d.intHTML.on(n.clickEventAlt+" vmouseover vmouseout","div."+s+"griddate",function(r){r.type===n.clickEventAlt?(r.preventDefault(),e(this).jqmData("enabled")&&(t.theDate.set(2,1).set(1,e(this).jqmData("month")).set(2,e(this).jqmData("date")),t.d.input.trigger("datebox",{method:"set",value:t._formatter(t.__fmt(),t.theDate),date:t.theDate}),t.d.input.trigger("datebox",{method:"close"}))):e(this).jqmData("enabled")&&typeof e(this).jqmData("theme")!="undefined"&&(n.calWeekMode!==!1&&n.calWeekHigh===!0?e(this).parent().find("div").each(function(){t._hoover(this)}):t._hoover(this))}),t.d.intHTML.on("swipeleft",function(){t.calNext&&t._offset("m",1)}).on("swiperight",function(){t.calPrev&&t._offset("m",-1)}),t.wheelExists&&t.d.intHTML.on("mousewheel",function(e,n){e.preventDefault(),n>0&&t.calNext&&(t.theDate.set(2,1),t._offset("m",1)),n<0&&t.calPrev&&(t.theDate.set(2,1),t._offset("m",-1))})}})}(jQuery),define("jqmDateboxModeCalbox",["jqmDateboxCore"],function(){});var dailySummaryFilters={action:{All:{value:""},"Initiate Rollover Request":{value:"IRR"},"Initiate Rollover Error Response":{value:"IRER"},"Rollover Transaction Request":{value:"RTR"},"Rollover Transaction Outcome Response":{value:"RTOR"},"Unknown Request":{value:"UKN"}}};window.TabDailySummary=TabContentView.extend({initialize:function(){TabContentView.prototype.initialize.apply(this,arguments),this.tabName=$.i18n.prop("tab.summary");var e=this;this.ebmsMessage=new EbmsMessage,this.toDate=new Date,this.fromDate=new Date,this.fromDate.setMonth(this.fromDate.getMonth()-app_config.defaultDateRange),this.toDate.setHours(0,0,0,0),this.fromDate.setHours(0,0,0,0),this.filters={},this.filterChanges={},this.firstLoad=!0,this.ready={},this.messagePage=this.options.messagePage,this.prepareFiltersAndContainers()},prepareFiltersAndContainers:function(){this.prepareFilters(),this.prepareContainers(),this.setDataReady(),this.loadFundProductFilters(),this.$el.find("input[type=text]").each(function(){$(this).parent().removeClass("ui-corner-all")}),this.$el.find("div[class=ui-select]").each(function(){$(this).addClass("ui-icon-alt")}),this.populateDropDown(),this.populateSortAndFilters(),this.$el.on("keydown","input",function(e){if(e.target.name=="ebmsMessageId")return $("input[name=conversationId]").val(""),window.allowNumberOnly(e);e.target.name=="conversationId"&&$("input[name=ebmsMessageId]").val("")}),this.$el.on("click","a[name=advancedSearchLink]",function(e){$(".filter-dropdown-table").toggle("fast"),$("a[name=advancedSearchLink]").hide(),$("a[name=hideAdvancedSearchLink]").show()}),this.$el.on("click","a[name=hideAdvancedSearchLink]",function(e){$(".filter-dropdown-table").toggle("fast"),$("a[name=advancedSearchLink]").show(),$("a[name=hideAdvancedSearchLink]").hide()});var e=this;setTimeout(function(){e.loadData()},200)},loadFundProductFilters:function(e,t){this.blockFilter(!0,$.i18n.prop("message.fund.product.loading")),this.ready.dropdown=!1,this.messagePage.loadFundAndProductFilters(this,e,t)},loadData:function(e){var t=_.extend({fromDate:dateFormat(this.fromDate,app_config.serverDateTimePattern),toDate:dateFormat(this.toDate,app_config.serverDateTimePattern)},this.filters);for(var n in t)(n=="date_startValue"||n=="date_endValue"||t[n]===undefined||t[n]===null||t[n].trim()=="")&&delete t[n];this.blockFilter(!0,$.i18n.prop("message.tabs.summary.loading"));var r=this;this.clearContainer(this.messageSummaryContainer),this.ready.ebmsMessage=!1,this.ebmsMessage.dailySummary.fetch({data:t,success:function(){r.refreshContainer(r.messageSummaryContainer,r.ebmsMessage.dailySummary)},error:function(){r.displayMessage($.i18n.prop("message.tabs.request.failed"),!0)},complete:function(){r.ready.ebmsMessage=!0,r.unblockTabDailySummary()}}),this.firstLoad=!1,this.filterChanges={}},isAllDataReady:function(){for(var e in this.ready)if(!this.ready[e])return!1;return!0},unblockTabDailySummary:function(){this.isAllDataReady()&&this.blockFilter(!1)},allReadyHandler:function(){this.ready.dropdown=!0,this.unblockTabDailySummary()},prepareFilters:function(){var e=this;this.dailySummaryFilter=new GenericElementView({tagName:"form",attributes:{action:"#"},templateName:"partial/tab-summary-filter",fromLabel:$.i18n.prop("label.form.from"),toLabel:$.i18n.prop("label.form.to"),typeLabel:$.i18n.prop("message.info.label.message.type"),sourceFundLabel:$.i18n.prop("label.form.source.fund"),sourceProductLabel:$.i18n.prop("label.form.source.product"),targetFundLabel:$.i18n.prop("label.form.target.fund"),targetProductLabel:$.i18n.prop("label.form.target.product"),ebMSMessageIdLabel:$.i18n.prop("label.form.ebms.messageid"),conversationIdLabel:$.i18n.prop("label.form.conversationid"),btnFilter:$.i18n.prop("button.retrieve"),btnClear:$.i18n.prop("button.clear"),fromDateValue:dateFormat(e.fromDate,app_config.datePattern),toDateValue:dateFormat(e.toDate,app_config.datePattern),advancedSearchLabel:$.i18n.prop("label.form.advanced.search"),hideAdvancedSearchLabel:$.i18n.prop("label.form.hide.advanced.search")}),this.subViews.push(this.dailySummaryFilter)},prepareTableContainer:function(e,t){this[e+"Title"]=new GenericElementView({templateName:"partial/tab-summary-section-title",titleLabel:t,attributes:{"class":"summary-section-title"}}),this[e]=new GenericElementView({attributes:{"class":"summary-section-container"}}),this.subViews.push(this[e+"Title"]),this.subViews.push(this[e]),this.subViews.push(new LineBreakView({count:1,attributes:{"class":"clear"}}))},prepareContainers:function(){this.notificationContainer=new GenericElementView({attributes:{"class":"daily-summary-notification"}}),this.subViews.push(this.notificationContainer),this.prepareTableContainer("messageSummaryContainer",$.i18n.prop("title.label.message.summary"))},disableFilterButton:function(e){var t=this.dailySummaryFilter.$el.find("button[data-type=filter]"),n=$(t.closest(".ui-btn")[0]),r=t.data("select-theme"),i=t.data("theme");e?(t.prev().find(".ui-btn-text").text($.i18n.prop("button.refresh")),r&&i&&(n.attr("data-theme",r),n.removeClass(String.format("ui-btn-up-{0} ui-btn-hover-{0} ui-btn-down-{0}",i)),n.addClass(String.format("ui-btn-up-{0}",r)))):(t.prev().find(".ui-btn-text").text($.i18n.prop("button.retrieve")),r&&i&&(n.attr("data-theme",i),n.removeClass(String.format("ui-btn-up-{0} ui-btn-hover-{0} ui-btn-down-{0}",r)),n.addClass(String.format("ui-btn-up-{0}",i))))},populateDropDown:function(){var e=this;this.dailySummaryFilter.$el.find("input[type=text]").on("change",function(t){var n=$(t.target),r=n.val(),i=n.attr("name"),s=e.fromDate,o=e.toDate;i=="date_startValue"?(s=$.fformat.date(r,app_config.datePattern),s.setHours(0,0,0,0)):i=="date_endValue"&&(o=$.fformat.date(r,app_config.datePattern),o.setHours(0,0,0,0));if(s>o){Dialog.showMessage($.i18n.prop("message.date.error1"));return}if(s.getTime()!=e.fromDate.getTime()||o.getTime()!=e.toDate.getTime())e.fromDate=s,e.toDate=o,e.loadFundProductFilters(s,o)})},populateSortAndFilters:function(){var e=this,t=[];_(dailySummaryFilters.action).each(function(e,n){t.push({label:n,value:e.value})}),this.actionFilterDropDown=new DropDownBoxView({items:t}),this.actionFilterDropDown.setElement(this.dailySummaryFilter.$el.find("#tab-daily-summary-type-filter")),this.actionFilterDropDown.render(),this.actionFilterDropDown.setSelectedIndex(0),this.dailySummaryFilter.changeAttached=this.dailySummaryFilter.changeAttached||0,this.dailySummaryFilter.changeAttached++,this.dailySummaryFilter.$el.on("change",function(t){var n=$(t.target),r=n.val(),i=n.attr("name");e.filters[i]!=r?e.filterChanges[i]=!0:e.filterChanges[i]=!1,e.disableFilterButton(!e.filterChanged())}).on("submit",function(){return!1}),this.dailySummaryFilter.$el.find("button").on("click",function(t){var n=$(t.currentTarget).data("type");if(n=="filter"){var r=e.dailySummaryFilter.$el.find("input[name=date_startValue]").val(),i=$.fformat.date(r,app_config.datePattern);i.setHours(0,0,0,0);var s=e.dailySummaryFilter.$el.find("input[name=date_endValue]").val(),o=$.fformat.date(s,app_config.datePattern);o.setHours(0,0,0,0);var u=e.dailySummaryFilter.$el.find('select[name="action"]').val();if(i>o)return Dialog.showMessage($.i18n.prop("message.date.error1")),!1;var a=e.dailySummaryFilter.$el.find('select[name="sourceABN"]').val(),f=e.dailySummaryFilter.$el.find('select[name="sourceUSI"]').val(),l=e.dailySummaryFilter.$el.find('select[name="targetABN"]').val(),c=e.dailySummaryFilter.$el.find('select[name="targetUSI"]').val(),h=e.dailySummaryFilter.$el.find("input[name=ebmsMessageId]").val(),p=e.dailySummaryFilter.$el.find("input[name=conversationId]").val();e.filters={sourceABN:a,sourceUSI:f,targetABN:l,targetUSI:c,action:u,date_startValue:dateFormat(i,app_config.datePattern),date_endValue:dateFormat(o,app_config.datePattern),ebmsMessageId:h,conversationId:p},e.disableFilterButton(!0),e.loadData()}else n=="reset"&&(e.dailySummaryFilter.el.reset(),e.disableFilterButton(!1));return!1})},filterChanged:function(){if(this.firstLoad)return!0;for(var e in this.filterChanges)if(this.filterChanges[e])return!0;return!1},getDropdownContainer:function(e){var t=e.split("."),n=this.dailySummaryFilter.$el.find(String.format("#daily-summary-participant-{0}-{1}-container",t[0],t[1]));return n.removeClass("text-red")},setDropdownError:function(e){this.getDropdownContainer(e).empty().addClass("text-red").text("Error")},clearContainer:function(e){e.tableView&&e.tableView.destroy(),e.$el.empty().unbind().addClass("data-loading")},showTabMessages:function(e,t,n,r,i,s){e=new Date(e);var o=this.parent.tabs[1],u=!0,a=this.dailySummaryFilter.$el.find('select[name="sourceABN"]').val(),f=this.dailySummaryFilter.$el.find('select[name="sourceUSI"]').val(),l=this.dailySummaryFilter.$el.find('select[name="targetABN"]').val(),c=this.dailySummaryFilter.$el.find('select[name="targetUSI"]').val();o.applyFilter(e,e,{direction:t,action:n,showErrorOnly:r,sourceABN:a,sourceUSI:f,targetABN:l,targetUSI:c,ebmsMessageId:i,conversationId:s},u),this.parent.showTab(1)},refreshContainer:function(e,t){this.drawDailySummaryTable(e,t),e.$el.removeClass("data-loading");var n=this;e.tableView.$el.on("click a",function(e){var t=$(e.target),r=t.data("daily-summary-date"),i=t.data("daily-summary-direction"),s=t.data("daily-summary-type"),o=t.data("daily-summary-error"),u=t.data("summary-ebmsmessageid"),a=t.data("summary-conversationid");return r&&n.showTabMessages(r,i,s,o,u,a),!1}),e.tableView.$el.find("span.tooltip-enabled").on("mouseenter",function(e){TooltipHelper.showTooltip(e)}).on("mouseleave",function(e){TooltipHelper.hideTooltip(e)})},linkToDetails:function(e,t,n){var r=$("input[name=ebmsMessageId]").val(),i=$("input[name=conversationId]").val(),s=String.format('<a href="#" data-daily-summary-date="{0}", data-daily-summary-direction="{1}", data-daily-summary-type="{2}", data-daily-summary-error="{3}", data-summary-ebmsMessageId="{5}", data-summary-conversationId="{6}">{4}</a>',t[0],t[1],t[2].trim(),n,e,r,i);return s},drawDailySummaryTable:function(e,t){var n=this;e.tableView=new TableView({useDataTable:!0,enableSmartResize:!0,attributes:{"class":"table-style-1",cellspacing:"0",cellpadding:"0"},bindings:{headers:[{title:$.i18n.prop("message.info.label.date"),dataAttribute:"date",width:"20%",type:"numeric",dataFormat:function(e,t,n){return t=="sort"||t=="filter"?e:dateFormat(e,app_config.datePattern)}},{title:$.i18n.prop("message.info.label.direction"),dataAttribute:"direction",width:"15%",dataFormat:function(e,t,n){return t=="sort"||t=="filter"?e:$.i18n.prop(String.format("message.info.label.direction.{0}",e))}},{title:$.i18n.prop("message.info.label.type"),dataAttribute:"messageAction",dataFormat:function(e,t,n){return t=="sort"||t=="filter"?e:String.format("<span class='tooltip-enabled' title='Rollover Transaction Request'>{0}</span>",e)},width:"15%"},{title:$.i18n.prop("message.info.label.succeeded"),dataAttribute:"totalSucceeded",nullValue:0,width:"20%",dataFormat:function(e,t,n){return t=="sort"||t=="filter"?e:nformat(e,"#,##0")}},{title:$.i18n.prop("message.info.label.errors"),dataAttribute:"totalErrors",width:"10%",type:"numeric",nullValue:0,dataFormat:function(e,t,r){return t=="sort"||t=="filter"?e:n.linkToDetails(nformat(e,"#,##0"),r,"true")}},{title:$.i18n.prop("message.info.label.grand.total"),dataAttribute:"grandTotal",width:"20%",type:"numeric",nullValue:0,dataFormat:function(e,t,r){return t=="sort"||t=="filter"?e:n.linkToDetails(nformat(e,"#,##0"),r,"false")}}],data:t.toJSON()}}),e.$el.append(e.tableView.render().el),e.tableView.enableDataTable({sDom:"lrtip",sPaginationType:"full_numbers",iDisplayLength:app_config.numberOfDataRows,bAutoWidth:!1})},displayMessage:function(e,t){this.notificationContainer.$el.empty(),this.notificationContainer.$el.append(e),t&&this.notificationContainer.$el.addClass("text-red")},blockFilter:function(e,t){typeof e=="undefined"&&(e=!0),e&&!this.blockingFilter?(this.tableView&&this.tableView.$el.block(),this.dailySummaryFilter.$el.block({message:"<div class='data-loading'><span>"+t+"</span></div>"})):(this.tableView&&this.tableView.$el.unblock(),this.dailySummaryFilter.$el.unblock()),this.blockingFilter=e},filterTable:function(){var e=this.tableView.parseFilterString(this.dailySummaryFilter.$el.serialize());this.tableView.applyFilter(e)}}),define("tabDailySummary",["commonView","helpers","jqueryBlockUI","messageModels","jqmDateboxModeCalbox","jqueryMobileSimpledialog2"],function(){});var messageFilters={direction:{All:{value:""},Incoming:{value:"In"},Outgoing:{value:"Out"}},action:{All:{value:""},"Initiate Rollover Request":{value:"IRR"},"Initiate Rollover Error Response":{value:"IRER"},"Rollover Transaction Request":{value:"RTR"},"Rollover Transaction Outcome Response":{value:"RTOR"},"Unknown Request":{value:"UKN"}}};window.TabMessages=TabContentView.extend({initialize:function(){TabContentView.prototype.initialize.apply(this,arguments),this.tabName=$.i18n.prop("tab.messages");var e=this;this.model=new EbmsMessages,this.today=new Date,this.toDate=new Date(this.today.getTime()),this.fromDate=new Date(this.today.getTime()),this.fromDate.setDate(this.fromDate.getDate()-app_config.defaultDateRange),this.fromDate.setHours(0,0,0,0),this.filters={direction:"",action:"",sourceABN:"",sourceUSI:"",targetABN:"",targetUSI:""},this.filterChanges={},this.firstLoad=!0,this.loadDataComplete=!0,this.ready={},this.messagePage=this.options.messagePage,this.prepareContent()},prepareContent:function(){var e=this;this.messagesFilter=new GenericElementView({tagName:"form",attributes:{action:"#"},templateName:"partial/tab-messages-filter",fromLabel:$.i18n.prop("label.form.from"),toLabel:$.i18n.prop("label.form.to"),directionLabel:$.i18n.prop("label.form.direction"),actionLabel:$.i18n.prop("label.form.messgae.type"),sourceFundLabel:$.i18n.prop("label.form.source.fund"),sourceProductLabel:$.i18n.prop("label.form.source.product"),targetFundLabel:$.i18n.prop("label.form.target.fund"),targetProductLabel:$.i18n.prop("label.form.target.product"),textCheck:$.i18n.prop("label.form.add.error.only"),btnFilter:$.i18n.prop("button.retrieve"),btnClear:$.i18n.prop("button.clear"),fromDateValue:dateFormat(e.fromDate,app_config.datePattern),toDateValue:dateFormat(e.toDate,app_config.datePattern)}),this.messagesFilter.changed=!0,this.subViews.push(this.messagesFilter),this.tableContainer=new GenericElementView,this.subViews.push(this.tableContainer),this.setDataReady(),this.loadFundProductFilters(),this.messagesFilter.$el.find("input[type=text]").each(function(){$(this).parent().removeClass("ui-corner-all")}),this.populateSortAndFilters(),this.populateDropDown()},filterChanged:function(){if(this.firstLoad)return!0;for(var e in this.filterChanges)if(this.filterChanges[e])return!0;return!1},getDropdownContainer:function(e){var t=e.split("."),n=this.messagesFilter.$el.find(String.format("#message-participant-{0}-{1}-container",t[0],t[1]));return n.removeClass("text-red")},setDropdownError:function(e){this.getDropdownContainer(e).empty().addClass("text-red").text($.i18n.prop("message.error.requert.dropdown"))},disableFilterButton:function(e){var t=this.messagesFilter.$el.find("button[data-type=filter]"),n=$(t.closest(".ui-btn")[0]),r=t.data("select-theme"),i=t.data("theme");e?(t.prev().find(".ui-btn-text").text($.i18n.prop("button.refresh")),r&&i&&(n.attr("data-theme",r),n.removeClass(String.format("ui-btn-up-{0} ui-btn-hover-{0} ui-btn-down-{0}",i)),n.addClass(String.format("ui-btn-up-{0}",r)))):(t.prev().find(".ui-btn-text").text($.i18n.prop("button.retrieve")),r&&i&&(n.attr("data-theme",i),n.removeClass(String.format("ui-btn-up-{0} ui-btn-hover-{0} ui-btn-down-{0}",r)),n.addClass(String.format("ui-btn-up-{0}",i))))},populateDropDown:function(){var e=this;this.messagesFilter.$el.find("input[type=text]").on("change",function(t){var n=$(t.target),r=n.val(),i=n.attr("name"),s=e.fromDate,o=e.toDate;i=="receivedDatetime_startValue"&&(s=$.fformat.date(r,app_config.datePattern),s.setHours(0,0,0,0)),i=="receivedDatetime_endValue"&&(o=$.fformat.date(r,app_config.datePattern),o.setHours(0,0,0,0));if(s>o){Dialog.showMessage($.i18n.prop("message.date.error1"));return}if(s.getTime()!=e.fromDate.getTime()||o.getTime()!=e.toDate.getTime())e.fromDate=s,e.toDate=o,e.loadFundProductFilters(s,o)})},populateSortAndFilters:function(){var e=this,t=[],n=[];_(messageFilters.direction).each(function(e,n){t.push({label:n,value:e.value})}),_(messageFilters.action).each(function(e,t){n.push({label:t,value:e.value})}),this.directionFilterDropDown=new DropDownBoxView({items:t}),this.actionFilterDropDown=new DropDownBoxView({items:n}),this.directionFilterDropDown.setElement(this.messagesFilter.$el.find("#tab-messages-direction-filter")),this.directionFilterDropDown.render(),this.directionFilterDropDown.setSelectedIndex(0),this.actionFilterDropDown.setElement(this.messagesFilter.$el.find("#tab-messages-type-filter")),this.actionFilterDropDown.render(),this.actionFilterDropDown.setSelectedIndex(0),this.messagesFilter.$el.on("change",function(t){var n=$(t.target),r;n.attr("type")=="checkbox"?r=n.is(":checked")?"true":"false":r=n.val();var i=n.attr("name");e.filters[i]!=r?e.filterChanges[i]=!0:e.filterChanges[i]=!1,e.disableFilterButton(!e.filterChanged())}).on("submit",function(){return!1}),this.messagesFilter.$el.find("button").on("click",function(t){if(!e.dataReady)return!1;var n=$(t.currentTarget).data("type");if(n=="filter"){var r=e.messagesFilter.$el.find('select[name="direction"]').val(),i=e.messagesFilter.$el.find('select[name="action"]').val(),s=e.messagesFilter.$el.find('select[name="sourceABN"]').val(),o=e.messagesFilter.$el.find('select[name="sourceUSI"]').val(),u=e.messagesFilter.$el.find('select[name="targetABN"]').val(),a=e.messagesFilter.$el.find('select[name="targetUSI"]').val(),f=e.messagesFilter.$el.find("input[name=showErrorOnly]").is(":checked")?"true":"false",l=e.messagesFilter.$el.find("input[name=receivedDatetime_startValue]").val(),c=$.fformat.date(l,app_config.datePattern),h=e.messagesFilter.$el.find("input[name=receivedDatetime_endValue]").val(),p=$.fformat.date(h,app_config.datePattern);if(c>p)return Dialog.showMessage($.i18n.prop("message.date.error1")),!1;e.applyFilter(c,p,{direction:r,action:i,sourceABN:s,sourceUSI:o,targetABN:u,targetUSI:a,showErrorOnly:f,receivedDatetime_startValue:dateFormat(c,app_config.datePattern),receivedDatetime_endValue:dateFormat(p,app_config.datePattern)})}else n=="reset"&&(e.messagesFilter.el.reset(),e.disableFilterButton(!1));return!1})},loadFundProductFilters:function(e,t){this.blockFilter(!0,$.i18n.prop("message.fund.product.loading")),this.allDropdownReady=!1,this.messagePage.loadFundAndProductFilters(this,e,t)},loadData:function(e){var t=this,n=_.extend({fromDate:dateFormat(this.fromDate,app_config.serverDateTimePattern),toDate:dateFormat(this.toDate,app_config.serverDateTimePattern)},this.filters);for(var r in n)(r=="receivedDatetime_startValue"||r=="receivedDatetime_endValue"||n[r]===undefined||n[r]===null||n[r]=="")&&delete n[r];this.blockFilter(!0,$.i18n.prop("message.tabs.message.loading")),this.loadDataComplete=!1,t.model.fetch({data:n,success:function(){t.refreshContent()},error:function(){t.displayMessage($.i18n.prop("message.tabs.request.failed"),!0)},complete:function(){t.loadDataComplete=!0,t.unblockTabMessages()}}),this.firstLoad=!1},refreshContent:function(){this.filterChanges={},this.drawMessagesTable();var e=this;this.tableView.$el.on("click","a",function(t){var n=$(t.target).data("messageid");return n&&e.showDetails(n),!1}),this.tableView.$el.find("span.tooltip-enabled").on("mouseenter",function(e){TooltipHelper.showTooltip(e)}).on("mouseleave",function(e){TooltipHelper.hideTooltip(e)}),this.disableFilterButton(!0)},drawMessagesTable:function(){var e=this;this.tableView&&(this.messagesFilter.$el.find(".table-length-dropdown-placeholder").empty(),this.tableView.$el.fnDestroy(),this.tableView.remove().unbind()),this.tableView=new TableView({useDataTable:!0,enableSmartResize:!0,attributes:{"class":"table-style-1 medium-text",cellspacing:"0",cellpadding:"0"},bindings:{headers:[{title:$.i18n.prop("message.info.label.id"),dataAttribute:"ebmsMessageId",width:"5%"},{title:$.i18n.prop("message.info.label.conversation.id"),dataAttribute:"conversationId",width:"17%",dataFormat:function(t,n,r){return n=="sort"||n=="filter"?t:e.linkToDetails(t,r)}},{title:$.i18n.prop("message.info.label.message.type.short"),dataAttribute:"messageActionId.name,messageActionId.shortCode",dataAttributeFormat:"<span class='tooltip-enabled' title='{0}'>{1}</span>",width:"8%"},{title:$.i18n.prop("message.info.label.direction"),dataAttribute:"direction",width:"7%",dataFormat:function(e,t,n){return t=="sort"||t=="filter"?e:$.i18n.prop(String.format("message.info.label.direction.{0}",e))}},{title:$.i18n.prop("message.info.label.status"),dataAttribute:"errorStatus",width:"7%",dataFormat:function(t,n,r){return n=="sort"||n=="filter"?t:e.displayStatusIcon(t)},aoColumn:{sClass:"alignment-center"}},{title:$.i18n.prop("message.info.label.parts"),dataAttribute:"ebmsMessagePartCount",width:"9%",type:"numeric",dataFormat:function(e,t,n){return t=="sort"||t=="filter"?e:nformat(e,"#,##0")}},{title:$.i18n.prop("message.info.label.received"),dataAttribute:"receivedDatetime",width:"9%",type:"numeric",dataFormat:function(e,t,n){return t=="sort"||t=="filter"?e:dateFormat(e,app_config.dateTimePattern)}},{title:$.i18n.prop("message.info.label.deliver"),dataAttribute:"completedDatetime",nullValue:"",width:"9%",dataFormat:function(e,t,n){return t=="sort"||t=="filter"?e:n[3]=="In"?"N/A":typeof e!="number"?e:dateFormat(e,app_config.dateTimePattern)}},{title:$.i18n.prop("message.info.label.source"),dataAttribute:"sourceAbn,sourceUsi,sourceParticipantId.name,sourceParticipantId.productName",dataAttributeFormat:"<span class='tooltip-enabled source-fund' title='ABN: {0} - USI: {1}'><b>Name:</b> {2}<br/><b>Product:</b> {3}</span>",width:"19%"},{title:$.i18n.prop("message.info.label.target"),dataAttribute:"targetAbn,targetUsi,targetParticipantId.name,targetParticipantId.productName",dataAttributeFormat:"<span class='tooltip-enabled source-fund' title='ABN: {0} - USI: {1}'><b>Name:</b> {2}<br/><b>Product:</b> {3}</span>",width:"19%"}],data:this.model.toJSON()}}),this.tableContainer.$el.empty().append(this.tableView.render().el),this.tableView.enableDataTable({sDom:"lrtip",sPaginationType:"full_numbers",iDisplayLength:app_config.numberOfDataRows,bAutoWidth:!1}),this.tableView.$el.siblings(".dataTables_length").appendTo(this.messagesFilter.$el.find(".table-length-dropdown-placeholder"))},displayStatusIcon:function(e){if(e=="Ok"){var t=_.template(tpl.get("partial/icon-green-tick"));return t({value:""})}if(e=="Error"){var t=_.template(tpl.get("partial/icon-red-cross"));return t({value:""})}if(e=="Warning"){var t=_.template(tpl.get("partial/icon-yellow-warning"));return t({value:""})}return e="",e},linkToDetails:function(e,t){return String.format('<a href="#" data-messageid="{0}">{1}</a>',t[0],e)},showDetails:function(e){var t=new TabDetails({removable:!0,showFilter:!1});t.tabName=String.format("Details [{0}]",e),this.parent.addTab(t),t.showMessageDetails(e),this.parent.showTab(this.parent.tabs.length-1)},blockFilter:function(e,t){typeof e=="undefined"&&(e=!0),console.log("Block filter requested, ",e),e&&!this.blockingFilter?(this.tableView&&this.tableView.$el.block(),this.messagesFilter.$el.block({message:"<div class='data-loading'><span>"+t+"</span></div>"})):(this.tableView&&this.tableView.$el.unblock(),this.messagesFilter.$el.unblock()),this.blockingFilter=e},unblockTabMessages:function(){this.loadDataComplete&&this.allDropdownReady&&this.blockFilter(!1)},filterTable:function(){if(this.tableView){var e=this.tableView.parseFilterString(this.messagesFilter.$el.serialize());this.tableView.applyFilter(e)}},allReadyHandler:function(){this.detailsDropdowns.fund.source.setSelectedValue(this.filters.sourceABN),this.detailsDropdowns.product.source.setSelectedValue(this.filters.sourceUSI),this.detailsDropdowns.fund.target.setSelectedValue(this.filters.targetABN),this.detailsDropdowns.product.target.setSelectedValue(this.filters.targetUSI),console.log("tab message allready handler"),this.allDropdownReady=!0,this.unblockTabMessages()},setDropdownValues:function(e){this.directionFilterDropDown.setSelectedValue(e.direction),this.actionFilterDropDown.setSelectedValue(e.action)},applyFilter:function(e,t,n,r){this.fromDate=e||this.fromDate,this.toDate=t||this.toDate,this.fromDate.setHours(0,0,0,0),this.toDate.setHours(0,0,0,0),this.filters=n||this.filters,r&&(this.loadFundProductFilters(this.fromDate,this.toDate),this.messagesFilter.$el.find("input[name=receivedDatetime_startValue]").val(dateFormat(e,app_config.datePattern)),this.messagesFilter.$el.find("input[name=receivedDatetime_endValue]").val(dateFormat(e,app_config.datePattern)),this.setDropdownValues(n),this.filters.showErrorOnly=="true"?this.messagesFilter.$el.find("#check-error-only").prop("checked",!0):this.messagesFilter.$el.find("#check-error-only").prop("checked",!1));var i=this;setTimeout(function(){i.loadData()},200)}}),define("tabMessages",["commonView","helpers","jqueryBlockUI","messageModels","jqmDateboxModeCalbox","jqueryMobileSimpledialog2"],function(){}),window.TabSendOutgoing=TabContentView.extend({initialize:function(){TabContentView.prototype.initialize.apply(this,arguments),this.tabName=$.i18n.prop("tab.send.outgoing"),this.prepareContent()},prepareContent:function(){}}),define("tabSendOutgoing",["commonView","helpers","jqueryBlockUI","messageModels","commonPage","jqmDateboxModeCalbox","jqueryMobileSimpledialog2"],function(){}),window.MessagesPage=BasePage.extend({initialize:function(){this.menuIndex=1,BasePage.prototype.initialize.apply(this,arguments),this.pageId="messages",this.prepareData()},prepareData:function(){this.createTabs()},createTabs:function(){this.tabContentViews=[],this.tabDailySummary=new TabDailySummary({messagePage:this}),this.tabMessages=new TabMessages({messagePage:this}),this.tabSendOutgoing=new TabSendOutgoing({messagePage:this}),this.tabContentViews.push(this.tabDailySummary),this.tabContentViews.push(this.tabMessages),(new LoginDetails).fetch({success:function(e){console.log(JSON.stringify(e)),alert(JSON.stringify(e)),alert(e.userName)}}),this.tabView=new TabsView({tabs:this.tabContentViews,useNicescroll:!0}),this.mainContents.push(this.tabView)},triggerReadyCallBack:function(e){for(var t in e.ready)if(!e.ready[t])return;e.allReadyHandler&&e.allReadyHandler()},drawFundOrProductDropdown:function(e,t){var n=t.split(".");e.detailsDropdowns=e.detailsDropdowns||{},e.detailsDropdowns[n[0]]=e.detailsDropdowns[n[0]]||{},e.detailsDropdowns[n[0]][n[1]]&&e.detailsDropdowns[n[0]][n[1]].remove().unbind(),e.detailsDropdowns[n[0]][n[1]]=new BindableDropdowView({prefixItems:[{_html:"All",value:""}],dataSet:e.participant[n[0]][n[1]],bindableAttribute:{_html:{attribute:n[0]=="product"?"productName,usi":"fundName,abn",format:"{0} [{1}]"},value:n[0]=="product"?"usi":"abn"},attributes:{id:String.format("{0}-{1}-{2}",e.tabName,n[1],n[0]=="fund"?"ABN":"USI"),name:String.format("{0}{1}",n[1],n[0]=="fund"?"ABN":"USI"),"data-iconshadow":"false","data-corners":"false","data-shadow":"false","data-theme":"d"}});var r=e.getDropdownContainer(t);r.append(e.detailsDropdowns[n[0]][n[1]].render().el),e.detailsDropdowns[n[0]][n[1]].refresh(),r.removeClass("data-loading"),e.ready[t]=!0,this.triggerReadyCallBack(e)},filterProductDropdown:function(e,t,n){t!=null?e.detailsDropdowns.product[n].filter({abn:t.attributes.abn}):(e.detailsDropdowns.product[n].clearFilters(),e.detailsDropdowns.product[n].setSelectedIndex(0))},attachDropdownEvent:function(e,t){var n=this;e.detailsDropdowns.fund[t].options.selectChangeHandler=function(){n.filterProductDropdown(e,e.detailsDropdowns.fund[t].getSelectedObject(),t)}},prepareDropdown:function(e,t){this.drawFundOrProductDropdown(e,t);var n=t.split(".");n[0]=="fund"&&this.attachDropdownEvent(e,n[1])},loadFundAndProductFilters:function(e){console.log("call loadFundAndProductFilters"),e.participant=new Participant;var t=this;e.ready={"fund.source":!1,"fund.target":!1,"product.source":!1,"product.target":!1};var n=new Date;n.setHours(0,0,0,0);if(!e.fromDate||!e.toDate)e.fromDate=e.toDate=n;var r={fromDate:dateFormat(e.fromDate,app_config.serverDateTimePattern),toDate:dateFormat(e.toDate,app_config.serverDateTimePattern)};e.getDropdownContainer("fund.source").empty().addClass("data-loading"),e.participant.fund.source.fetch({data:r,success:function(){t.prepareDropdown(e,"fund.source")},error:function(){e.setDropdownError("fund.source")}}),e.getDropdownContainer("product.source").empty().addClass("data-loading"),e.participant.product.source.fetch({data:r,success:function(){t.prepareDropdown(e,"product.source")},error:function(){e.setDropdownError("product.source")}}),e.getDropdownContainer("fund.target").empty().addClass("data-loading"),e.participant.fund.target.fetch({data:r,success:function(){t.prepareDropdown(e,"fund.target")},error:function(){e.setDropdownError("fund.target")}}),e.getDropdownContainer("product.target").empty().addClass("data-loading"),e.participant.product.target.fetch({data:r,success:function(){t.prepareDropdown(e,"product.target")},error:function(){e.setDropdownError("product.target")}})},pageInitHandler:function(){console.log("message page init handler"),this.$el.find("input[type=text]").each(function(){$(this).parent().removeClass("ui-corner-all").removeClass("ui-btn-corner-all")}),BasePage.prototype.pageInitHandler.apply(this,arguments)},pageBeforeShowHandler:function(){this.tabView.enableNicescroll(!0)},pageHideHandler:function(){this.tabView.enableNicescroll(!1)}}),define("messagePage",["basePage","tabDetails","tabDailySummary","tabMessages","tabSendOutgoing"],function(){}),window.TabFundRegister=TabContentView.extend({initialize:function(){TabContentView.prototype.initialize.apply(this,arguments),this.tabName=$.i18n.prop("tab.fund.register"),this.model=new FundRegisters,this.prepareContent()},prepareContent:function(){var e=this;this.fundRegisterFilter=new GenericElementView({tagName:"form",attributes:{action:"#"},templateName:"partial/tab-fund-register-filter",fundServiceAddressLabel:$.i18n.prop("loadFVS.info.label.fund.service.address"),gatewayServiceAddressLabel:$.i18n.prop("loadFVS.info.label.gateway.service.address"),fundNameLabel:$.i18n.prop("loadFVS.info.label.fund.name"),abnLabel:$.i18n.prop("loadFVS.info.label.abn"),productNameLabel:$.i18n.prop("loadFVS.info.label.product.name"),usiLabel:$.i18n.prop("loadFVS.info.label.usi"),btnFilter:$.i18n.prop("button.filter"),btnClear:$.i18n.prop("button.clear")}),this.subViews.push(this.fundRegisterFilter),this.tableContainer=new GenericElementView({attributes:{"class":"table-scroll-wrapper"}}),this.subViews.push(this.tableContainer),this.setDataReady(),this.fundRegisterFilter.$el.find("input[type=text]").each(function(){$(this).parent().removeClass("ui-corner-all")}),setTimeout(function(){e.loadData()},300),this.attachFilterEvent()},attachFilterEvent:function(){var e=this;this.fundRegisterFilter.$el.find("button").on("click",function(t){var n=$(t.currentTarget).data("type");return n=="filter"?e.registerFilter():n=="reset"&&e.fundRegisterFilter.el.reset(),!1});return},loadData:function(e){this.blockFilter(!0,$.i18n.prop("message.tabs.fund.register.loading"));var t=this;this.model.fetch({success:function(){t.drawFundRegisterTable()},error:function(){t.displayMessage($.i18n.prop("message.loadfvs.request.failed"),!0)},complete:function(){t.blockFilter(!1)}})},drawFundRegisterTable:function(){this.tableView=new TableView({useDataTable:!0,enableSmartResize:!0,attributes:{"class":"table-style-1 table-width-180percent medium-text",cellspacing:"0",cellpadding:"0"},bindings:{headers:[{title:$.i18n.prop("loadFVS.info.label.participant.id"),dataAttribute:"superstreamParticipantId",width:"5%"},{title:$.i18n.prop("loadFVS.info.label.fund.name"),dataAttribute:"name",width:"9%"},{title:$.i18n.prop("loadFVS.info.label.product.name"),dataAttribute:"productName",width:"4%"},{title:$.i18n.prop("loadFVS.info.label.abn"),dataAttribute:"abn",width:"5%"},{title:$.i18n.prop("loadFVS.info.label.usi"),dataAttribute:"usi",width:"6%"},{title:$.i18n.prop("loadFVS.info.label.fund.administrator"),dataAttribute:"fundAdministratorId",width:"5%"},{title:$.i18n.prop("loadFVS.info.label.status"),dataAttribute:"status",width:"3%"},{title:$.i18n.prop("loadFVS.info.label.effective"),dataAttribute:"effectiveDate",width:"5%",type:"numeric",dataFormat:function(e,t,n){return t=="sort"||t=="filter"?e:dateFormat(e,app_config.dateTimePattern)}},{title:$.i18n.prop("loadFVS.info.label.end"),dataAttribute:"endDate",width:"5%",type:"numeric",dataFormat:function(e,t,n){return t=="sort"||t=="filter"?e:dateFormat(e,app_config.dateTimePattern)}},{title:$.i18n.prop("loadFVS.info.label.contact"),dataAttribute:"contactPerson",width:"4%"},{title:$.i18n.prop("loadFVS.info.label.phone"),dataAttribute:"contactPhoneNumber",width:"4%"},{title:$.i18n.prop("loadFVS.info.label.email"),dataAttribute:"emailAddress",width:"6%"},{title:$.i18n.prop("loadFVS.info.label.client"),dataAttribute:"gatewayClientFlag",width:"3%"},{title:$.i18n.prop("loadFVS.info.label.participant.type"),dataAttribute:"participantType",width:"3%"},{title:$.i18n.prop("loadFVS.info.label.profile"),dataAttribute:"profile",width:"5%"},{title:$.i18n.prop("loadFVS.info.label.fund.service.address"),dataAttribute:"serviceAddressFund",width:"12%"},{title:$.i18n.prop("loadFVS.info.label.gateway.service.address"),dataAttribute:"serviceAddressGateway",width:"12%"},{title:$.i18n.prop("loadFVS.info.label.website"),dataAttribute:"websiteAddress",width:"6%"}],data:this.model.toJSON()}}),this.tableContainer.$el.empty().append(this.tableView.render().el),this.tableView.enableDataTable({sDom:"lrtip",sPaginationType:"full_numbers",iDisplayLength:app_config.numberOfDataRows,bAutoWidth:!1}),this.tableView.$el.siblings(".dataTables_length").appendTo(this.fundRegisterFilter.$el.find(".table-length-dropdown-placeholder"))},blockFilter:function(e,t){if(this.firstLoad)return;typeof e=="undefined"&&(e=!0),e?(this.tableView&&this.tableView.$el.block(),this.fundRegisterFilter.$el.block({message:"<div class='data-loading'><span>"+t+"</span></div>"})):(this.tableView&&this.tableView.$el.unblock(),this.fundRegisterFilter.$el.unblock())},filterTable:function(e){console.log("Applying filter for: "+e),this.tableView&&this.tableView.$el.fnFilter(e)},registerFilter:function(){var e=this.tableView.parseFilterString(this.fundRegisterFilter.$el.serialize());console.log("filters",e),this.tableView.applyFilter(e)}}),define("tabFundRegister",["commonView","helpers","jqueryBlockUI","messageModels"],function(){}),window.TabUploadRegister=TabContentView.extend({initialize:function(){TabContentView.prototype.initialize.apply(this,arguments),this.tabName=$.i18n.prop("tab.upload.register"),this.prepareContainers()},prepareContainers:function(){var e=this;this.uploadRegisterTemplate=new GenericElementView({tagName:"form",attributes:{action:"#"},templateName:"partial/tab-upload-register",fileUploadLabel:$.i18n.prop("loadFVS.info.label.choose.file.upload"),btnUpload:$.i18n.prop("button.upload"),btnbrowse:$.i18n.prop("button.browse")}),this.subViews.push(this.uploadRegisterTemplate),this.setDataReady(),this.uploadRegisterTemplate.$el.find("input[type=file]").each(function(){$(this).parent().removeClass("ui-corner-all")}),setTimeout(function(){e.uploadRegister()},200)},disableUploadButton:function(e){e?this.uploadRegisterTemplate.$el.find("button[data-type=upload]").button("disable"):this.uploadRegisterTemplate.$el.find("button[data-type=upload]").button("enable")},uploadRegister:function(){var e=this;this.disableUploadButton(!0),this.uploadRegisterTemplate.$el.on("change","input[type=file]",function(t){var n=$(t.target).val(),r=n.substr(n.lastIndexOf(".")+1);n==""?e.disableUploadButton(!0):r!="csv"?Dialog.showMessage($.i18n.prop("message.loadfvs.type.file.must.csv")):(e.uploadRegisterTemplate.$el.find("#tab-upload-file-name").val(n),e.disableUploadButton(!1))}).on("submit",function(){return!1})}}),define("tabUploadRegister",["commonView","jqueryBlockUI","messageModels"],function(){}),window.LoadFVSPage=BasePage.extend({initialize:function(){this.menuIndex=3,BasePage.prototype.initialize.apply(this,arguments),this.pageId="loadFVS",this.prepareData()},prepareData:function(){this.createTabs()},createTabs:function(){this.tabContentViews=[],this.tabFundRegister=new TabFundRegister({}),this.tabContentViews.push(this.tabFundRegister),FeaturesEnabler.shouldEnable("uploadService")&&(this.tabUploadRegister=new TabUploadRegister({}),this.tabContentViews.push(this.tabUploadRegister)),this.tabView=new TabsView({tabs:this.tabContentViews}),this.mainContents.push(this.tabView)},pageInitHandler:function(){console.log("loadfvs page init handler"),this.$el.find("input[type=text]").each(function(){$(this).parent().removeClass("ui-corner-all")}),this.$el.find("input[type=file]").each(function(){$(this).parent().removeClass("ui-corner-all")}),BasePage.prototype.pageInitHandler.apply(this,arguments)}}),define("loadFVSPage",["basePage","tabFundRegister","tabUploadRegister"],function(){}),window.GTabletRouter=window.CacheRouter.extend({routes:{"":"home",home:"home",login:"login",loadFVS:"loadFVS","change-password(/:usernameParam)":"changePassword"},initialize:function(){CacheRouter.prototype.initialize.apply(this,arguments),this.sessionTimeoutInitialize()},sessionTimeoutInitialize:function(){window.sessionTimeOut&&clearTimeout(window.sessionTimeOut),window.sessionTimeOut=setTimeout(function(){app.reset()},app_config.sessionTimeoutDuration*1e3),$(document).off("tap",this.sessionTimeoutHandler).on("tap",this.sessionTimeoutHandler)},sessionTimeoutHandler:function(){if(Backbone.history.fragment=="login")return;window.sessionTimeOut&&(clearTimeout(window.sessionTimeOut),window.sessionTimeOut=setTimeout(function(){$.jGrowl(String.format($.i18n.prop("message.session.timedout"),app_config.sessionTimeoutDuration),{sticky:!1,life:app_config.sessionTimeoutDuration/2*1e3,position:"top-right"}),app.reset()},app_config.sessionTimeoutDuration*1e3))},home:function(){window.loginDetails?this.navigate("messages"):this.navigate("login")},login:function(){this.destroyPageCache(["login","logout"]),delete window.loginDetails,this.handleRouteAny("#login",0)},loadFVS:function(){FeaturesEnabler.shouldEnable("fundRegisterService")?this.handleRouteAny("#loadFVS"):this.navigate("notFound")},changePassword:function(e){var t="",n="";if(window.loginDetails)t=window.loginDetails.attributes.userName,n="hidden";else{if(!e){this.navigate("notFound");return}t=e,n="text";var r=$.i18n.prop("message.password.firsttime")}$.extend($.validator.messages,{pattern:$.i18n.prop("message.password.format.validation")});var i=_.template(tpl.get("partial/form-change-password")),s=$(i({usernameLabel:$.i18n.prop("label.form.usernameLabel"),usernameType:n,username:t,oldPasswordLabel:$.i18n.prop("label.form.oldpasswordLabel"),newPasswordLabel:$.i18n.prop("label.form.newpasswordLabel"),newPasswordAgainLabel:$.i18n.prop("label.form.newpasswordagainLabel"),btnOk:$.i18n.prop("button.ok"),btnCancel:$.i18n.prop("button.cancel")}));$(document).simpledialog2({mode:"blank",zindex:1500,headerText:"Password update",width:"auto",blankContent:s,callbackOpen:function(){s.validate({rules:{username:{required:!0},old_password:{required:!0},new_password:{required:!0,pattern:app_config.passwordRegex},new_password_again:{equalTo:"input[name=new_password]"}}}),s.find("input").parent().removeClass("ui-corner-all"),r&&s.find("#change_password_notification").text(r).show(),s.find("button").click(function(e){s.submitValue=$(this).val()}),s.submit(function(){return!1}),s.submit(function(){if(s.submitValue=="cancel")$.mobile.sdCurrentDialog.close();else if(s.valid()){t||(t=s.find("input[name=username]").val());var n={username:t,oldPassword:s.find("input[name=old_password]").val(),newPassword:s.find("input[name=new_password]").val(),newPasswordConfirm:s.find("input[name=new_password_again]").val()},r=s.find("#change_password_notification");s.submited=!0,s.find("button").button("disable"),s.find("input[type=text]").textinput("disable"),r.text($.i18n.prop("message.changepwd.changing")).show().addClass("data-loading").removeClass("text-red"),gapi.changePassword(n,function(t,n){n=="success"?t.changed?(r.text(e?$.i18n.prop("message.changepwd.success.firsttime"):$.i18n.prop("message.changepwd.success")),$.mobile.sdCurrentDialog.startClosingInterval(),s.find("button").val("cancel").button("enable")):(r.addClass("text-red").text(t.reasonNotChanged),s.find("button").button("enable"),s.find("input[type=text]").textinput("enable")):(r.addClass("text-red").text($.i18n.prop("message.login.error.server.does.not.accept")),s.find("button").button("enable"),s.find("input[type=text]").textinput("enable")),r.removeClass("data-loading")})}return!1})},callbackClose:function(){clearInterval($.mobile.sdCurrentDialog.closeInterval),clearTimeout($.mobile.sdCurrentDialog.closeTimeout),window.history.back()}}),e||($.mobile.sdCurrentDialog.closeTimeout=setTimeout(function(){$.mobile.sdCurrentDialog.startClosingInterval(!0)},app_config.autoCloseDialogSeconds*1e3),s.on("tap keydown",function(){$.mobile.sdCurrentDialog.closeTimeout&&(clearTimeout($.mobile.sdCurrentDialog.closeTimeout),!s.submited&&$.mobile.sdCurrentDialog.closeInterval&&$.mobile.sdCurrentDialog.stopClosingInterval()),$.mobile.sdCurrentDialog.closeTimeout=setTimeout(function(){$.mobile.sdCurrentDialog&&$.mobile.sdCurrentDialog.startClosingInterval(!0)},app_config.autoCloseDialogSeconds*1e3)})),$.mobile.sdCurrentDialog.startClosingInterval=function(e,t){var n=s.find("#change_password_closing_notification"),r=n.children("span");n.occuredTime=t!==undefined&&!isNaN(t)?t:app_config.autoCloseDialogIntervalCount,r.text(String.format($.i18n.prop("message.changepwd.closing"),n.occuredTime,n.occuredTime==1?"":"s")),e&&n.stop(!0,!0).fadeIn(),$.mobile.sdCurrentDialog.closeInterval=setInterval(function(){n.occuredTime--,r.text(String.format($.i18n.prop("message.changepwd.closing"),n.occuredTime,n.occuredTime==1?"":"s")),n.occuredTime==0&&$.mobile.sdCurrentDialog.close()},1e3)},$.mobile.sdCurrentDialog.stopClosingInterval=function(){if($.mobile.sdCurrentDialog.closeInterval){clearInterval(this.closeInterval);var e=s.find("#change_password_closing_notification");e.hide()}}},reset:function(){CacheRouter.prototype.reset.apply(this,arguments),sessionStorage.clear(),this.destroyPageCache(),delete window.loginDetails,this.navigate("login")}}),define("appRouter",["commonActions","commonView","jqueryJgrowl","commonPage","jqueryi18n","messagePage","loadFVSPage"],function(){}),require(["jquery","utils","appRouter"],function(e){e(document).ready(function(){e("div#inital-loading-indicator").remove(),e.mobile.showPageLoadingMsg("",app_config.initializingMessage),e.i18n.properties({name:"mobile-messages",path:"bundle/",mode:"map",language:"n"}),tpl.loadTemplates(["partial/header-generic","partial/header-generic-action","partial/header-action","partial/header-login","partial/footer-copyright","partial/footer-login","partial/footer-generic","partial/not-found","partial/form-login","partial/logout","partial/form-change-password","partial/form-change-password","partial/error","partial/tab-summary-filter","partial/tab-messages-filter","partial/tab-details-filter","partial/tab-fund-register-filter","partial/tab-upload-register","partial/message-details","partial/message-details-raw","partial/document-details","partial/message-details-title","partial/message-notification","partial/configuration","partial/accordion-section-title","partial/table-empty","partial/tab-summary-section-title","partial/icon-green-tick","partial/icon-red-cross","partial/icon-yellow-warning","partial/list-item-col1","partial/list-item-col2","partial/list-item-col3","partial/list-item-col4","partial/list-item-col5","partial/list-item-col6"],function(){e.mobile.hidePageLoadingMsg(),window.app=new GTabletRouter,Backbone.history.start({pushState:!1}),e(document).ajaxError(function(e,t,n){if(t.status<400){app.navigate("login");return}})})})}),define("js/main",function(){}),this.loadCss("css/themes/gmobile/gmobile.min.css"),this.loadCss("css/themes/gmobile/jquery.mobile.structure-1.3.0.min.css"),this.loadCss("css/themes/gmobile/gmobile.override.css"),this.loadCss("lib/jquery-plugins/jquery-ui-1.10.3.custom.autocomplete/css/no-theme/jquery-ui-1.10.3.custom.min.css"),this.loadCss("lib/jquery-plugins/jquery-tags-input/jquery.tagsinput.css"),this.loadCss("lib/jquery-plugins/jquery-jqplot/jquery.jqplot.min.css"),this.loadCss("lib/jquery-plugins/jquery-datatable/media/css/jquery.dataTables.css"),this.loadCss("lib/jquery-plugins/jquery-snippet/jquery.snippet.min.css"),this.loadCss("lib/jquery-plugins/jquery-jgrowl/jquery.jgrowl.min.css"),this.loadCss("lib/jquery-plugins/jqm-datebox/jqm-datebox-1.1.0.min.css"),this.loadCss("lib/jquery-plugins/jqm-datebox/jquery.mobile.simpledialog.min.css"),this.loadCss("lib/jquery-plugins/jqm-simpledialog2/jquery.mobile.simpledialog.min.css"),this.loadCss("sharedcss/common.css"),this.loadCss("css/table-styling.css"),this.loadCss("css/global.css"),define("loadCss",function(){});